{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"themes/matery/source/css/bb.css","path":"css/bb.css","modified":1,"renderable":1},{"_id":"themes/matery/source/css/gitment.css","path":"css/gitment.css","modified":1,"renderable":1},{"_id":"themes/matery/source/css/matery.css","path":"css/matery.css","modified":1,"renderable":1},{"_id":"themes/matery/source/css/my-gitalk.css","path":"css/my-gitalk.css","modified":1,"renderable":1},{"_id":"themes/matery/source/css/my.css","path":"css/my.css","modified":1,"renderable":1},{"_id":"themes/matery/source/js/matery.js","path":"js/matery.js","modified":1,"renderable":1},{"_id":"themes/matery/source/js/search.js","path":"js/search.js","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/avatar.jpg","path":"medias/avatar.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/comment_bg.png","path":"medias/comment_bg.png","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/favicon.png","path":"medias/favicon.png","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/icp.png","path":"medias/icp.png","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/logo.png","path":"medias/logo.png","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/animate/animate.min.css","path":"libs/animate/animate.min.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/aos/aos.css","path":"libs/aos/aos.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/aos/aos.js","path":"libs/aos/aos.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/aplayer/APlayer.min.css","path":"libs/aplayer/APlayer.min.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/aplayer/APlayer.min.js","path":"libs/aplayer/APlayer.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/background/canvas-nest.js","path":"libs/background/canvas-nest.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/background/ribbon-dynamic.js","path":"libs/background/ribbon-dynamic.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/background/ribbon-refresh.min.js","path":"libs/background/ribbon-refresh.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/background/ribbon.min.js","path":"libs/background/ribbon.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/codeBlock/codeBlockFuction.js","path":"libs/codeBlock/codeBlockFuction.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/codeBlock/codeCopy.js","path":"libs/codeBlock/codeCopy.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/codeBlock/codeLang.js","path":"libs/codeBlock/codeLang.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/codeBlock/codeShrink.js","path":"libs/codeBlock/codeShrink.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/cryptojs/crypto-js.min.js","path":"libs/cryptojs/crypto-js.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/dplayer/DPlayer.min.css","path":"libs/dplayer/DPlayer.min.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/dplayer/DPlayer.min.js","path":"libs/dplayer/DPlayer.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/echarts/echarts.min.js","path":"libs/echarts/echarts.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/gitalk/gitalk.css","path":"libs/gitalk/gitalk.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/gitalk/gitalk.min.js","path":"libs/gitalk/gitalk.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/gitment/gitment-default.css","path":"libs/gitment/gitment-default.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/gitment/gitment.js","path":"libs/gitment/gitment.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/instantpage/instantpage.js","path":"libs/instantpage/instantpage.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/jqcloud/jqcloud-1.0.4.min.js","path":"libs/jqcloud/jqcloud-1.0.4.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/jqcloud/jqcloud.css","path":"libs/jqcloud/jqcloud.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/jquery/jquery.min.js","path":"libs/jquery/jquery.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/masonry/masonry.pkgd.min.js","path":"libs/masonry/masonry.pkgd.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/minivaline/MiniValine.js","path":"libs/minivaline/MiniValine.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/materialize/materialize.min.css","path":"libs/materialize/materialize.min.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/materialize/materialize.min.js","path":"libs/materialize/materialize.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/others/busuanzi.pure.mini.js","path":"libs/others/busuanzi.pure.mini.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/others/clicklove.js","path":"libs/others/clicklove.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/prism/prism.css","path":"libs/prism/prism.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/scrollprogress/scrollProgress.min.js","path":"libs/scrollprogress/scrollProgress.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/tocbot/tocbot.css","path":"libs/tocbot/tocbot.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/tocbot/tocbot.min.js","path":"libs/tocbot/tocbot.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/twikoo/twikoo.all.min.js","path":"libs/twikoo/twikoo.all.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/twikoo/twikoo.all.min.js.LICENSE.txt","path":"libs/twikoo/twikoo.all.min.js.LICENSE.txt","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/valine/Valine.min.js","path":"libs/valine/Valine.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/valine/av-min.js","path":"libs/valine/av-min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/banner/0.jpg","path":"medias/banner/0.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/banner/1.jpg","path":"medias/banner/1.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/banner/2.jpg","path":"medias/banner/2.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/banner/3.jpg","path":"medias/banner/3.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/banner/4.jpg","path":"medias/banner/4.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/banner/5.jpg","path":"medias/banner/5.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/banner/6.jpg","path":"medias/banner/6.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/0.jpg","path":"medias/featureimages/0.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/1.jpg","path":"medias/featureimages/1.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/10.jpg","path":"medias/featureimages/10.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/11.jpg","path":"medias/featureimages/11.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/12.jpg","path":"medias/featureimages/12.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/13.jpg","path":"medias/featureimages/13.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/14.jpg","path":"medias/featureimages/14.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/15.jpg","path":"medias/featureimages/15.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/16.jpg","path":"medias/featureimages/16.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/17.jpg","path":"medias/featureimages/17.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/18.jpg","path":"medias/featureimages/18.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/19.jpg","path":"medias/featureimages/19.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/2.jpg","path":"medias/featureimages/2.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/20.jpg","path":"medias/featureimages/20.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/21.jpg","path":"medias/featureimages/21.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/22.jpg","path":"medias/featureimages/22.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/23.jpg","path":"medias/featureimages/23.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/3.jpg","path":"medias/featureimages/3.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/4.jpg","path":"medias/featureimages/4.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/5.jpg","path":"medias/featureimages/5.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/6.jpg","path":"medias/featureimages/6.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/7.jpg","path":"medias/featureimages/7.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/8.jpg","path":"medias/featureimages/8.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/9.jpg","path":"medias/featureimages/9.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/reward/alipay.jpg","path":"medias/reward/alipay.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/reward/wechat.png","path":"medias/reward/wechat.png","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.eot","path":"libs/awesome/webfonts/fa-brands-400.eot","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.ttf","path":"libs/awesome/webfonts/fa-brands-400.ttf","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/css/all.css","path":"libs/awesome/css/all.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.svg","path":"libs/awesome/webfonts/fa-brands-400.svg","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.woff","path":"libs/awesome/webfonts/fa-brands-400.woff","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.eot","path":"libs/awesome/webfonts/fa-regular-400.eot","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.woff2","path":"libs/awesome/webfonts/fa-brands-400.woff2","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.ttf","path":"libs/awesome/webfonts/fa-regular-400.ttf","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.svg","path":"libs/awesome/webfonts/fa-regular-400.svg","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.woff","path":"libs/awesome/webfonts/fa-regular-400.woff","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.eot","path":"libs/awesome/webfonts/fa-solid-900.eot","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.ttf","path":"libs/awesome/webfonts/fa-solid-900.ttf","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.woff2","path":"libs/awesome/webfonts/fa-regular-400.woff2","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.svg","path":"libs/awesome/webfonts/fa-solid-900.svg","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.woff","path":"libs/awesome/webfonts/fa-solid-900.woff","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.woff2","path":"libs/awesome/webfonts/fa-solid-900.woff2","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/img/vimeo-play.png","path":"libs/lightGallery/img/vimeo-play.png","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/img/video-play.png","path":"libs/lightGallery/img/video-play.png","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/css/lightgallery.min.css","path":"libs/lightGallery/css/lightgallery.min.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/img/youtube-play.png","path":"libs/lightGallery/img/youtube-play.png","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.eot","path":"libs/lightGallery/fonts/lg.eot","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.ttf","path":"libs/lightGallery/fonts/lg.ttf","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.svg","path":"libs/lightGallery/fonts/lg.svg","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.woff","path":"libs/lightGallery/fonts/lg.woff","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/js/lightgallery-all.min.js","path":"libs/lightGallery/js/lightgallery-all.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/share/js/social-share.min.js","path":"libs/share/js/social-share.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/share/js/jquery.share.min.js","path":"libs/share/js/jquery.share.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/img/loading.gif","path":"libs/lightGallery/img/loading.gif","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/share/css/share.min.css","path":"libs/share/css/share.min.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/share/fonts/iconfont.eot","path":"libs/share/fonts/iconfont.eot","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/share/fonts/iconfont.svg","path":"libs/share/fonts/iconfont.svg","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/share/fonts/iconfont.ttf","path":"libs/share/fonts/iconfont.ttf","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/share/fonts/iconfont.woff","path":"libs/share/fonts/iconfont.woff","modified":1,"renderable":1}],"Cache":[{"_id":"source/_posts/Browse-and-save-files-that-require-root-permissions-in-neovim.md","hash":"c7d65ceaf802124e2572bd7ad439fbf7a5082e8b","modified":1616497878575},{"_id":"source/404.md","hash":"754e404779d42f185145006a4e04242d9308a693","modified":1616497878575},{"_id":"source/_posts/basic-tutorial-of-vue-vite-typescript.md","hash":"fa9f8fa11e2dee68fb4034d197f904de9b0ef0f9","modified":1623546182728},{"_id":"source/CNAME","hash":"7257c0821e59bd23023d2e5755357a5befc85f13","modified":1616497878575},{"_id":"source/_posts/build-aarch64-cross-toolchain-on-gentoo-with-crossdev.md","hash":"6698c553d185a6f603accc99022d76e583973d0a","modified":1616497878575},{"_id":"source/_posts/better-highlight-for-go-files-in-vim.md","hash":"d36a9fd912d93094d97c912e02154d3bc27ab6aa","modified":1619619216125},{"_id":"source/_posts/advanced-tutorial-of-vue-vite-typescript.md","hash":"e232e6540a857ed0558dfaf7ac8229e2f43ef52a","modified":1622966797654},{"_id":"source/_posts/create-vue3-project.md","hash":"f6fa558499cd735444d0918a67f5460be66deca8","modified":1621424452113},{"_id":"source/_posts/create-tauri-project-with-vue-typescript-less-vite.md","hash":"74faf6051911e14e7e748dccdff330166f9968a1","modified":1622790332074},{"_id":"source/_posts/develop-fpga-on-linux.md","hash":"5d9ad488f151b5150765eac91f70ef982da8305c","modified":1623829615880},{"_id":"source/_posts/debug-msp430g2-project-on-linux.md","hash":"240d881d34cd87952754e4f0273d8e8d6bacb179","modified":1622450034186},{"_id":"source/_posts/better-use-of-rust-on-gentoo.md","hash":"bf7a51b957b6087fa0bf13f80a8a018ebe093593","modified":1619272046895},{"_id":"source/_posts/develop-stm32-with-rust-environment.md","hash":"477bb6db2fadb31ad880dcf8ddca88294a935c11","modified":1624115827483},{"_id":"source/_posts/develop-stm32-with-rust-preface.md","hash":"624c393808c57006c7dfc31822423436e5998e5e","modified":1624115837248},{"_id":"source/_posts/develop-stm32-with-rust-stm32f103-adc-with-dma.md","hash":"93ef5892b47d9178ee058e86157183efe889d151","modified":1624115843821},{"_id":"source/_posts/develop-stm32-with-rust-stm32f303-horse-race-lamp-with-timer-in-pulling-mode.md","hash":"39a9876b5f84e4ad030f5d12db240ce36c96d216","modified":1624115852699},{"_id":"source/_posts/develop-stm32-with-rust-stm32f303-horse-race-lamp-with-timer-in-interrupt-mode.md","hash":"7f5e02a9dc19ad6e63bacf5956336d6c79545277","modified":1624115847822},{"_id":"source/_posts/develop-stm32-with-rust-stm32f303-light-a-LED.md","hash":"a5d85f4c32acdd5258e75262b66ec4f14b41c06b","modified":1624115858392},{"_id":"source/_posts/develop-stm32-with-rust-stm32f3discovery-can-rtic.md","hash":"7a813462acc76785dfcf5216f101688f1d874315","modified":1624148587035},{"_id":"source/_posts/develop-stm32-with-rust-stm32f3discovery-blink-rtic.md","hash":"a947e37c6c858d385bf273b793842db5215cd79a","modified":1624115869403},{"_id":"source/_posts/develop-stm32-with-rust-stm32f3discovery-adc-rtic.md","hash":"a77bf768c9a025e99097df2070914a6d3357b0e8","modified":1624115864493},{"_id":"source/_posts/develop-stm32-with-rust-stm32f3discovery-i2c-rtic.md","hash":"ac076f44c8c2690626a463328f44abc3f843e151","modified":1624115810025},{"_id":"source/_posts/develop-stm32-with-rust-stm32f3discovery-horse-race-lamp-rtic.md","hash":"286d4fbb9b934dec2b967514b7d78f5bc3ab43e3","modified":1624115874197},{"_id":"source/_posts/develop-stm8-on-linux.md","hash":"d8357e072a11a6e51fb80265e2753bc428fab7be","modified":1624767954323},{"_id":"source/_posts/develop-stm32-with-rust-stm32f3discovery-pwm-rtic.md","hash":"182b9a2e0b5244798c57aff04c6c627ba1090e04","modified":1624115884368},{"_id":"source/_posts/gentoo-compile-error-handling.md","hash":"e00fe9e9ab8a27751a4b132245322a7a815213cb","modified":1616497878579},{"_id":"source/_posts/develop-stm32-with-rust-stm32f3discovery-spi-rtic.md","hash":"7cadc3c37f169c952988fc2a2d807c3f935acbe7","modified":1624148385669},{"_id":"source/_posts/develop-stm32-with-rust-stm32f3discovery-serial-rtic.md","hash":"17bcacf1d7f433687fbba02c36a1aeb44cc6d6b6","modified":1624115889615},{"_id":"source/_posts/gentoo-compiler-selection.md","hash":"8e4d446629f5eb2e95a11159be64b2267ea498bc","modified":1616497878579},{"_id":"source/_posts/gentoo-basic-system-installation.md","hash":"581c8b93e415de1ffe697ccd1d2bae6f7b66afed","modified":1623730716985},{"_id":"source/_posts/gentoo-kool-desktop-environment-installation.md","hash":"aeede0ab66d6041a1c32de6da0c98be5527cac05","modified":1616497878579},{"_id":"source/_posts/gentoo-package-management.md","hash":"dc54a5055f44f069d0a3a7a6d04f454f7c1060b9","modified":1616497878579},{"_id":"source/_posts/gentoo-preface.md","hash":"3da08b2b9dd02a23389cb0af0bcd0829bf290a15","modified":1616497878579},{"_id":"source/_posts/gentoo-tutorials-directory.md","hash":"7566f9978346d4c3c807120d95891b18c0ae41a3","modified":1616497878582},{"_id":"source/_posts/gentoo-system-further-improvement.md","hash":"1f0e471b613cf0a091b185b1ae53dca6991f5823","modified":1616497878582},{"_id":"source/_posts/install-manjaro-on-rpi4.md","hash":"317c13634e5cec931e7abaa7d06b33348c8f181f","modified":1621087359093},{"_id":"source/_posts/install-oracle-jdk-and-jre-on-gentoo.md","hash":"9729cff5f2c86a9e7f5fd9e702c5ae15faae6418","modified":1616497878585},{"_id":"source/_posts/install-rpm-deb-packages-on-gentoo.md","hash":"67a0d6d9d31b05d973d9cfbda3d338cc601e3489","modified":1616497878585},{"_id":"source/_posts/rust-tauri-hello-world.md","hash":"3c9d3a805246e29a9202a4ea5f609292a47cb894","modified":1620743132263},{"_id":"source/_posts/vim-clipboard-history-plugin.md","hash":"34b2a6b732468b797542ccea301c6f90179978ed","modified":1616497878585},{"_id":"source/_posts/spartan-edge-accelerator-board-tutorial.md","hash":"d108d6023ba51af90e7e65a2c59a008911bd35cc","modified":1622731325565},{"_id":"source/_posts/use-realvnc-on-manjaro-on-rpi4.md","hash":"9d8b4147102fc2af7dcb7985c1b25dba6be77fb2","modified":1621087347842},{"_id":"source/_posts/use-vim-as-the-editor-of-systemverilog.md","hash":"4a4bc840d7d09e563d245b397d78a54a2996dba4","modified":1623658743669},{"_id":"source/_posts/vim-debugging-scheme.md","hash":"a7df627ca73a49de0bd11c46f7193a72099c23e1","modified":1616497878585},{"_id":"source/_posts/vim-file-tree.md","hash":"765264c1a840fea88f5184d3e979aba54ac8a199","modified":1616497878585},{"_id":"source/_posts/vim-file-encoding.md","hash":"648b08e3d9d2f270157e1e81e8aafd9570e43b20","modified":1618734080464},{"_id":"source/_posts/vim-automatic-completion.md","hash":"67e9fbe15b462c234f6bb7989265e5ee8242e2f3","modified":1624374136034},{"_id":"source/_posts/vim-markdown-latex.md","hash":"6199b363895af65c1e8f89e96810f22c8e06c283","modified":1616497878585},{"_id":"source/_posts/vim-fuzzy-search-plugin.md","hash":"3e35748b7fbdf24e32ce0557dc77d39f871b8a98","modified":1616500791648},{"_id":"source/_posts/vim-markdown-preview-plugin.md","hash":"bb1097231e3d619d41879c6005fd5f86661162a6","modified":1616497878585},{"_id":"source/_posts/vim-shortcut-key-management.md","hash":"18dcf1cc6d232cff0a8e5209dd089b2fae0424c0","modified":1616497878585},{"_id":"source/_posts/vim-plugin-management.md","hash":"0e16f2e1ad59afbb7a740fe86eae0a6f3782a561","modified":1616497878585},{"_id":"source/_posts/use-custom-snippets-in-vim.md","hash":"b7586a0e6cc75a911b72869d9b87f970e8e12b9f","modified":1622904363605},{"_id":"source/_posts/vim-quickfix.md","hash":"40c6847089260ffdb4d89bf3c6fd94044896dc55","modified":1620630866102},{"_id":"source/_posts/vim-preface.md","hash":"fe89b24b76b199309a535adb0252729baa3456a8","modified":1616497878585},{"_id":"source/_posts/vim-tagbar.md","hash":"39367961545221cfbad3876ec936b04a5c3dd8a1","modified":1616497878585},{"_id":"source/about/index.md","hash":"9eb95bb8923fb4785f4044b575d286e380f906f6","modified":1616497878585},{"_id":"source/_data/friends.json","hash":"bd33c04884c4603d47d11f7f01ca0db5c4c673e5","modified":1623456573170},{"_id":"source/categories/index.md","hash":"f736ce49c5efcd4246dca56cb98b976d513f32bd","modified":1616497878585},{"_id":"source/friends/index.md","hash":"671d9afceed403490c583fd1befbda92f6ae3909","modified":1616497878585},{"_id":"source/tags/index.md","hash":"a0f3e579c8e2c9020a34ba83028fb57801d76d80","modified":1616497878585},{"_id":"source/contact/index.md","hash":"6bc00b43cab557af1be7644505fd8561d8be2468","modified":1616497878585},{"_id":"source/_posts/gentoo-basic-system-installation/3.png","hash":"030a4e86fde14342cfe3009b4379fc7052258fbe","modified":1616497878579},{"_id":"source/_posts/gentoo-basic-system-installation/1.png","hash":"9876d487b6f6926159cc894531d71c6e0890aa20","modified":1616497878575},{"_id":"source/_posts/gentoo-basic-system-installation/2.png","hash":"effb90b8e9f83398724e8a3a415b319f7adda409","modified":1616497878579},{"_id":"source/_posts/gentoo-package-management/2.png","hash":"7191ab865c25c8c104f650177ab6fd864a9cea4a","modified":1616497878579},{"_id":"source/_posts/install-manjaro-on-rpi4/3.png","hash":"16c5e82436a9cced715a8fc7b66bb193ae5b2525","modified":1621087058780},{"_id":"source/_posts/vim-shortcut-key-management/1.png","hash":"3c890a163cc47885bce9c3fee5d4a9076e530cc2","modified":1616497878585},{"_id":"source/_posts/basic-tutorial-of-vue-vite-typescript/1.png","hash":"25c27d87e0bf086c56f194ff8a10751f038ea518","modified":1620828118912},{"_id":"source/_posts/gentoo-package-management/1.png","hash":"ed96f4c4d92572f15403cc9be75252932be93812","modified":1616497878579},{"_id":"source/_posts/gentoo-package-management/3.png","hash":"fc7ad697702568ba3df4e7875545c24b28052aef","modified":1616497878579},{"_id":"source/_posts/gentoo-preface/1.png","hash":"87d58781f1eccfda78711055543de2f613ed99af","modified":1616497878582},{"_id":"source/_posts/install-manjaro-on-rpi4/2.png","hash":"afea3fbe78c9e5df281215c7ec67153281dc4ff5","modified":1621087042149},{"_id":"source/_posts/install-manjaro-on-rpi4/1.png","hash":"b67018d5dd3a0e1ee69efa424e8592a9bb5e36f6","modified":1621086961162},{"_id":"themes/matery/.gitignore","hash":"727607929a51db7ea10968f547c26041eee9cfff","modified":1616498072635},{"_id":"themes/matery/CHANGELOG.md","hash":"084ec8b110a20170d08a0aa5fd8accf601051835","modified":1616498072635},{"_id":"themes/matery/LICENSE","hash":"7df059597099bb7dcf25d2a9aedfaf4465f72d8d","modified":1616498072635},{"_id":"themes/matery/README.md","hash":"a57adad34e9f6efe25aee84e5043b923201dd456","modified":1616498072635},{"_id":"themes/matery/README_CN.md","hash":"02f92396b41f7deea24d590ab11b5e079ceb39ef","modified":1616498072635},{"_id":"themes/matery/languages/default.yml","hash":"75dfe9de9e126abb09e6c4cb78a95bba854e84c7","modified":1616498072635},{"_id":"themes/matery/languages/zh-CN.yml","hash":"a957b05f70265a86a87d922e18488571809d2472","modified":1616498072635},{"_id":"themes/matery/_config.yml","hash":"0f8a830bc360b97d2962d1b5cd3869ae95199538","modified":1621175749119},{"_id":"themes/matery/languages/zh-HK.yml","hash":"ae34ac0e175c3037675722e436637efbceea32f0","modified":1616498072635},{"_id":"themes/matery/layout/404.ejs","hash":"9c8ca67377211e5d60fdde272a975faa9a91a22a","modified":1616498072635},{"_id":"themes/matery/layout/about.ejs","hash":"99a74316aed478efb0db823c4460ee2e660f101c","modified":1616498072639},{"_id":"themes/matery/layout/bb.ejs","hash":"21959d702f17a3d98b716daf44c8b5eecd59c7c5","modified":1616498072639},{"_id":"themes/matery/layout/archive.ejs","hash":"cdac701de8370f9f3794a0eed4165983993a1ca7","modified":1616498072639},{"_id":"themes/matery/layout/categories.ejs","hash":"8e54665cc25d7c333da7d9f312987190be6215da","modified":1616498072639},{"_id":"themes/matery/layout/contact.ejs","hash":"cff60f87f69155707f3a33731c7fac945cf7cd93","modified":1616498072639},{"_id":"themes/matery/layout/category.ejs","hash":"00019bca11fb46477f22017cb1f5ad8444da0580","modified":1616498072639},{"_id":"themes/matery/layout/friends.ejs","hash":"51e5369ec6b017cc702a8d957fc052c59dd4c3d7","modified":1616498072639},{"_id":"themes/matery/layout/layout.ejs","hash":"4bfb9e946a90724fc8a902efe404c7b20549a38c","modified":1616498072639},{"_id":"themes/matery/layout/index.ejs","hash":"4dc6f08e7709cc04e886be72dbf0d06469f0effc","modified":1616498072639},{"_id":"themes/matery/layout/post.ejs","hash":"90b5a4c1f70e4756db569c15a7c6cad0c77c4500","modified":1616498072639},{"_id":"themes/matery/layout/tag.ejs","hash":"85a4b05bd8a6ad0f17ff2e97dae56949b379c204","modified":1616498072639},{"_id":"themes/matery/layout/tags.ejs","hash":"cf9517aa6a0111355121f44615d6923e312283c7","modified":1616498072639},{"_id":"themes/matery/layout/_partial/background.ejs","hash":"aef6edeeb11209831a11d8c7f5d59992e2573335","modified":1616498072635},{"_id":"themes/matery/layout/_partial/back-top.ejs","hash":"47ee36a042bb6d52bbe1d0f329637e8ffcf1d0aa","modified":1616498072635},{"_id":"themes/matery/layout/_partial/baidu-analytics.ejs","hash":"3bbcdb474ca1dcad514bdc4b7763e17c55df04fd","modified":1616498072635},{"_id":"themes/matery/layout/_partial/baidu-push.ejs","hash":"2cebcc5ea3614d7f76ec36670e68050cbe611202","modified":1616498072635},{"_id":"themes/matery/layout/_partial/bg-cover-content.ejs","hash":"c35e4254ff0738878f65251a657b4fdcafc4b270","modified":1616498072635},{"_id":"themes/matery/layout/_partial/bg-cover.ejs","hash":"02191109712f61c0e487b8f0b8466597181a9004","modified":1616498072635},{"_id":"themes/matery/layout/_partial/disqus.ejs","hash":"b2dc2c8b5ed56815e55cc2ea54a6dc4eeba2375d","modified":1616498072635},{"_id":"themes/matery/layout/_partial/changyan.ejs","hash":"cd919d31564e118c2ee8d5cbfb7d51ee6da15d82","modified":1616498072635},{"_id":"themes/matery/layout/_partial/github-link.ejs","hash":"3aeb581bd78ab8e15b858e4c44c03bcf92f20b9e","modified":1616498072635},{"_id":"themes/matery/layout/_partial/footer.ejs","hash":"3be24e4c370671eda53bdfd99fb748f4a22948ba","modified":1616498072635},{"_id":"themes/matery/layout/_partial/gitalk.ejs","hash":"2aa8fbb04b046fa7679092a48372d7e036835dff","modified":1616498072635},{"_id":"themes/matery/layout/_partial/gitment.ejs","hash":"90f6218512ef2eab63ada7ad2fc766ae635a2297","modified":1616498072635},{"_id":"themes/matery/layout/_partial/google-analytics.ejs","hash":"5f4992205617da5f8cc5863c62b5ec46e414e2fb","modified":1616498072635},{"_id":"themes/matery/layout/_partial/head.ejs","hash":"f8438ac80df005934a330b029de292d26f0b6ecb","modified":1616498072635},{"_id":"themes/matery/layout/_partial/header.ejs","hash":"59e38c70f3d8e7165e686e5e84a627835f4321b0","modified":1616498072635},{"_id":"themes/matery/layout/_partial/index-cover.ejs","hash":"85f0ef1c390694a1661e77f44a3ed76555099385","modified":1616498072635},{"_id":"themes/matery/layout/_partial/livere.ejs","hash":"9c3401b42ea7f26410a5593bae93ada7e57b43be","modified":1616498072635},{"_id":"themes/matery/layout/_partial/minivaline.ejs","hash":"738b83cd90fe1b26971d803fc89c56193323da1e","modified":1616498072635},{"_id":"themes/matery/layout/_partial/mobile-nav.ejs","hash":"cb0cb452be1cd1857ba600f04025b506f3b6fc79","modified":1616498072635},{"_id":"themes/matery/layout/_partial/navigation.ejs","hash":"78b70ff24b3039c871331ebec114b936c1756cc8","modified":1616498072635},{"_id":"themes/matery/layout/_partial/paging.ejs","hash":"e2df12cf92a82b1a7a7add2eac1db1d954bc5511","modified":1616498072635},{"_id":"themes/matery/layout/_partial/post-cover.ejs","hash":"d1c873c5de54498c722e155aadb8c0ec39485dfa","modified":1616498072635},{"_id":"themes/matery/layout/_partial/post-detail-toc.ejs","hash":"3ff94aff01936242a9f4e1f31adb9b43bfab8d53","modified":1616498072635},{"_id":"themes/matery/layout/_partial/post-detail.ejs","hash":"7933979c2092654a9c1038ff30495505d7d88f2d","modified":1616498072635},{"_id":"themes/matery/layout/_partial/post-statis.ejs","hash":"04889f9031743c6b081d02fa4027b0dbfcc45ecf","modified":1616498072635},{"_id":"themes/matery/layout/_partial/prev-next.ejs","hash":"c76b78782ea82340104fccc089417572e0adece4","modified":1616498072635},{"_id":"themes/matery/layout/_partial/reward.ejs","hash":"ffc55bc7e73bc698bfc58d8e3780c336b83282cf","modified":1616498072635},{"_id":"themes/matery/layout/_partial/reprint-statement.ejs","hash":"0ce3f9361f558b99cc2f059c5e50b0e2a152ae38","modified":1616498072635},{"_id":"themes/matery/layout/_partial/search.ejs","hash":"150529c9fb9aa8ddb42ec3e02645d301faa2503b","modified":1616498072639},{"_id":"themes/matery/layout/_partial/share.ejs","hash":"c941730a2471d6aab367cbb6e09ed08b56c83143","modified":1616498072639},{"_id":"themes/matery/layout/_partial/social-link.ejs","hash":"6f871bd3a70f720e4e451f1f4f625cbc6d8994a4","modified":1616498072639},{"_id":"themes/matery/layout/_partial/twikoo.ejs","hash":"f9cb8c82b9d2a7cdb644e10718f1cdeb9400414c","modified":1616498072639},{"_id":"themes/matery/layout/_widget/artitalk.ejs","hash":"b14e486f12b9ac42a273b80e4d785fcb94cf04b2","modified":1616498072639},{"_id":"themes/matery/layout/_widget/category-cloud.ejs","hash":"1b3df1009234c0112424b497b18b4ad8240b3bc7","modified":1616498072639},{"_id":"themes/matery/layout/_partial/valine.ejs","hash":"045f3aaade1dc6749a1f824b0405b5fdb9e041e4","modified":1616498072639},{"_id":"themes/matery/layout/_widget/category-radar.ejs","hash":"1d8747fda89a0b2ca3c7008867cbfeecad0578a6","modified":1616498072639},{"_id":"themes/matery/layout/_widget/dream.ejs","hash":"9a472ad5591100cdb65d0df9d01034163bd6dd9d","modified":1616498072639},{"_id":"themes/matery/layout/_widget/music.ejs","hash":"e9e3e327d5de9d7aeadbde32e1d558652d9e9195","modified":1616498072639},{"_id":"themes/matery/layout/_widget/my-gallery.ejs","hash":"65a2d2f9722f84c7fd98f6bdf79087a14848ebd8","modified":1616498072639},{"_id":"themes/matery/layout/_widget/my-projects.ejs","hash":"ef60b64021fa349b0048425d858dfcf6c906fede","modified":1616498072639},{"_id":"themes/matery/layout/_widget/my-skills.ejs","hash":"89a0092df72d23093128f2fbbdc8ca7f83ebcfd9","modified":1616498072639},{"_id":"themes/matery/layout/_widget/post-calendar.ejs","hash":"48821e644bc73553d7c5c56d2e8ee111a70cd776","modified":1616498072639},{"_id":"themes/matery/layout/_widget/post-charts.ejs","hash":"ab5f986f428215941aeaa0c88aefd440c47d3bcf","modified":1616498072639},{"_id":"themes/matery/layout/_widget/recommend.ejs","hash":"8551137e94ca4e2e3b8b63d5626255884cb60cb5","modified":1616498072639},{"_id":"themes/matery/layout/_widget/tag-cloud.ejs","hash":"fc42b72cddc231f7485cdc1fd6852b66be6add26","modified":1616498072639},{"_id":"themes/matery/layout/_widget/tag-wordcloud.ejs","hash":"487aacb2454d6bf0d21cdb07ddd1fd5ddbca9038","modified":1616498072639},{"_id":"themes/matery/source/css/bb.css","hash":"aa15633888c7cf9baea8bb48d796c68b57cf14bf","modified":1616498072639},{"_id":"themes/matery/layout/_widget/video.ejs","hash":"a0e002377af2a7f7e4da6d9a644de97adb035925","modified":1616498072639},{"_id":"themes/matery/source/css/gitment.css","hash":"2bd15cc17dca35ac3ecc0acf167a23a1dd362acd","modified":1616498072639},{"_id":"themes/matery/source/css/matery.css","hash":"a630f6e8643904073dce9eada57b5c16c4dba5e2","modified":1616498072639},{"_id":"themes/matery/source/css/my-gitalk.css","hash":"af18dd29e58642c18bab9b89541767b494c468dd","modified":1616498072639},{"_id":"themes/matery/source/css/my.css","hash":"497e50351f7838f8546cac76850a42e7e380a110","modified":1616498072639},{"_id":"themes/matery/source/js/matery.js","hash":"b86de5fe3e9766b7ff80df12ea41c3a9e30825f7","modified":1616498072639},{"_id":"themes/matery/source/js/search.js","hash":"e1482406c58ea2a0eb178d7e4efb2c879cdddc80","modified":1616498072639},{"_id":"themes/matery/source/medias/avatar.jpg","hash":"6262562f49af87ee516f69d8272819090b6e77e8","modified":1616498766259},{"_id":"themes/matery/source/medias/icp.png","hash":"27a96f31f7d0413c6ade6f40e06f021f501151c7","modified":1616498756996},{"_id":"themes/matery/source/medias/comment_bg.png","hash":"dfc93d24081884fbc58cab0f8fd19e77d31d6123","modified":1616498756992},{"_id":"themes/matery/source/medias/favicon.png","hash":"634a88eb94f5abcffc8569a1e9ddcfd4cf351c64","modified":1616498756996},{"_id":"themes/matery/source/libs/animate/animate.min.css","hash":"97afa151569f046b2e01f27c1871646e9cd87caf","modified":1616498072639},{"_id":"themes/matery/source/medias/logo.png","hash":"16334e905b89a98d17d7fe65b9cfc11d3f487525","modified":1616498756996},{"_id":"themes/matery/source/libs/aos/aos.js","hash":"02bfb40b0c4b6e9b0b4081218357145cbb327d74","modified":1616498072639},{"_id":"themes/matery/source/libs/aos/aos.css","hash":"191a3705a8f63e589a50a0ff2f2c5559f1a1b6b2","modified":1616498072639},{"_id":"themes/matery/source/libs/aplayer/APlayer.min.css","hash":"07372a2ba507388d0fed166d761b1c2c2a659dce","modified":1616498072639},{"_id":"themes/matery/source/libs/aplayer/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1616498072642},{"_id":"themes/matery/source/libs/background/canvas-nest.js","hash":"65333d0dbb9c1173a1b13031b230161fc42c8b2f","modified":1616498072655},{"_id":"themes/matery/source/libs/background/ribbon.min.js","hash":"6a99d494c030388f96f6086a7aaa0f03f3fe532e","modified":1616498072655},{"_id":"themes/matery/source/libs/background/ribbon-dynamic.js","hash":"052b80c29e6bc585aa28d4504b743bdbac220a88","modified":1616498072655},{"_id":"themes/matery/source/libs/background/ribbon-refresh.min.js","hash":"6d98692b2cad8c746a562db18b170b35c24402f4","modified":1616498072655},{"_id":"themes/matery/source/libs/codeBlock/codeBlockFuction.js","hash":"c7ab06d27a525b15b1eb69027135269e9b9132fb","modified":1616498072655},{"_id":"themes/matery/source/libs/codeBlock/codeLang.js","hash":"bac88b4d4e3679732d29bd037c34f089cf27cf05","modified":1616498072655},{"_id":"themes/matery/source/libs/codeBlock/codeCopy.js","hash":"6d39a766af62e625f177c4d5cf3adc35eed71e61","modified":1616498072655},{"_id":"themes/matery/source/libs/codeBlock/codeShrink.js","hash":"201e8cd761b4be557247bdaf1ebc7c11c83194f6","modified":1616498072655},{"_id":"themes/matery/source/libs/cryptojs/crypto-js.min.js","hash":"5989527a378b55011a59522f41eeb3981518325c","modified":1616498072655},{"_id":"themes/matery/source/libs/dplayer/DPlayer.min.css","hash":"f7d19655f873b813ffba5d1a17145c91f82631b8","modified":1616498072655},{"_id":"themes/matery/source/libs/gitalk/gitalk.css","hash":"940ded3ea12c2fe1ab0820d2831ec405f3f1fe9f","modified":1616498072659},{"_id":"themes/matery/source/libs/jqcloud/jqcloud-1.0.4.min.js","hash":"257eaae3020599e4939f50d5008a743827f25b8c","modified":1616498072662},{"_id":"themes/matery/source/libs/instantpage/instantpage.js","hash":"83ce8919b1a69b2f1809ffaf99b52a8627e650e9","modified":1616498072662},{"_id":"themes/matery/source/libs/gitment/gitment-default.css","hash":"2903c59ee06b965bef32e937bd69f5b0b2190717","modified":1616498072662},{"_id":"themes/matery/source/libs/minivaline/MiniValine.js","hash":"f7f6cdc1b22297e02334e304444e9a8351acb455","modified":1616498072662},{"_id":"themes/matery/source/libs/jqcloud/jqcloud.css","hash":"20d9f11a19d95c70e27cb922e0d6dccbec4eae89","modified":1616498072662},{"_id":"themes/matery/source/libs/masonry/masonry.pkgd.min.js","hash":"ff940b4ea68368ca0e4d5560cbb79fb147dfc3c5","modified":1616498072662},{"_id":"themes/matery/source/libs/others/clicklove.js","hash":"6a39b8c683ba5dcd92f70c6ab45d1cfac3213e8e","modified":1616498072662},{"_id":"themes/matery/source/libs/tocbot/tocbot.css","hash":"9ab8ef576c9a57115194152e79cca79b0a41dd70","modified":1616498072665},{"_id":"themes/matery/source/libs/scrollprogress/scrollProgress.min.js","hash":"777ffe5d07e85a14fbe97d846f45ffc0087251cc","modified":1616498072665},{"_id":"themes/matery/source/libs/others/busuanzi.pure.mini.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1616498072662},{"_id":"themes/matery/source/libs/prism/prism.css","hash":"62e5474893dece076534352f564ceabd6e088a5a","modified":1616498072662},{"_id":"themes/matery/source/libs/twikoo/twikoo.all.min.js.LICENSE.txt","hash":"1e286a31ef472fb864fe2b9502e87df9242df56b","modified":1616498072665},{"_id":"themes/matery/source/libs/tocbot/tocbot.min.js","hash":"5ec27317f0270b8cf6b884c6f12025700b9a565c","modified":1616498072665},{"_id":"themes/matery/source/medias/featureimages/10.jpg","hash":"98e7f6fd9c97d4de9044b6871ca08ebf14db11b9","modified":1616498072672},{"_id":"themes/matery/source/medias/featureimages/13.jpg","hash":"35a320174f8e316e3eadaec658024276b651c6e9","modified":1616498072672},{"_id":"themes/matery/source/medias/featureimages/15.jpg","hash":"da0fbee3b7bde1607eace377ddf834c0be99edfe","modified":1616498072672},{"_id":"themes/matery/source/medias/featureimages/16.jpg","hash":"97a829c4bc94f9d2929b20a1a9b798c57b9f7205","modified":1616498072672},{"_id":"themes/matery/source/medias/featureimages/22.jpg","hash":"754579747a3e99747d890fca3162f370b96a7941","modified":1616498072675},{"_id":"themes/matery/source/medias/featureimages/2.jpg","hash":"4bba691cf71a517ecaeaf42afd3e8f8b31e346c1","modified":1616498072675},{"_id":"themes/matery/source/medias/featureimages/23.jpg","hash":"7d7f37da3fa7128343adac23866449eb2c6a549a","modified":1616498072675},{"_id":"themes/matery/source/medias/featureimages/21.jpg","hash":"b26edb128bb0bf58b23fd2f014e9555e89a2ca3b","modified":1616498072675},{"_id":"themes/matery/source/medias/featureimages/3.jpg","hash":"6ec646c2a70f5f11edacf225c1477f2200a37a96","modified":1616498072675},{"_id":"themes/matery/source/medias/featureimages/5.jpg","hash":"41ca20129a37fedc573eec28dd7d7b9e5b09228a","modified":1616498072675},{"_id":"themes/matery/source/medias/featureimages/7.jpg","hash":"7975141cd64e875122c0ea33daaca1a06bf00b8e","modified":1616498072675},{"_id":"themes/matery/source/medias/featureimages/8.jpg","hash":"8e4b7186352085483ca1174c7c0800114c48df8b","modified":1616498072675},{"_id":"themes/matery/source/medias/reward/alipay.jpg","hash":"1abc719b95d1b26f1f898e6b0a9b7609146e332f","modified":1616498072675},{"_id":"themes/matery/source/medias/reward/wechat.png","hash":"fe93385aa92fe328e01c8221a80b039be9e4e140","modified":1616498072675},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.eot","hash":"439c8afd3373acb4a73135a34e220464a89cd5e2","modified":1616498072645},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.ttf","hash":"0f4bd02942a54a6b3200d9078adff88c2812e751","modified":1616498072649},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.woff","hash":"59439d3ad31d856d78ec3e2bd9f1eafa2c7a581c","modified":1616498072649},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.woff2","hash":"f6f653b4ea8fc487bdb590d39d5a726258a55f40","modified":1616498072649},{"_id":"themes/matery/source/libs/lightGallery/img/video-play.png","hash":"2962e03ddbe04d7e201a5acccac531a2bbccddfc","modified":1616498072662},{"_id":"themes/matery/source/libs/lightGallery/css/lightgallery.min.css","hash":"1b7227237f9785c66062a4811508916518e4132c","modified":1616498072662},{"_id":"themes/matery/source/libs/lightGallery/img/vimeo-play.png","hash":"9b72fc0f86a01467ed0b68c9cc4d604ec316d517","modified":1616498072662},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.eot","hash":"54caf05a81e33d7bf04f2e420736ce6f1de5f936","modified":1616498072662},{"_id":"themes/matery/source/libs/lightGallery/img/youtube-play.png","hash":"f8d11384d33b7a79ee2ba8d522844f14d5067a80","modified":1616498072662},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.woff","hash":"3048de344dd5cad4624e0127e58eaae4b576f574","modified":1616498072662},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.ttf","hash":"f6421c0c397311ae09f9257aa58bcd5e9720f493","modified":1616498072662},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.svg","hash":"9c6632aeec67d3e84a1434884aa801514ff8103b","modified":1616498072662},{"_id":"themes/matery/source/libs/lightGallery/js/lightgallery-all.min.js","hash":"9f5ef4bc8a0a3c746ca4f3c3e6d64493b1a977d8","modified":1616498072662},{"_id":"themes/matery/source/libs/share/css/share.min.css","hash":"8a778a86f3ce9a042df6be63a9f1039631e351a5","modified":1616498072665},{"_id":"themes/matery/source/libs/share/js/jquery.share.min.js","hash":"41367dcb857e02e3c417ebe68a554ce1d4430806","modified":1616498072665},{"_id":"themes/matery/source/libs/share/fonts/iconfont.eot","hash":"00ff749c8e202401190cc98d56087cdda716abe4","modified":1616498072665},{"_id":"themes/matery/source/libs/share/fonts/iconfont.svg","hash":"1d56c9d5db0273f07c43cc1397e440f98ba7827a","modified":1616498072665},{"_id":"themes/matery/source/libs/share/js/social-share.min.js","hash":"a3090a02786dcd4efc6355c1c1dc978add8d6827","modified":1616498072665},{"_id":"themes/matery/source/libs/lightGallery/img/loading.gif","hash":"15a76af2739482d8de7354abc6d8dc4fca8d145e","modified":1616498072662},{"_id":"source/_posts/vim-quickfix/1.png","hash":"57090f4b91bf5bb179a6b8b8a87d3485401938a7","modified":1618658523047},{"_id":"themes/matery/source/libs/share/fonts/iconfont.woff","hash":"2e3fce1dcfbd6e2114e7bfbeaf72d3c62e15a1bd","modified":1616498072665},{"_id":"themes/matery/source/libs/dplayer/DPlayer.min.js","hash":"c3bad7b265574fab0ae4d45867422ea1cb9d6599","modified":1616498072655},{"_id":"themes/matery/source/libs/jquery/jquery.min.js","hash":"2115753ca5fb7032aec498db7bb5dca624dbe6be","modified":1616498072662},{"_id":"themes/matery/source/libs/gitment/gitment.js","hash":"28c02c45ce568e084cd1041dc493f83f9c6c88c6","modified":1616498072662},{"_id":"themes/matery/source/libs/share/fonts/iconfont.ttf","hash":"afd898f59d363887418669520b24d175f966a083","modified":1616498072665},{"_id":"themes/matery/source/libs/valine/Valine.min.js","hash":"6cbdbf91e1f046dd41267a5ff0691a1fccba99df","modified":1616498072665},{"_id":"themes/matery/source/medias/banner/0.jpg","hash":"69ec96cd9b4bc3aa631adc9da61353f50c39f031","modified":1616498072669},{"_id":"themes/matery/source/medias/banner/2.jpg","hash":"39fb2535460ce66cc0b34e07ffb9411db1405f09","modified":1616498072669},{"_id":"themes/matery/source/medias/featureimages/11.jpg","hash":"f55972ce7175684f2b11c3c9fc2b5b14bccbfae8","modified":1616498072672},{"_id":"themes/matery/source/medias/featureimages/0.jpg","hash":"1c3300f029fc85d6dda6fa4f1d699551034cdaf7","modified":1616498072672},{"_id":"themes/matery/source/medias/featureimages/1.jpg","hash":"684ae89de8cb7acefae19f5aee6c612037c46393","modified":1616498072672},{"_id":"themes/matery/source/medias/banner/3.jpg","hash":"4ac047e92d0363b1a61ab756aca6dac13fb77494","modified":1616498072669},{"_id":"themes/matery/source/medias/featureimages/12.jpg","hash":"8a4b2e7d92ae95c3b0c921db23c35aa9a41a7d58","modified":1616498072672},{"_id":"themes/matery/source/medias/featureimages/17.jpg","hash":"42d47903551ee81885c1386022982cae165841c5","modified":1616498072672},{"_id":"themes/matery/source/medias/featureimages/14.jpg","hash":"38e11221406785bcd93aa9cd23e568e164630ef1","modified":1616498072672},{"_id":"themes/matery/source/medias/featureimages/18.jpg","hash":"64829272ec85bb819d55ff89e5b5fd6f64aa436b","modified":1616498072672},{"_id":"themes/matery/source/medias/featureimages/19.jpg","hash":"eb250906fdbc0c408f42ae9933725bc1a05d79fb","modified":1616498072675},{"_id":"themes/matery/source/medias/featureimages/20.jpg","hash":"3b11f9b461168d907073f793190865fe621a8573","modified":1616498072675},{"_id":"themes/matery/source/medias/featureimages/4.jpg","hash":"e06c47de27619984be9d5d02947f8370a432dfea","modified":1616498072675},{"_id":"themes/matery/source/medias/featureimages/6.jpg","hash":"c8f2aa4bbb041158b4e73733a341e6a77c8583f7","modified":1616498072675},{"_id":"themes/matery/source/medias/featureimages/9.jpg","hash":"b956a2291a04b2132366b53666cf34858b8bdb1f","modified":1616498072675},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.eot","hash":"22f9e7d5226408eb2d0a11e118257a3ca22b8670","modified":1616498072642},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.ttf","hash":"91cbeeaceb644a971241c08362898599d6d968ce","modified":1616498072645},{"_id":"themes/matery/source/libs/awesome/css/all.css","hash":"ecc41e32ad2696877a1656749841f3b5543bbe3d","modified":1616498072642},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.woff2","hash":"a46bd47ff0a90b812aafafda587d095cdb844271","modified":1616498072645},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.woff","hash":"18838f5260317da3c5ed29bf844ac8a4f7ad0529","modified":1616498072645},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.woff","hash":"92803b8753ceda573c6906774677c5a7081d2fbb","modified":1616498072655},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.woff2","hash":"9c081b88b106c6c04ecb895ba7ba7d3dcb3b55ac","modified":1616498072655},{"_id":"source/_posts/spartan-edge-accelerator-board-tutorial/1.png","hash":"5e17abc272a5440e033a882207382e473e9aa00d","modified":1622710825141},{"_id":"themes/matery/source/libs/gitalk/gitalk.min.js","hash":"8fefe38f28804f90116bdcb74a0875c9de9f3b7d","modified":1616498072659},{"_id":"themes/matery/source/libs/materialize/materialize.min.css","hash":"a69d456e3345e7f59cd0d47d1b3e70fd4a496a05","modified":1616498072662},{"_id":"themes/matery/source/libs/materialize/materialize.min.js","hash":"c8b4c65651921d888cf5f27430dfe2ad190d35bf","modified":1616498072662},{"_id":"themes/matery/source/libs/valine/av-min.js","hash":"541efb9edc1ce425cbe3897cfc25803211fe6a05","modified":1616498072669},{"_id":"themes/matery/source/medias/banner/5.jpg","hash":"852418f4f09e796e12bc3bab7a1488d3f37d6486","modified":1616498072672},{"_id":"themes/matery/source/medias/banner/1.jpg","hash":"ab122a36998a4f62a61e61a4fc5e00248113413b","modified":1616498072669},{"_id":"themes/matery/source/medias/banner/6.jpg","hash":"d4957ff7cc5e88555cd840f2956ab0561e6f1ccf","modified":1616498766259},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.svg","hash":"3d3a49445343d80f3b553e3e3425b9a7bd49acaf","modified":1616498072649},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.ttf","hash":"9521ed12274c2cbc910cea77657116fcf6545da3","modified":1616498072655},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.eot","hash":"cab8e84ae5682d1d556e234df9c790985888def8","modified":1616498072649},{"_id":"themes/matery/source/medias/banner/4.jpg","hash":"e5ac5033678afa9d69edffe9a61004f836cb5734","modified":1616498072669},{"_id":"themes/matery/source/libs/twikoo/twikoo.all.min.js","hash":"c3f5f0a69b7864e7ef5bbf99fc774bec37947d7c","modified":1616498072665},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.svg","hash":"5e2d2a159294576bea69cc3360efb5ffe110ab2d","modified":1616498072645},{"_id":"themes/matery/source/libs/echarts/echarts.min.js","hash":"9496f386a0da4601cad22c479cc5543913a4d67f","modified":1616498072659},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.svg","hash":"7da88b19e1486f8c968d3cf5ab3f194f01ea17fd","modified":1616498072652},{"_id":"public/baidusitemap.xml","hash":"01631ab51c727dac86725d906d6dbd6367d1bfdf","modified":1624767964448},{"_id":"public/atom.xml","hash":"d1bcd2718b20481118d7fd5f15e65d85dbb5d36b","modified":1624767964448},{"_id":"public/search.xml","hash":"80089019b488ee4d4f73894368e14a0af60dd72e","modified":1624767964448},{"_id":"public/sitemap.xml","hash":"f9eabc7a930154c83b66d5488140bff31721d00e","modified":1624767964448},{"_id":"public/404.html","hash":"52956bf82b4129755eaad7ed90854a5a1f806cfc","modified":1624767964448},{"_id":"public/categories/index.html","hash":"321b1aa33318547f09ad55da82b8528a88e1f236","modified":1624767964448},{"_id":"public/about/index.html","hash":"d98027c5be9665860ac0cba2ed533b574a91eda2","modified":1624767964448},{"_id":"public/contact/index.html","hash":"57ee7164ada5ced695e98337163bd018e7c8825f","modified":1624767964448},{"_id":"public/tags/index.html","hash":"c047e8fecd33bd12bafa14e3a0db5a7342124623","modified":1624767964448},{"_id":"public/friends/index.html","hash":"287f557010fcc7d32c9a15f771e22c7b6d3143c9","modified":1624767964448},{"_id":"public/2021/06/23/develop-stm8-on-linux/index.html","hash":"ac25ed76d0a5d760f29cc7e52c5f236a7d59a727","modified":1624767964448},{"_id":"public/2021/06/20/develop-stm32-with-rust-stm32f3discovery-can-rtic/index.html","hash":"b6e90487de44fdd99beb174c1e5e62ecf48072fb","modified":1624767964448},{"_id":"public/2021/06/20/develop-stm32-with-rust-stm32f3discovery-spi-rtic/index.html","hash":"b12285c88f9a4eaf2378579a229a4a68b1dfd1b9","modified":1624767964448},{"_id":"public/2021/06/19/develop-stm32-with-rust-stm32f3discovery-i2c-rtic/index.html","hash":"6cd34c0c402f285c413d75b5964b2decd13babf6","modified":1624767964448},{"_id":"public/2021/06/19/develop-stm32-with-rust-stm32f3discovery-serial-rtic/index.html","hash":"7a3eb8e0a183c438f61f5e931f8944e0dda480e1","modified":1624767964448},{"_id":"public/2021/06/19/develop-stm32-with-rust-stm32f3discovery-pwm-rtic/index.html","hash":"77f795ecba4f4a9a95e67129373b5c400509042a","modified":1624767964448},{"_id":"public/2021/06/19/develop-stm32-with-rust-stm32f3discovery-adc-rtic/index.html","hash":"0d3ab22355e4da79c734e31eb5c4786ff07c35ec","modified":1624767964448},{"_id":"public/2021/06/19/develop-stm32-with-rust-stm32f3discovery-horse-race-lamp-rtic/index.html","hash":"5b62b56cc82bb53062bfbc32d981eb1531ef5277","modified":1624767964448},{"_id":"public/2021/06/19/develop-stm32-with-rust-stm32f3discovery-blink-rtic/index.html","hash":"b75a9ac87917ea51fc8a26f93a218cfeed013826","modified":1624767964448},{"_id":"public/2021/06/19/develop-stm32-with-rust-stm32f303-horse-race-lamp-with-timer-in-interrupt-mode/index.html","hash":"57ed35df24e1431977e014a4e6c8b612bf8e94a2","modified":1624767964448},{"_id":"public/2021/06/19/develop-stm32-with-rust-stm32f303-horse-race-lamp-with-timer-in-pulling-mode/index.html","hash":"601446df4a3286839907b95f15d5c03d648ea739","modified":1624767964448},{"_id":"public/2021/06/19/develop-stm32-with-rust-stm32f303-light-a-led/index.html","hash":"d892827d288e91df021b3fe4af7386226c5f4b99","modified":1624767964448},{"_id":"public/2021/06/19/develop-stm32-with-rust-stm32f103-adc-with-dma/index.html","hash":"d669c7ad65f7e2abd4aa6dc6aa111d4367302d23","modified":1624767964448},{"_id":"public/2021/06/19/develop-stm32-with-rust-preface/index.html","hash":"13910f4e91eee898c69eccdfb97d513eade7e445","modified":1624767964448},{"_id":"public/2021/06/15/develop-fpga-on-linux/index.html","hash":"a94576a2dff6865e974d015e839ced3b7a8db86e","modified":1624767964448},{"_id":"public/2021/06/06/advanced-tutorial-of-vue-vite-typescript/index.html","hash":"e06b59f1f9a5178df01db91f98ef5bc082ed6271","modified":1624767964448},{"_id":"public/2021/06/05/use-custom-snippets-in-vim/index.html","hash":"dc2ddfb9f48fdd6eb4d3472e6b31ba306c65a392","modified":1624767964448},{"_id":"public/2021/06/04/create-tauri-project-with-vue-typescript-less-vite/index.html","hash":"e96feba1dc8428263f3d84f0c578a1b9719dee2e","modified":1624767964448},{"_id":"public/2021/06/03/spartan-edge-accelerator-board-tutorial/index.html","hash":"23c1f4da27388b779e70832ff84a8dd0707c6e10","modified":1624767964448},{"_id":"public/2021/05/17/basic-tutorial-of-vue-vite-typescript/index.html","hash":"53305f60a031fc010230ba7b0a2eff669aa4c7e5","modified":1624767964448},{"_id":"public/2021/05/15/create-vue3-project/index.html","hash":"e4771b25305909c6aa06706e138dbebeca48d644","modified":1624767964448},{"_id":"public/2021/05/15/use-realvnc-on-manjaro-on-rpi4/index.html","hash":"104e384e5b0ea418960a52d4af1078dba92184ff","modified":1624767964448},{"_id":"public/2021/05/15/install-manjaro-on-rpi4/index.html","hash":"6c78a02318b0bdc1e48fbbc9e3d22f9eb76750a1","modified":1624767964448},{"_id":"public/2021/05/11/rust-tauri-hello-world/index.html","hash":"7c5cc501a3fe0a902d4035a3b494364140559b39","modified":1624767964448},{"_id":"public/2021/04/28/better-highlight-for-go-files-in-vim/index.html","hash":"3191618c8c511dfb6d6f8f75842002162c06609c","modified":1624767964448},{"_id":"public/2021/04/24/better-use-of-rust-on-gentoo/index.html","hash":"105a85e7bcd70ea616cee0e6f30650420788682f","modified":1624767964448},{"_id":"public/2021/04/18/vim-file-encoding/index.html","hash":"0277b564fa4e75a9ff3ab525bef64feaaa7c10a4","modified":1624767964448},{"_id":"public/2021/04/17/vim-quickfix/index.html","hash":"9c3871b6c95adf1b6bfe515f3ad5bbc50270184d","modified":1624767964448},{"_id":"public/2021/03/23/install-rpm-deb-packages-on-gentoo/index.html","hash":"d5fc807c994645ce778b4d25aeb44fb4955822c5","modified":1624767964448},{"_id":"public/2021/03/23/debug-msp430g2-project-on-linux/index.html","hash":"b9c070ed5c5426eb5fcbcdc61d7837398a59d05e","modified":1624767964448},{"_id":"public/2021/03/23/build-aarch64-cross-toolchain-on-gentoo-with-crossdev/index.html","hash":"4e259b0c8e3356ed2580b1f256106917518bddc2","modified":1624767964448},{"_id":"public/2021/03/23/develop-stm32-with-rust-environment/index.html","hash":"061a48327608d52ef5cd1f0bd9faf3ef0671a328","modified":1624767964448},{"_id":"public/2021/03/23/install-oracle-jdk-and-jre-on-gentoo/index.html","hash":"e01d41d95a4d8c5d6b11f0a8067edbd37e92a883","modified":1624767964448},{"_id":"public/2021/03/23/vim-fuzzy-search-plugin/index.html","hash":"2d509f43a00eb8f0302bc5a4a4b998555c7e3741","modified":1624767964448},{"_id":"public/2021/03/23/vim-clipboard-history-plugin/index.html","hash":"f2020897eb02720118df2b9a92d48c082f6d7739","modified":1624767964448},{"_id":"public/2021/03/23/vim-markdown-preview-plugin/index.html","hash":"7fc903623d79e551243c5fa8cd2b1da9fb75fe5c","modified":1624767964448},{"_id":"public/2021/03/23/use-vim-as-the-editor-of-systemverilog/index.html","hash":"9e7be9cfee6f03631c6d6f5d22799ae299917209","modified":1624767964448},{"_id":"public/2020/10/20/vim-debugging-scheme/index.html","hash":"0db7d66601f7b10c063205e490c80110363c076b","modified":1624767964448},{"_id":"public/2020/10/19/vim-shortcut-key-management/index.html","hash":"1d4725b266e5cd801c6f6cf2e39efa67e46188fa","modified":1624767964448},{"_id":"public/2020/10/19/vim-plugin-management/index.html","hash":"bc7416d400a6caf3f23f9086f405da931b92fc3a","modified":1624767964448},{"_id":"public/2020/10/19/vim-tagbar/index.html","hash":"e63bf053e228709e551bab6dcd5f93a346438e8b","modified":1624767964448},{"_id":"public/2020/10/19/vim-file-tree/index.html","hash":"374b687b09d7a355299ded7e6862f8c23be5c6da","modified":1624767964448},{"_id":"public/2020/10/19/vim-automatic-completion/index.html","hash":"347f3ec240b0380e55ca286e8228c8a15524d045","modified":1624767964448},{"_id":"public/2020/10/18/browse-and-save-files-that-require-root-permissions-in-neovim/index.html","hash":"d0f9a620e2c1d4c3d76d274462a32c41ca77fdd0","modified":1624767964448},{"_id":"public/2020/08/08/gentoo-system-further-improvement/index.html","hash":"2db865ef99cbd391189c6cd103b57a2dbcd0df9a","modified":1624767964448},{"_id":"public/2020/08/08/gentoo-kool-desktop-environment-installation/index.html","hash":"af49b0a70d49828e99a118ee1ca16edbe0d3b7d9","modified":1624767964448},{"_id":"public/2020/08/07/gentoo-basic-system-installation/index.html","hash":"9a8d3d22f48a231228e086e9037e11434978f4c3","modified":1624767964448},{"_id":"public/2020/08/06/gentoo-tutorials-directory/index.html","hash":"14f391631c582fdb2d6ba80a67200470074ca0b9","modified":1624767964448},{"_id":"public/2020/08/06/vim-preface/index.html","hash":"0af718b700f195c4f89ea695be7be1793c84a555","modified":1624767964448},{"_id":"public/2020/08/06/gentoo-compile-error-handling/index.html","hash":"7a7044a096f6822226899dc7fe9477b2e8d67bf8","modified":1624767964448},{"_id":"public/2020/08/05/gentoo-compiler-selection/index.html","hash":"dfff96a4f6e4a1e12a24386ce1aae56145e87a14","modified":1624767964448},{"_id":"public/2020/08/05/gentoo-package-management/index.html","hash":"85904a2697a804371ea478108c844bdad7e05ad0","modified":1624767964448},{"_id":"public/2020/08/04/vim-markdown-latex/index.html","hash":"d92596074dfb5e9ab92fe04ac58c2b951e8ee843","modified":1624767964448},{"_id":"public/2020/08/04/gentoo-preface/index.html","hash":"31720eff634381caf7ccc475ac8bc064be035635","modified":1624767964448},{"_id":"public/archives/index.html","hash":"f815aacaeedd631dbbff9e636ec6f683fa880850","modified":1624767964448},{"_id":"public/archives/page/2/index.html","hash":"cb323ab3a7fea5ca43ca011fb142ac2ea9510e99","modified":1624767964448},{"_id":"public/archives/page/3/index.html","hash":"499cfb750da7716f093f136dabd3c2975259a377","modified":1624767964448},{"_id":"public/archives/page/4/index.html","hash":"d986763d7dfbc699f14c6783d27e810f514e6085","modified":1624767964448},{"_id":"public/archives/page/5/index.html","hash":"7cfc2ef4577612a48e207615b7d395d5d8f136dd","modified":1624767964448},{"_id":"public/archives/2020/index.html","hash":"76b827051f5f6599bd73f5cbadc3e2005c572085","modified":1624767964448},{"_id":"public/archives/2020/page/2/index.html","hash":"5cc47414349c7562c77156b4a1323a031bf6aff7","modified":1624767964448},{"_id":"public/archives/2020/08/index.html","hash":"b817a8ab820e4c4b025d065298645f4be06c9a60","modified":1624767964448},{"_id":"public/archives/2020/10/index.html","hash":"7df5e9f00aa99dd1ede40ac915b40ae0ce197593","modified":1624767964448},{"_id":"public/archives/2021/index.html","hash":"67d217ddfd056ec41ef14abb0fb2ed60db4fdb81","modified":1624767964448},{"_id":"public/archives/2021/page/2/index.html","hash":"21dd94e038c6ec5986006addbefa010c3632ead6","modified":1624767964448},{"_id":"public/archives/2021/page/3/index.html","hash":"0bb5937878f12bdb27acd4b1796c9a14a5f7be85","modified":1624767964448},{"_id":"public/archives/2021/page/4/index.html","hash":"026305a4f4e8b631c4e2932040e91e2d31575499","modified":1624767964448},{"_id":"public/archives/2021/03/index.html","hash":"102148d9e12c63e5e765a9d354497119893669e0","modified":1624767964448},{"_id":"public/archives/2021/04/index.html","hash":"cb7eaa9624467e383685d373906d54b3a19183f0","modified":1624767964448},{"_id":"public/archives/2021/05/index.html","hash":"7666be0b36fa445bdd3e747ad8794b9bee88604b","modified":1624767964448},{"_id":"public/archives/2021/06/index.html","hash":"f510d66dfe3b0cfd7e1941d844a04c6fe96f395a","modified":1624767964448},{"_id":"public/archives/2021/06/page/2/index.html","hash":"0bf1da9023a3e32bc4612ace2d1359f8db40a7c1","modified":1624767964448},{"_id":"public/categories/Vim/index.html","hash":"37b69a78bbad080ff645b7b852da5f69a8a4e405","modified":1624767964448},{"_id":"public/categories/Vim/page/2/index.html","hash":"b90458437bd6462f0a9cbead5246e39c70aa7c35","modified":1624767964448},{"_id":"public/categories/Vue/index.html","hash":"0e34071864bfb093798b2ef43d79176824bef86e","modified":1624767964448},{"_id":"public/categories/Gentoo/index.html","hash":"1dbec1ae2a44281b39f24b39d520fbdc3407767d","modified":1624767964448},{"_id":"public/categories/Embedded/index.html","hash":"2dc9f75ee95672364187569e9d27c447a4c58744","modified":1624767964448},{"_id":"public/categories/Embedded/page/2/index.html","hash":"9ca7cf8b9e0cf79c115043c6311e09d118c3118f","modified":1624767964448},{"_id":"public/categories/FPGA/index.html","hash":"7784d61737f3908e4ae6421f28046f5cbd76941e","modified":1624767964448},{"_id":"public/categories/Rust/index.html","hash":"0bb6ce2999e28de7fb49835c32b204ed4bbda3bc","modified":1624767964448},{"_id":"public/categories/Rust/page/2/index.html","hash":"923abdd0393f368f3cf8acd81e1ca701ce579a2a","modified":1624767964448},{"_id":"public/categories/Linux/index.html","hash":"94f6616e5b9094b0dd03b04f4c2bbf73a29a28d5","modified":1624767964448},{"_id":"public/categories/Stm32/index.html","hash":"7bd48c8190069d103a49e41ef43caff2a3cb2ffa","modified":1624767964448},{"_id":"public/categories/Stm32/page/2/index.html","hash":"f1cd541167e44ac42ea3f768c2c27ec3c2924e27","modified":1624767964448},{"_id":"public/categories/Raspberry-Pi/index.html","hash":"cda35fb0a1a0ac30739daeb4c002d27a78f1f2b7","modified":1624767964448},{"_id":"public/index.html","hash":"559310449400fdfadd81fdc0457c29c33ccba8aa","modified":1624767964448},{"_id":"public/page/2/index.html","hash":"aa026021c187975d7b6a73e39603c1bdecdff18e","modified":1624767964448},{"_id":"public/page/3/index.html","hash":"7686737dbe8acb291711f7085bdfab4b0187a6c8","modified":1624767964448},{"_id":"public/page/4/index.html","hash":"e6735b4eea009d40fc982cc5fec602aa93e9ec15","modified":1624767964448},{"_id":"public/page/5/index.html","hash":"3837a4548024f267693b856fed95bfeb990a6865","modified":1624767964448},{"_id":"public/tags/Vim/index.html","hash":"ce9bd0b0c315b80094290dc74e0ef5b67acd7c2a","modified":1624767964448},{"_id":"public/tags/Vim/page/2/index.html","hash":"222af5c5386aeaac7e40fa0c18e4a69e7986ebd4","modified":1624767964448},{"_id":"public/tags/Vue/index.html","hash":"27d5449b6b407a19566cc730e1eed49ae52bc719","modified":1624767964448},{"_id":"public/tags/Vite/index.html","hash":"e9703f573172c51ff09c8e8733cd2adc029e9c9c","modified":1624767964448},{"_id":"public/tags/Typescript/index.html","hash":"a358ba17cb632dfee1c56ba5e06d31a8e9b85dda","modified":1624767964448},{"_id":"public/tags/Gentoo/index.html","hash":"a780a9a47b151cf05d021742d85895dff3c39484","modified":1624767964448},{"_id":"public/tags/Tauri/index.html","hash":"fd87cabc15865ed6001c6bc9a47f9e80b5a07c1d","modified":1624767964448},{"_id":"public/tags/Less/index.html","hash":"16bf5ab7bc0987913fd6df60f72998a736d9539c","modified":1624767964448},{"_id":"public/tags/MSP430G2/index.html","hash":"e9e39ff722d4d0f1a894f009a18573d084512448","modified":1624767964448},{"_id":"public/tags/Linux/index.html","hash":"77eff23247dca1c4141cf27af697353b5f6047a9","modified":1624767964448},{"_id":"public/tags/FPGA/index.html","hash":"2fceec1926a71c39f2d04235b7bc1bb5d7b002a2","modified":1624767964448},{"_id":"public/tags/Systemverilog/index.html","hash":"a01d7a8f61d09932807b2113b45c20c8b30f398a","modified":1624767964448},{"_id":"public/tags/verilator/index.html","hash":"660e504d97b810d411faca4b68a98d3738e29e8d","modified":1624767964448},{"_id":"public/tags/Rust/index.html","hash":"290b79f7ec58dc7b345ba665459a0d82023e6636","modified":1624767964448},{"_id":"public/tags/Rust/page/2/index.html","hash":"c189dc711725e182b42919821f7c3bfcac6cb5ff","modified":1624767964448},{"_id":"public/tags/Stm32/index.html","hash":"e1482b1781519e98d5c1a3fa1c1c44d8da9141ab","modified":1624767964448},{"_id":"public/tags/Stm32/page/2/index.html","hash":"2c82048c71ec24491404d682421c5c2161472667","modified":1624767964448},{"_id":"public/tags/Stm8/index.html","hash":"5debd7e62422984338b06e069e9bea9d9cfc3b1a","modified":1624767964448},{"_id":"public/tags/Raspberry-Pi/index.html","hash":"1d1efd3db115c4a8dd4f0c2586c173abe98eaafc","modified":1624767964448},{"_id":"public/tags/Manjaro/index.html","hash":"215af7fa0aaeec9e5b1d1bb858aa13b69fbd9a1c","modified":1624767964448},{"_id":"public/tags/Java/index.html","hash":"1975b834791ee2c1c6a2079a393792ede3d0c13c","modified":1624767964448},{"_id":"public/tags/Oracle/index.html","hash":"462c6b6632fa221eeced8097bafe9022210ab62b","modified":1624767964448},{"_id":"public/tags/Arduino/index.html","hash":"8f68869d660f4e22252df2b6138fea5302fc7043","modified":1624767964448},{"_id":"public/tags/Realvnc/index.html","hash":"9f4682395b361689e2a00195224ea3cc23b63b87","modified":1624767964448},{"_id":"public/tags/Latex/index.html","hash":"642488a5d4d30029972d313c29591e31db78126d","modified":1624767964448},{"_id":"public/tags/Markdown/index.html","hash":"2065bb47dd6a5ac1f9451559ab81d3693d3d3491","modified":1624767964448},{"_id":"public/CNAME","hash":"7257c0821e59bd23023d2e5755357a5befc85f13","modified":1624767964448},{"_id":"public/medias/avatar.jpg","hash":"6262562f49af87ee516f69d8272819090b6e77e8","modified":1624767964448},{"_id":"public/medias/comment_bg.png","hash":"dfc93d24081884fbc58cab0f8fd19e77d31d6123","modified":1624767964448},{"_id":"public/medias/favicon.png","hash":"634a88eb94f5abcffc8569a1e9ddcfd4cf351c64","modified":1624767964448},{"_id":"public/medias/icp.png","hash":"27a96f31f7d0413c6ade6f40e06f021f501151c7","modified":1624767964448},{"_id":"public/medias/logo.png","hash":"16334e905b89a98d17d7fe65b9cfc11d3f487525","modified":1624767964448},{"_id":"public/libs/twikoo/twikoo.all.min.js.LICENSE.txt","hash":"1e286a31ef472fb864fe2b9502e87df9242df56b","modified":1624767964448},{"_id":"public/medias/featureimages/10.jpg","hash":"98e7f6fd9c97d4de9044b6871ca08ebf14db11b9","modified":1624767964448},{"_id":"public/medias/featureimages/13.jpg","hash":"35a320174f8e316e3eadaec658024276b651c6e9","modified":1624767964448},{"_id":"public/medias/featureimages/15.jpg","hash":"da0fbee3b7bde1607eace377ddf834c0be99edfe","modified":1624767964448},{"_id":"public/medias/featureimages/16.jpg","hash":"97a829c4bc94f9d2929b20a1a9b798c57b9f7205","modified":1624767964448},{"_id":"public/medias/featureimages/2.jpg","hash":"4bba691cf71a517ecaeaf42afd3e8f8b31e346c1","modified":1624767964448},{"_id":"public/medias/featureimages/21.jpg","hash":"b26edb128bb0bf58b23fd2f014e9555e89a2ca3b","modified":1624767964448},{"_id":"public/medias/featureimages/22.jpg","hash":"754579747a3e99747d890fca3162f370b96a7941","modified":1624767964448},{"_id":"public/medias/featureimages/23.jpg","hash":"7d7f37da3fa7128343adac23866449eb2c6a549a","modified":1624767964448},{"_id":"public/medias/featureimages/3.jpg","hash":"6ec646c2a70f5f11edacf225c1477f2200a37a96","modified":1624767964448},{"_id":"public/medias/featureimages/5.jpg","hash":"41ca20129a37fedc573eec28dd7d7b9e5b09228a","modified":1624767964448},{"_id":"public/medias/featureimages/7.jpg","hash":"7975141cd64e875122c0ea33daaca1a06bf00b8e","modified":1624767964448},{"_id":"public/medias/featureimages/8.jpg","hash":"8e4b7186352085483ca1174c7c0800114c48df8b","modified":1624767964448},{"_id":"public/medias/reward/alipay.jpg","hash":"1abc719b95d1b26f1f898e6b0a9b7609146e332f","modified":1624767964448},{"_id":"public/medias/reward/wechat.png","hash":"fe93385aa92fe328e01c8221a80b039be9e4e140","modified":1624767964448},{"_id":"public/libs/awesome/webfonts/fa-regular-400.eot","hash":"439c8afd3373acb4a73135a34e220464a89cd5e2","modified":1624767964448},{"_id":"public/libs/awesome/webfonts/fa-regular-400.ttf","hash":"0f4bd02942a54a6b3200d9078adff88c2812e751","modified":1624767964448},{"_id":"public/libs/awesome/webfonts/fa-regular-400.woff","hash":"59439d3ad31d856d78ec3e2bd9f1eafa2c7a581c","modified":1624767964448},{"_id":"public/libs/awesome/webfonts/fa-regular-400.woff2","hash":"f6f653b4ea8fc487bdb590d39d5a726258a55f40","modified":1624767964448},{"_id":"public/libs/lightGallery/img/vimeo-play.png","hash":"9b72fc0f86a01467ed0b68c9cc4d604ec316d517","modified":1624767964448},{"_id":"public/libs/lightGallery/img/video-play.png","hash":"2962e03ddbe04d7e201a5acccac531a2bbccddfc","modified":1624767964448},{"_id":"public/libs/lightGallery/img/youtube-play.png","hash":"f8d11384d33b7a79ee2ba8d522844f14d5067a80","modified":1624767964448},{"_id":"public/libs/lightGallery/fonts/lg.eot","hash":"54caf05a81e33d7bf04f2e420736ce6f1de5f936","modified":1624767964448},{"_id":"public/libs/lightGallery/fonts/lg.ttf","hash":"f6421c0c397311ae09f9257aa58bcd5e9720f493","modified":1624767964448},{"_id":"public/libs/lightGallery/fonts/lg.svg","hash":"9c6632aeec67d3e84a1434884aa801514ff8103b","modified":1624767964448},{"_id":"public/libs/lightGallery/fonts/lg.woff","hash":"3048de344dd5cad4624e0127e58eaae4b576f574","modified":1624767964448},{"_id":"public/libs/lightGallery/img/loading.gif","hash":"15a76af2739482d8de7354abc6d8dc4fca8d145e","modified":1624767964448},{"_id":"public/libs/share/fonts/iconfont.eot","hash":"00ff749c8e202401190cc98d56087cdda716abe4","modified":1624767964448},{"_id":"public/libs/share/fonts/iconfont.svg","hash":"1d56c9d5db0273f07c43cc1397e440f98ba7827a","modified":1624767964448},{"_id":"public/libs/share/fonts/iconfont.ttf","hash":"afd898f59d363887418669520b24d175f966a083","modified":1624767964448},{"_id":"public/libs/share/fonts/iconfont.woff","hash":"2e3fce1dcfbd6e2114e7bfbeaf72d3c62e15a1bd","modified":1624767964448},{"_id":"public/2020/08/07/gentoo-basic-system-installation/1.png","hash":"9876d487b6f6926159cc894531d71c6e0890aa20","modified":1624767964448},{"_id":"public/2020/08/07/gentoo-basic-system-installation/2.png","hash":"effb90b8e9f83398724e8a3a415b319f7adda409","modified":1624767964448},{"_id":"public/2020/08/07/gentoo-basic-system-installation/3.png","hash":"030a4e86fde14342cfe3009b4379fc7052258fbe","modified":1624767964448},{"_id":"public/2020/08/05/gentoo-package-management/2.png","hash":"7191ab865c25c8c104f650177ab6fd864a9cea4a","modified":1624767964448},{"_id":"public/2021/05/15/install-manjaro-on-rpi4/3.png","hash":"16c5e82436a9cced715a8fc7b66bb193ae5b2525","modified":1624767964448},{"_id":"public/2020/10/19/vim-shortcut-key-management/1.png","hash":"3c890a163cc47885bce9c3fee5d4a9076e530cc2","modified":1624767964448},{"_id":"public/medias/banner/0.jpg","hash":"69ec96cd9b4bc3aa631adc9da61353f50c39f031","modified":1624767964448},{"_id":"public/medias/banner/2.jpg","hash":"39fb2535460ce66cc0b34e07ffb9411db1405f09","modified":1624767964448},{"_id":"public/medias/banner/3.jpg","hash":"4ac047e92d0363b1a61ab756aca6dac13fb77494","modified":1624767964448},{"_id":"public/medias/featureimages/0.jpg","hash":"1c3300f029fc85d6dda6fa4f1d699551034cdaf7","modified":1624767964448},{"_id":"public/medias/featureimages/1.jpg","hash":"684ae89de8cb7acefae19f5aee6c612037c46393","modified":1624767964448},{"_id":"public/medias/featureimages/12.jpg","hash":"8a4b2e7d92ae95c3b0c921db23c35aa9a41a7d58","modified":1624767964448},{"_id":"public/medias/featureimages/11.jpg","hash":"f55972ce7175684f2b11c3c9fc2b5b14bccbfae8","modified":1624767964448},{"_id":"public/medias/featureimages/14.jpg","hash":"38e11221406785bcd93aa9cd23e568e164630ef1","modified":1624767964448},{"_id":"public/medias/featureimages/17.jpg","hash":"42d47903551ee81885c1386022982cae165841c5","modified":1624767964448},{"_id":"public/medias/featureimages/18.jpg","hash":"64829272ec85bb819d55ff89e5b5fd6f64aa436b","modified":1624767964448},{"_id":"public/medias/featureimages/19.jpg","hash":"eb250906fdbc0c408f42ae9933725bc1a05d79fb","modified":1624767964448},{"_id":"public/medias/featureimages/20.jpg","hash":"3b11f9b461168d907073f793190865fe621a8573","modified":1624767964448},{"_id":"public/medias/featureimages/4.jpg","hash":"e06c47de27619984be9d5d02947f8370a432dfea","modified":1624767964448},{"_id":"public/medias/featureimages/6.jpg","hash":"c8f2aa4bbb041158b4e73733a341e6a77c8583f7","modified":1624767964448},{"_id":"public/medias/featureimages/9.jpg","hash":"b956a2291a04b2132366b53666cf34858b8bdb1f","modified":1624767964448},{"_id":"public/libs/awesome/webfonts/fa-brands-400.eot","hash":"22f9e7d5226408eb2d0a11e118257a3ca22b8670","modified":1624767964448},{"_id":"public/libs/awesome/webfonts/fa-brands-400.ttf","hash":"91cbeeaceb644a971241c08362898599d6d968ce","modified":1624767964448},{"_id":"public/libs/awesome/webfonts/fa-brands-400.woff","hash":"18838f5260317da3c5ed29bf844ac8a4f7ad0529","modified":1624767964448},{"_id":"public/libs/awesome/webfonts/fa-brands-400.woff2","hash":"a46bd47ff0a90b812aafafda587d095cdb844271","modified":1624767964448},{"_id":"public/libs/awesome/webfonts/fa-solid-900.woff","hash":"92803b8753ceda573c6906774677c5a7081d2fbb","modified":1624767964448},{"_id":"public/libs/awesome/webfonts/fa-solid-900.woff2","hash":"9c081b88b106c6c04ecb895ba7ba7d3dcb3b55ac","modified":1624767964448},{"_id":"public/2021/05/17/basic-tutorial-of-vue-vite-typescript/1.png","hash":"25c27d87e0bf086c56f194ff8a10751f038ea518","modified":1624767964448},{"_id":"public/2020/08/05/gentoo-package-management/1.png","hash":"ed96f4c4d92572f15403cc9be75252932be93812","modified":1624767964448},{"_id":"public/2020/08/05/gentoo-package-management/3.png","hash":"fc7ad697702568ba3df4e7875545c24b28052aef","modified":1624767964448},{"_id":"public/2020/08/04/gentoo-preface/1.png","hash":"87d58781f1eccfda78711055543de2f613ed99af","modified":1624767964448},{"_id":"public/css/bb.css","hash":"aa15633888c7cf9baea8bb48d796c68b57cf14bf","modified":1624767964448},{"_id":"public/css/gitment.css","hash":"2bd15cc17dca35ac3ecc0acf167a23a1dd362acd","modified":1624767964448},{"_id":"public/css/my.css","hash":"497e50351f7838f8546cac76850a42e7e380a110","modified":1624767964448},{"_id":"public/css/my-gitalk.css","hash":"af18dd29e58642c18bab9b89541767b494c468dd","modified":1624767964448},{"_id":"public/js/matery.js","hash":"b86de5fe3e9766b7ff80df12ea41c3a9e30825f7","modified":1624767964448},{"_id":"public/js/search.js","hash":"e1482406c58ea2a0eb178d7e4efb2c879cdddc80","modified":1624767964448},{"_id":"public/libs/aplayer/APlayer.min.css","hash":"07372a2ba507388d0fed166d761b1c2c2a659dce","modified":1624767964448},{"_id":"public/libs/aos/aos.js","hash":"02bfb40b0c4b6e9b0b4081218357145cbb327d74","modified":1624767964448},{"_id":"public/libs/background/canvas-nest.js","hash":"65333d0dbb9c1173a1b13031b230161fc42c8b2f","modified":1624767964448},{"_id":"public/libs/background/ribbon-dynamic.js","hash":"052b80c29e6bc585aa28d4504b743bdbac220a88","modified":1624767964448},{"_id":"public/libs/background/ribbon.min.js","hash":"6a99d494c030388f96f6086a7aaa0f03f3fe532e","modified":1624767964448},{"_id":"public/libs/background/ribbon-refresh.min.js","hash":"6d98692b2cad8c746a562db18b170b35c24402f4","modified":1624767964448},{"_id":"public/libs/codeBlock/codeBlockFuction.js","hash":"c7ab06d27a525b15b1eb69027135269e9b9132fb","modified":1624767964448},{"_id":"public/libs/codeBlock/codeCopy.js","hash":"6d39a766af62e625f177c4d5cf3adc35eed71e61","modified":1624767964448},{"_id":"public/libs/codeBlock/codeLang.js","hash":"bac88b4d4e3679732d29bd037c34f089cf27cf05","modified":1624767964448},{"_id":"public/libs/codeBlock/codeShrink.js","hash":"201e8cd761b4be557247bdaf1ebc7c11c83194f6","modified":1624767964448},{"_id":"public/libs/instantpage/instantpage.js","hash":"83ce8919b1a69b2f1809ffaf99b52a8627e650e9","modified":1624767964448},{"_id":"public/libs/jqcloud/jqcloud-1.0.4.min.js","hash":"257eaae3020599e4939f50d5008a743827f25b8c","modified":1624767964448},{"_id":"public/libs/jqcloud/jqcloud.css","hash":"20d9f11a19d95c70e27cb922e0d6dccbec4eae89","modified":1624767964448},{"_id":"public/libs/minivaline/MiniValine.js","hash":"f7f6cdc1b22297e02334e304444e9a8351acb455","modified":1624767964448},{"_id":"public/libs/others/busuanzi.pure.mini.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1624767964448},{"_id":"public/libs/others/clicklove.js","hash":"6a39b8c683ba5dcd92f70c6ab45d1cfac3213e8e","modified":1624767964448},{"_id":"public/libs/prism/prism.css","hash":"62e5474893dece076534352f564ceabd6e088a5a","modified":1624767964448},{"_id":"public/libs/scrollprogress/scrollProgress.min.js","hash":"777ffe5d07e85a14fbe97d846f45ffc0087251cc","modified":1624767964448},{"_id":"public/libs/tocbot/tocbot.css","hash":"9ab8ef576c9a57115194152e79cca79b0a41dd70","modified":1624767964448},{"_id":"public/libs/tocbot/tocbot.min.js","hash":"5ec27317f0270b8cf6b884c6f12025700b9a565c","modified":1624767964448},{"_id":"public/libs/share/css/share.min.css","hash":"8a778a86f3ce9a042df6be63a9f1039631e351a5","modified":1624767964448},{"_id":"public/css/matery.css","hash":"a630f6e8643904073dce9eada57b5c16c4dba5e2","modified":1624767964448},{"_id":"public/libs/aos/aos.css","hash":"191a3705a8f63e589a50a0ff2f2c5559f1a1b6b2","modified":1624767964448},{"_id":"public/libs/animate/animate.min.css","hash":"97afa151569f046b2e01f27c1871646e9cd87caf","modified":1624767964448},{"_id":"public/libs/aplayer/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1624767964448},{"_id":"public/libs/cryptojs/crypto-js.min.js","hash":"5989527a378b55011a59522f41eeb3981518325c","modified":1624767964448},{"_id":"public/libs/dplayer/DPlayer.min.css","hash":"f7d19655f873b813ffba5d1a17145c91f82631b8","modified":1624767964448},{"_id":"public/libs/dplayer/DPlayer.min.js","hash":"c3bad7b265574fab0ae4d45867422ea1cb9d6599","modified":1624767964448},{"_id":"public/libs/gitalk/gitalk.css","hash":"940ded3ea12c2fe1ab0820d2831ec405f3f1fe9f","modified":1624767964448},{"_id":"public/libs/gitment/gitment-default.css","hash":"2903c59ee06b965bef32e937bd69f5b0b2190717","modified":1624767964448},{"_id":"public/libs/gitment/gitment.js","hash":"28c02c45ce568e084cd1041dc493f83f9c6c88c6","modified":1624767964448},{"_id":"public/libs/gitalk/gitalk.min.js","hash":"8fefe38f28804f90116bdcb74a0875c9de9f3b7d","modified":1624767964448},{"_id":"public/libs/masonry/masonry.pkgd.min.js","hash":"ff940b4ea68368ca0e4d5560cbb79fb147dfc3c5","modified":1624767964448},{"_id":"public/libs/jquery/jquery.min.js","hash":"2115753ca5fb7032aec498db7bb5dca624dbe6be","modified":1624767964448},{"_id":"public/libs/materialize/materialize.min.js","hash":"c8b4c65651921d888cf5f27430dfe2ad190d35bf","modified":1624767964448},{"_id":"public/libs/materialize/materialize.min.css","hash":"a69d456e3345e7f59cd0d47d1b3e70fd4a496a05","modified":1624767964448},{"_id":"public/libs/valine/Valine.min.js","hash":"6cbdbf91e1f046dd41267a5ff0691a1fccba99df","modified":1624767964448},{"_id":"public/libs/lightGallery/css/lightgallery.min.css","hash":"1b7227237f9785c66062a4811508916518e4132c","modified":1624767964448},{"_id":"public/libs/awesome/css/all.css","hash":"ecc41e32ad2696877a1656749841f3b5543bbe3d","modified":1624767964448},{"_id":"public/libs/valine/av-min.js","hash":"541efb9edc1ce425cbe3897cfc25803211fe6a05","modified":1624767964448},{"_id":"public/libs/share/js/social-share.min.js","hash":"a3090a02786dcd4efc6355c1c1dc978add8d6827","modified":1624767964448},{"_id":"public/libs/lightGallery/js/lightgallery-all.min.js","hash":"9f5ef4bc8a0a3c746ca4f3c3e6d64493b1a977d8","modified":1624767964448},{"_id":"public/libs/share/js/jquery.share.min.js","hash":"41367dcb857e02e3c417ebe68a554ce1d4430806","modified":1624767964448},{"_id":"public/libs/twikoo/twikoo.all.min.js","hash":"c3f5f0a69b7864e7ef5bbf99fc774bec37947d7c","modified":1624767964448},{"_id":"public/medias/banner/1.jpg","hash":"ab122a36998a4f62a61e61a4fc5e00248113413b","modified":1624767964448},{"_id":"public/medias/banner/5.jpg","hash":"852418f4f09e796e12bc3bab7a1488d3f37d6486","modified":1624767964448},{"_id":"public/medias/banner/6.jpg","hash":"d4957ff7cc5e88555cd840f2956ab0561e6f1ccf","modified":1624767964448},{"_id":"public/libs/awesome/webfonts/fa-regular-400.svg","hash":"3d3a49445343d80f3b553e3e3425b9a7bd49acaf","modified":1624767964448},{"_id":"public/libs/awesome/webfonts/fa-solid-900.eot","hash":"cab8e84ae5682d1d556e234df9c790985888def8","modified":1624767964448},{"_id":"public/libs/awesome/webfonts/fa-solid-900.ttf","hash":"9521ed12274c2cbc910cea77657116fcf6545da3","modified":1624767964448},{"_id":"public/2021/05/15/install-manjaro-on-rpi4/2.png","hash":"afea3fbe78c9e5df281215c7ec67153281dc4ff5","modified":1624767964448},{"_id":"public/libs/echarts/echarts.min.js","hash":"9496f386a0da4601cad22c479cc5543913a4d67f","modified":1624767964448},{"_id":"public/2021/05/15/install-manjaro-on-rpi4/1.png","hash":"b67018d5dd3a0e1ee69efa424e8592a9bb5e36f6","modified":1624767964448},{"_id":"public/medias/banner/4.jpg","hash":"e5ac5033678afa9d69edffe9a61004f836cb5734","modified":1624767964448},{"_id":"public/2021/04/17/vim-quickfix/1.png","hash":"57090f4b91bf5bb179a6b8b8a87d3485401938a7","modified":1624767964448},{"_id":"public/2021/06/03/spartan-edge-accelerator-board-tutorial/1.png","hash":"5e17abc272a5440e033a882207382e473e9aa00d","modified":1624767964448},{"_id":"public/libs/awesome/webfonts/fa-brands-400.svg","hash":"5e2d2a159294576bea69cc3360efb5ffe110ab2d","modified":1624767964448},{"_id":"public/libs/awesome/webfonts/fa-solid-900.svg","hash":"7da88b19e1486f8c968d3cf5ab3f194f01ea17fd","modified":1624767964448}],"Category":[{"name":"Vim","_id":"ckqeow9bl0004dbizadfn5hw4"},{"name":"Vue","_id":"ckqeow9bs000cdbiz6srre6qm"},{"name":"Gentoo","_id":"ckqeow9c1000pdbizhvut39xd"},{"name":"Embedded","_id":"ckqeow9c70012dbiz04m2aew9"},{"name":"FPGA","_id":"ckqeow9cc0019dbiz4rmb636l"},{"name":"Rust","_id":"ckqeow9co001vdbiza4lafy4f"},{"name":"Linux","_id":"ckqeow9cz002ldbiz6uqf2kzl"},{"name":"Stm32","_id":"ckqeow9do004ldbizgtkcexpi"},{"name":"Raspberry Pi","_id":"ckqeow9dw005qdbizcf159sau"}],"Data":[{"_id":"friends","data":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}],"Page":[{"title":"404","date":"2020-05-14T02:45:11.000Z","type":"404","layout":"404","description":" ","_content":"","source":"404.md","raw":"---\ntitle: 404\ndate: 2020-05-14 10:45:11\ntype: \"404\"\nlayout: \"404\"\ndescription: \" \"\n---\n","updated":"2021-03-23T11:11:18.575Z","path":"404.html","comments":1,"_id":"ckqeow9bc0000dbiz72yrbiry","content":"","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":""},{"title":"categories","date":"2020-08-04T01:33:49.000Z","type":"categories","layout":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2020-08-04 09:33:49\ntype: \"categories\"\nlayout: \"categories\"\n---\n","updated":"2021-03-23T11:11:18.585Z","path":"categories/index.html","comments":1,"_id":"ckqeow9bj0002dbizaa7l70yd","content":"","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":""},{"title":"about","date":"2020-08-04T01:35:33.000Z","type":"about","layout":"about","_content":"","source":"about/index.md","raw":"---\ntitle: about\ndate: 2020-08-04 09:35:33\ntype: \"about\"\nlayout: \"about\"\n---\n","updated":"2021-03-23T11:11:18.585Z","path":"about/index.html","comments":1,"_id":"ckqeow9bn0006dbizcdg6egl8","content":"","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":""},{"title":"contact","date":"2020-08-06T06:13:21.000Z","type":"contact","layout":"contact","_content":"","source":"contact/index.md","raw":"---\ntitle: contact\ndate: 2020-08-06 14:13:21\ntype: \"contact\"\nlayout: \"contact\"\n---\n","updated":"2021-03-23T11:11:18.585Z","path":"contact/index.html","comments":1,"_id":"ckqeow9bp0008dbiz26rc26em","content":"","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":""},{"title":"friends","date":"2020-08-06T06:32:26.000Z","type":"friends","layout":"friends","_content":"","source":"friends/index.md","raw":"---\ntitle: friends\ndate: 2020-08-06 14:32:26\ntype: \"friends\"\nlayout: \"friends\"\n---\n","updated":"2021-03-23T11:11:18.585Z","path":"friends/index.html","comments":1,"_id":"ckqeow9bq000adbiz5jlc0swc","content":"","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":""},{"title":"tags","date":"2020-08-06T06:31:28.000Z","type":"tags","layout":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2020-08-06 14:31:28\ntype: \"tags\"\nlayout: \"tags\"\n---\n","updated":"2021-03-23T11:11:18.585Z","path":"tags/index.html","comments":1,"_id":"ckqeow9bt000fdbiz18aye71a","content":"","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":""}],"Post":[{"title":"Browse and Save Files that Require Root Permissions In Neovim","date":"2020-10-18T13:14:07.000Z","_content":"\n# Neovimroot\n\n## vimroot\n\nvim`:w !  sudo  tee  %`neovim\n\n## \n\n[`suda.vim`](https://github.com/lambdalisue/suda.vim)\n\n`init.vim``let g:suda_smart_edit = 1`\n","source":"_posts/Browse-and-save-files-that-require-root-permissions-in-neovim.md","raw":"---\ntitle: Browse and Save Files that Require Root Permissions In Neovim\ndate: 2020-10-18 21:14:07\ntags:\n  - Vim\ncategories:\n  - Vim\n---\n\n# Neovimroot\n\n## vimroot\n\nvim`:w !  sudo  tee  %`neovim\n\n## \n\n[`suda.vim`](https://github.com/lambdalisue/suda.vim)\n\n`init.vim``let g:suda_smart_edit = 1`\n","slug":"Browse-and-save-files-that-require-root-permissions-in-neovim","published":1,"updated":"2021-03-23T11:11:18.575Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9bf0001dbiz6ij16w2u","content":"<h1 id=\"Neovimroot\"><a href=\"#Neovimroot\" class=\"headerlink\" title=\"Neovimroot\"></a>Neovimroot</h1><h2 id=\"vimroot\"><a href=\"#vimroot\" class=\"headerlink\" title=\"vimroot\"></a>vimroot</h2><p>vim<code>:w !  sudo  tee  %</code>neovim</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lambdalisue/suda.vim\"><code>suda.vim</code></a></p>\n<p><code>init.vim</code><code>let g:suda_smart_edit = 1</code></p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"Neovimroot\"><a href=\"#Neovimroot\" class=\"headerlink\" title=\"Neovimroot\"></a>Neovimroot</h1><h2 id=\"vimroot\"><a href=\"#vimroot\" class=\"headerlink\" title=\"vimroot\"></a>vimroot</h2><p>vim<code>:w !  sudo  tee  %</code>neovim</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lambdalisue/suda.vim\"><code>suda.vim</code></a></p>\n<p><code>init.vim</code><code>let g:suda_smart_edit = 1</code></p>\n"},{"title":"Basic Tutorial of Vue-Vite-Typescript","date":"2021-05-17T14:08:07.000Z","_content":"\n# Basic Tutorial of Vue-Vite-Typescript\n\nThe following are the notes I took when I studied vue with reference to the official tutorial. The biggest difference between my notes and official tutorial is that I use typescript while the tutorial uses javascript. I suggest you learn vue following the official tutorial , but I firmly believe that you need to know some of the differences in the use of ts and js.\n\nAnd please forgive my stiff English, I was just too lazy to switch input methods.\n\n## Init a vue project\n\nCreate the project\n\n```\nnpm init @vitejs/app appName -- --template vue-ts\ncd appName\nnpm install\nnpm install less -D\nnpm install eslint eslint-plugin-vue -D\nnpm install @vuedx/typescript-plugin-vue -D\nnode node_modules/esbuild/install.js\n```\n\nModify `coc-settings.json`\n\n```\n  \"vetur.useWorkspaceDependencies\": true\n```\n\nAdd the content below to `tsconfig.json`\n\n```json\n    \"plugins\": [\n      {\n        \"name\": \"@vuedx/typescript-plugin-vue\"\n      }\n    ],\n```\n\nModify `vite.config.ts` which is located in the root path of the project.\n\n```typescript\nimport { defineConfig } from \"vite\";\nimport vue from \"@vitejs/plugin-vue\";\n\nexport default defineConfig({\n  plugins: [vue()],\n  resolve: {\n    alias: { vue: \"vue/dist/vue.esm-bundler.js\" },\n  },\n});\n```\n\n## Directory structure of the project\n\n![directory structure](1.png)\n\n1. public : public resource directory\n2. src/assets : static resource directory\n3. src/components : custom components\n4. src/App.vue : root component\n5. src/main.ts : root entry\n6. index.css : root css\n7. index.html : page entry\n\n## Run project\n\nUse `yarn dev` to run the project. And then you can check your page at browser.\n\n## Content of the vue file\n\n```vue\n# src/App.vue # html part\n<template>\n  <h1>{{ msg }}</h1>\n</template>\n\n# typescript part\n<script charset=\"utf-8\">\nexport default {\n  data() {\n    return {\n      msg: \"hello vue\",\n    };\n  },\n};\n</script>\n\n# css part\n<style type=\"text/css\" media=\"screen\">\nh1 {\n  text-align: center;\n  color: red;\n}\n</style>\n```\n\n## Commentary\n\nIn html part (inside of template lable), the commentary looks like this. `<!-- annotation -->`\n\nIn css part (inside of style lable), the commentary looks like this. `/* annotation */`\n\nIn typescript part (inside of script lable), the commentary looks like this. `// annotation` or `/* annotation */`\n\nThe content outside of the label does not effect.\n\n## Create an application instance\n\nEach vue application is created by function `createApp`. For example, you can create an application like this.\n\n```typescript\nimport { createApp } from \"vue\";\nimport App from \"./App.vue\";\nconst app = createApp(App);\napp.mount(\"#app\");\n```\n\nIn the above code, `app` is our root component. We use method `mount` to mount `app` to `#app`.\n\n`#app` represents a html label whose id is app. And by default, `#app` is declared in `index.html`. For example, `<div id=\"app\"></div>`.\n\nThe method `mount` returns an instance of the root component. You can get the properties of the component through its instance.\n\n```typescript\nconst app = Vue.createApp({\n  data() {\n    return { count: 4 };\n  },\n});\n\nconst vm = app.mount(\"#app\");\n\nconsole.log(vm.count);\n```\n\nA component contains custom properties and inner properties. You can also get inner properties through the instance of the component using `$`. For example, `$attrs`.\n\n## lifecycle hook\n\nLifetime hook is a function which would be called automatically in different stages of the program runtime.\n\nFor instance, you can use `created` hook to execute your code after an instance has been created.\n\n```typescript\nVue.createApp({\n  data() {\n    return { count: 1 };\n  },\n  created() {\n    /* `this` point to the instance of the component */\n    console.log(\"count is: \" + this.count);\n  },\n});\n```\n\nDo not use arrow function in properties. For example, `created: () => console.log(\"hello\")`.\n\n## Template syntax\n\n### Variable binding\n\nYou can bind typescript variables to html part.\n\n1. Usually the syntax is `{{ variable }}`.\n\n2. But if you want to bind a html label, the code needs to be changed.\n\n```vue\n<template>\n  <div>\n    <p>\n      <!-- failed to bind -->\n      {{ msg }}\n    </p>\n    <!-- successfully bind to html -->\n    <p>bind html label : <span v-html=\"msg\"></span></p>\n  </div>\n</template>\n\n<script charset=\"utf-8\">\nexport default {\n  data() {\n    return {\n      msg: \"<h2> hello </h2>\",\n    };\n  },\n};\n</script>\n```\n\n3. In order to bind attributes, the syntax will look like this.\n\n```vue\n<template>\n  <div>\n    <img v-bind:src=\"imgPath\" alt=\"\" />\n    <!-- or -->\n    <img :src=\"imgPath\" alt=\"\" />\n  </div>\n</template>\n\n<script charset=\"utf-8\">\nexport default {\n  data() {\n    return {\n\t\timgPath=\"imgPath\"\n    };\n  },\n};\n</script>\n```\n\n4. To bind dynamic attributes.\n\n```vue\n<template>\n  <div>\n    <!-- cause an error due to the static url -->\n    <a v-bind:[attributeName]=\"http://www.url.com\" target=\"_blank\"\n      >Anchor Text</a\n    >\n    <!-- you can fix the error in this way -->\n    <a v-bind:[attributeName]=\"'http://www.url.com'\" target=\"_blank\"\n      >Anchor Text</a\n    >\n    <!-- or you can also bind the url -->\n    <a v-bind:[attributeName]=\"link\" target=\"_blank\">Anchor Text</a>\n  </div>\n</template>\n\n<script charset=\"utf-8\">\nexport default {\n  data() {\n    return {\n      attributeName: \"href\",\n      link: \"http://www.url.com\",\n    };\n  },\n};\n</script>\n```\n\n5. Loop traversal\n\n```vue\n<template>\n  <div>\n    <ul>\n      <!-- :key is necessary, and each key must be unique -->\n      <li v-for=\"(item, index) in list\" :key=\"index\">\n        {{ index }}--{{ item }}\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script charset=\"utf-8\">\nexport default {\n  data() {\n    return {\n      list: [\"hello\", \"world\"],\n    };\n  },\n};\n</script>\n```\n\n`v-for` with a range.\n\n```html\n<div id=\"range\" class=\"demo\">\n  <span v-for=\"n in 10\" :key=\"n\">{{ n }} </span>\n</div>\n```\n\n6. Only bind once\n\n```vue\n<template>\n  <!-- this would never change -->\n  <span v-once>{{ msg }}</span>\n</template>\n```\n\n7. Bind js expressions\n\n```vue\n<template>\n  {{ msg + 1 }}\n</template>\n```\n\n### Method, class and style binding\n\n1. Bind method\n\n```vue\n<template>\n  <div>\n    {{ msg }}\n    <button @click=\"setMsg\">set msg</button>\n    <button @click=\"getMsg\">get msg</button>\n  </div>\n</template>\n\n<script charset=\"utf-8\">\nexport default {\n  data() {\n    return {\n      msg: \"hello\",\n    };\n  },\n  methods: {\n    setMsg() {\n      this.msg = \"changed msg\";\n      /* you can call methods with `this` */\n      this.getMsg();\n    },\n    getMsg() {\n      alert(this.msg);\n    },\n  },\n};\n</script>\n```\n\n```vue\n<template>\n  {{ counter }}\n  <br />\n  <!-- You can call a method directly in the template. It will be called multiple -->\n  <!-- times in the rendering stage of the template. So the value of counter is not -->\n  <!-- sure. -->\n  {{ count() }}\n  <button @click=\"count\">click here to count</button>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {\n      counter: 1,\n    };\n  },\n  methods: {\n    count() {\n      this.$data.counter++;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\nBind method with paramaters.\n\n```vue\n<template>\n  <button @click=\"getMessage($event)\">click here</button>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {};\n  },\n  methods: {\n    getMessage(e: any) {\n      e.target.style.background = \"red\";\n      alert(e);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\nYou can also bind methods with mutiple paramaters, like this. Note that event must be the last paramater.\n\n```vue\n<template>\n  <button @click=\"getMessage('hello', $event)\">click here</button>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {};\n  },\n  methods: {\n    getMessage(str: string, e: any) {\n      e.target.style.background = \"red\";\n      console.log(str);\n      alert(e);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\nBind mutiple methods.\n\n```\n<template>\n  <button @click=\"hello1($event), hello2($event)\">click here</button>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {};\n  },\n  methods: {\n    hello1(e: any) {\n      e.target.style.background = \"red\";\n    },\n    hello2(e: any) {\n      alert(e);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n</style>\n```\n\nUse event modifiers.\n\n```html\n<a @click.stop=\"doSomething\"></a>\n<!-- the modifiers provided by vue is listed below -->\n<!-- 1. .stop -->\n<!-- 2. .prevent -->\n<!-- 3. .capture -->\n<!-- 4. .self -->\n<!-- 5. .once -->\n<!-- 6. .passive -->\n```\n\nThere are also key modifiers, such as `<input @keyup.enter = \"submit\" />`.\n\nYou can use key aliases, such as `.enter`, `.tab`, `.delete`, `.esc`, `.space`, `.up`, `.down`, `.left`, `.right`, instead of key modifiers.\n\nSystem modifier keys such as `.ctrl`, `.alt`, `.shift`, `.meta` are also useful.\n\n2. Bind class\n\n```vue\n<template>\n  <div class=\"custom\"></div>\n</template>\n\n<style lang=\"less\" scoped>\n.custom {\n  background: red;\n  height: 100px;\n  width: 100px;\n}\n</style>\n```\n\nYou can also bind classes dynamically.\n\n```vue\n<template>\n  <div :class=\"myClass\"></div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {\n      myClass: \"custom\",\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.custom {\n  background: red;\n  height: 100px;\n  width: 100px;\n}\n</style>\n```\n\nOptionally bind classes and bind more than one class at one time.\n\n```vue\n<template>\n  <!-- bind class `active` and `error` optionally and also bind class `custom` -->\n  <div class=\"custom\" :class=\"{ active: isActive, error: isError }\"></div>\n\n  <!-- bind class `active` or `error` -->\n  <div class=\"{isActive ? active : error}\"></div>\n\n  <!-- bind class `custom` and `active` -->\n  <div :class=\"['active', 'custom']\"></div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {\n      isActive: true,\n      isError: false,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.custom {\n  margin: 10px;\n}\n.active {\n  background: yellowgreen;\n  height: 100px;\n  width: 100px;\n}\n.error {\n  background: red;\n  height: 100px;\n  width: 100px;\n}\n</style>\n```\n\n3. Bind style\n\n```vue\n<template>\n  <div :style=\"{ color: myColor, fontSize: myFontSize }\">hello</div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {\n      myColor: \"red\",\n      myFontSize: \"190px\",\n    };\n  },\n};\n</script>\n```\n\nYou can also bind styles optionally or in a form of array like the class binding.\n\n#### Instance : monitor an input box\n\n1. The first option\n\n```vue\n<template>\n  <!-- key up event will be triggered when your keyboard pops up. -->\n  <input type=\"text\" @keyup=\"doSearch($event)\" />\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {};\n  },\n  methods: {\n    doSearch(e: any) {\n      console.log(e.keyCode);\n      /* check the input to confirm whether `enter` is pressed. */\n      if (e.keyCode == 13) {\n        alert(\"enter key is pressed\");\n        /* do search */\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\n2. The second option\n\n```vue\n<template>\n  <!-- key up event will be triggered when your keyboard pops up. -->\n  <!-- keyup.enter will be triggered when you input a `enter` -->\n  <input type=\"text\" @keyup.enter=\"doSearch($event)\" />\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {};\n  },\n  methods: {\n    doSearch(e: any) {\n      /* no need to check the input */\n      console.log(e.keyCode);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\n### DOM\n\n```vue\n<template>\n  <ul>\n    <li>name : <input type=\"text\" id=\"username\" /></li>\n    <li>age : <input type=\"text\" ref=\"age\" /></li>\n  </ul>\n  <button @click=\"doSubmit()\" class=\"submit\">get content</button>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {};\n  },\n  methods: {\n    doSubmit() {\n      var username = document.querySelector(\"#username\");\n      if (username != null) {\n        console.log(username);\n      }\n      console.log(this.$refs.age);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\n### Two-way binding\n\nDOM consumes a lot of resources. We use the way of two-way binding to get values instead.\n\n```vue\n<template>\n  <ul>\n    <!-- two-way binding -->\n    <li>name : <input type=\"text\" id=\"username\" v-model=\"username\" /></li>\n  </ul>\n  <button @click=\"doSubmit()\" class=\"submit\">get content</button>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {\n      /* two-way binding */\n      username: \"jack\",\n    };\n  },\n  methods: {\n    doSubmit() {\n      console.log(this.username);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\nThere are some modifiers for `v-model` binding, suck as `.lazy`, `.number`, `.trim`.\n\n### If else\n\n```vue\n<template>\n  {{ num == 1 ? \"num=1\" : \"num!=1\" }}\n  <div v-if=\"num == 1\">hello div</div>\n  <!-- this is invaild and will not take effect -->\n  <span vi-else>hello span</span>\n\n  <!-- this is the correct code -->\n  <div v-if=\"num == 1\">hello div</div>\n  <!-- if num != 1, the label will be deleted by DOM -->\n  <div v-else>goodbye div</div>\n\n  <!-- if num != 1, the label will be hidden by css -->\n  <div v-show=\"num == 1\">hello div</div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {\n      num: 2,\n    };\n  },\n};\n</script>\n```\n\n### Compute\n\nThe function declared in `computed` will be called when variables changed.\n\n```vue\n<template>\n  {{ calculateNum }}\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return { message: \"hello\" };\n  },\n  computed: {\n    calculateNum: function () {\n      let self = this as any;\n      return self.message.split(\"\").reverse().join(\"\");\n      /* The lsp will report an error when using the code below. But it will not cause error during the runtime.*/\n      /* return this.message.split(\"\").reverse().join(\"\"); */\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\nThe error in above code is caused by the static type checking of typescript lsp. Once you meet this error, and feel confused about the solution. You can fix it by transforming the type to `any`.\n\n### Watcher\n\n```vue\n<template>\n  {{ counter }}\n  {{ count }}\n  <button @click=\"counter++\">click me</button>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return { counter: 1, count: 0 };\n  },\n  watch: {\n    /* the name of the function must be the same as the variable you want to watch */\n    counter: function (value) {\n      this.count = value * 2;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\n### Less\n\n```vue\n<template>\n  <div class=\"todolist\">\n    <h3>TodoList</h3>\n  </div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {},\n};\n</script>\n\n<style lang=\"less\" scoped>\n.todolist {\n  width: 500px;\n  height: 500px;\n  background-color: green;\n  h3 {\n    color: red;\n  }\n}\n</style>\n```\n\n### Debouncing and Throttling\n\nYou can implement debouncing and throttling by using libraries such as `Lodash`.\n\n```html\n<script src=\"https://unpkg.com/lodash@4.17.20/lodash.min.js\"></script>\n<script>\n  Vue.createApp({\n    methods: {\n      // Debouncing with Lodash\n      click: _.debounce(function () {\n        // ... respond to click ...\n      }, 500),\n    },\n  }).mount(\"#app\");\n</script>\n```\n\nIf you want to keep the component instance independently, you can add the debounced function in the created lifecycle hook.\n\n```typescript\napp.component(\"save-button\", {\n  created() {\n    // Debouncing with Lodash\n    this.debouncedClick = _.debounce(this.click, 500);\n  },\n  unmounted() {\n    // Cancel the timer when the component is removed\n    this.debouncedClick.cancel();\n  },\n  methods: {\n    click() {\n      // ... respond to click ...\n    },\n  },\n  template: `\n    <button @click=\"debouncedClick\">\n      Save\n    </button>\n  `,\n});\n```\n\nHere is the [advanced tutorial](https://www.niuiic.top/2021/06/06/advanced-tutorial-of-vue-vite-typescript/).\n","source":"_posts/basic-tutorial-of-vue-vite-typescript.md","raw":"---\ntitle: Basic Tutorial of Vue-Vite-Typescript\ndate: 2021-05-17 22:08:07\ntags:\n  - Vue\n  - Vite\n  - Typescript\ncategories:\n  - Vue\n---\n\n# Basic Tutorial of Vue-Vite-Typescript\n\nThe following are the notes I took when I studied vue with reference to the official tutorial. The biggest difference between my notes and official tutorial is that I use typescript while the tutorial uses javascript. I suggest you learn vue following the official tutorial , but I firmly believe that you need to know some of the differences in the use of ts and js.\n\nAnd please forgive my stiff English, I was just too lazy to switch input methods.\n\n## Init a vue project\n\nCreate the project\n\n```\nnpm init @vitejs/app appName -- --template vue-ts\ncd appName\nnpm install\nnpm install less -D\nnpm install eslint eslint-plugin-vue -D\nnpm install @vuedx/typescript-plugin-vue -D\nnode node_modules/esbuild/install.js\n```\n\nModify `coc-settings.json`\n\n```\n  \"vetur.useWorkspaceDependencies\": true\n```\n\nAdd the content below to `tsconfig.json`\n\n```json\n    \"plugins\": [\n      {\n        \"name\": \"@vuedx/typescript-plugin-vue\"\n      }\n    ],\n```\n\nModify `vite.config.ts` which is located in the root path of the project.\n\n```typescript\nimport { defineConfig } from \"vite\";\nimport vue from \"@vitejs/plugin-vue\";\n\nexport default defineConfig({\n  plugins: [vue()],\n  resolve: {\n    alias: { vue: \"vue/dist/vue.esm-bundler.js\" },\n  },\n});\n```\n\n## Directory structure of the project\n\n![directory structure](1.png)\n\n1. public : public resource directory\n2. src/assets : static resource directory\n3. src/components : custom components\n4. src/App.vue : root component\n5. src/main.ts : root entry\n6. index.css : root css\n7. index.html : page entry\n\n## Run project\n\nUse `yarn dev` to run the project. And then you can check your page at browser.\n\n## Content of the vue file\n\n```vue\n# src/App.vue # html part\n<template>\n  <h1>{{ msg }}</h1>\n</template>\n\n# typescript part\n<script charset=\"utf-8\">\nexport default {\n  data() {\n    return {\n      msg: \"hello vue\",\n    };\n  },\n};\n</script>\n\n# css part\n<style type=\"text/css\" media=\"screen\">\nh1 {\n  text-align: center;\n  color: red;\n}\n</style>\n```\n\n## Commentary\n\nIn html part (inside of template lable), the commentary looks like this. `<!-- annotation -->`\n\nIn css part (inside of style lable), the commentary looks like this. `/* annotation */`\n\nIn typescript part (inside of script lable), the commentary looks like this. `// annotation` or `/* annotation */`\n\nThe content outside of the label does not effect.\n\n## Create an application instance\n\nEach vue application is created by function `createApp`. For example, you can create an application like this.\n\n```typescript\nimport { createApp } from \"vue\";\nimport App from \"./App.vue\";\nconst app = createApp(App);\napp.mount(\"#app\");\n```\n\nIn the above code, `app` is our root component. We use method `mount` to mount `app` to `#app`.\n\n`#app` represents a html label whose id is app. And by default, `#app` is declared in `index.html`. For example, `<div id=\"app\"></div>`.\n\nThe method `mount` returns an instance of the root component. You can get the properties of the component through its instance.\n\n```typescript\nconst app = Vue.createApp({\n  data() {\n    return { count: 4 };\n  },\n});\n\nconst vm = app.mount(\"#app\");\n\nconsole.log(vm.count);\n```\n\nA component contains custom properties and inner properties. You can also get inner properties through the instance of the component using `$`. For example, `$attrs`.\n\n## lifecycle hook\n\nLifetime hook is a function which would be called automatically in different stages of the program runtime.\n\nFor instance, you can use `created` hook to execute your code after an instance has been created.\n\n```typescript\nVue.createApp({\n  data() {\n    return { count: 1 };\n  },\n  created() {\n    /* `this` point to the instance of the component */\n    console.log(\"count is: \" + this.count);\n  },\n});\n```\n\nDo not use arrow function in properties. For example, `created: () => console.log(\"hello\")`.\n\n## Template syntax\n\n### Variable binding\n\nYou can bind typescript variables to html part.\n\n1. Usually the syntax is `{{ variable }}`.\n\n2. But if you want to bind a html label, the code needs to be changed.\n\n```vue\n<template>\n  <div>\n    <p>\n      <!-- failed to bind -->\n      {{ msg }}\n    </p>\n    <!-- successfully bind to html -->\n    <p>bind html label : <span v-html=\"msg\"></span></p>\n  </div>\n</template>\n\n<script charset=\"utf-8\">\nexport default {\n  data() {\n    return {\n      msg: \"<h2> hello </h2>\",\n    };\n  },\n};\n</script>\n```\n\n3. In order to bind attributes, the syntax will look like this.\n\n```vue\n<template>\n  <div>\n    <img v-bind:src=\"imgPath\" alt=\"\" />\n    <!-- or -->\n    <img :src=\"imgPath\" alt=\"\" />\n  </div>\n</template>\n\n<script charset=\"utf-8\">\nexport default {\n  data() {\n    return {\n\t\timgPath=\"imgPath\"\n    };\n  },\n};\n</script>\n```\n\n4. To bind dynamic attributes.\n\n```vue\n<template>\n  <div>\n    <!-- cause an error due to the static url -->\n    <a v-bind:[attributeName]=\"http://www.url.com\" target=\"_blank\"\n      >Anchor Text</a\n    >\n    <!-- you can fix the error in this way -->\n    <a v-bind:[attributeName]=\"'http://www.url.com'\" target=\"_blank\"\n      >Anchor Text</a\n    >\n    <!-- or you can also bind the url -->\n    <a v-bind:[attributeName]=\"link\" target=\"_blank\">Anchor Text</a>\n  </div>\n</template>\n\n<script charset=\"utf-8\">\nexport default {\n  data() {\n    return {\n      attributeName: \"href\",\n      link: \"http://www.url.com\",\n    };\n  },\n};\n</script>\n```\n\n5. Loop traversal\n\n```vue\n<template>\n  <div>\n    <ul>\n      <!-- :key is necessary, and each key must be unique -->\n      <li v-for=\"(item, index) in list\" :key=\"index\">\n        {{ index }}--{{ item }}\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script charset=\"utf-8\">\nexport default {\n  data() {\n    return {\n      list: [\"hello\", \"world\"],\n    };\n  },\n};\n</script>\n```\n\n`v-for` with a range.\n\n```html\n<div id=\"range\" class=\"demo\">\n  <span v-for=\"n in 10\" :key=\"n\">{{ n }} </span>\n</div>\n```\n\n6. Only bind once\n\n```vue\n<template>\n  <!-- this would never change -->\n  <span v-once>{{ msg }}</span>\n</template>\n```\n\n7. Bind js expressions\n\n```vue\n<template>\n  {{ msg + 1 }}\n</template>\n```\n\n### Method, class and style binding\n\n1. Bind method\n\n```vue\n<template>\n  <div>\n    {{ msg }}\n    <button @click=\"setMsg\">set msg</button>\n    <button @click=\"getMsg\">get msg</button>\n  </div>\n</template>\n\n<script charset=\"utf-8\">\nexport default {\n  data() {\n    return {\n      msg: \"hello\",\n    };\n  },\n  methods: {\n    setMsg() {\n      this.msg = \"changed msg\";\n      /* you can call methods with `this` */\n      this.getMsg();\n    },\n    getMsg() {\n      alert(this.msg);\n    },\n  },\n};\n</script>\n```\n\n```vue\n<template>\n  {{ counter }}\n  <br />\n  <!-- You can call a method directly in the template. It will be called multiple -->\n  <!-- times in the rendering stage of the template. So the value of counter is not -->\n  <!-- sure. -->\n  {{ count() }}\n  <button @click=\"count\">click here to count</button>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {\n      counter: 1,\n    };\n  },\n  methods: {\n    count() {\n      this.$data.counter++;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\nBind method with paramaters.\n\n```vue\n<template>\n  <button @click=\"getMessage($event)\">click here</button>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {};\n  },\n  methods: {\n    getMessage(e: any) {\n      e.target.style.background = \"red\";\n      alert(e);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\nYou can also bind methods with mutiple paramaters, like this. Note that event must be the last paramater.\n\n```vue\n<template>\n  <button @click=\"getMessage('hello', $event)\">click here</button>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {};\n  },\n  methods: {\n    getMessage(str: string, e: any) {\n      e.target.style.background = \"red\";\n      console.log(str);\n      alert(e);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\nBind mutiple methods.\n\n```\n<template>\n  <button @click=\"hello1($event), hello2($event)\">click here</button>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {};\n  },\n  methods: {\n    hello1(e: any) {\n      e.target.style.background = \"red\";\n    },\n    hello2(e: any) {\n      alert(e);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n</style>\n```\n\nUse event modifiers.\n\n```html\n<a @click.stop=\"doSomething\"></a>\n<!-- the modifiers provided by vue is listed below -->\n<!-- 1. .stop -->\n<!-- 2. .prevent -->\n<!-- 3. .capture -->\n<!-- 4. .self -->\n<!-- 5. .once -->\n<!-- 6. .passive -->\n```\n\nThere are also key modifiers, such as `<input @keyup.enter = \"submit\" />`.\n\nYou can use key aliases, such as `.enter`, `.tab`, `.delete`, `.esc`, `.space`, `.up`, `.down`, `.left`, `.right`, instead of key modifiers.\n\nSystem modifier keys such as `.ctrl`, `.alt`, `.shift`, `.meta` are also useful.\n\n2. Bind class\n\n```vue\n<template>\n  <div class=\"custom\"></div>\n</template>\n\n<style lang=\"less\" scoped>\n.custom {\n  background: red;\n  height: 100px;\n  width: 100px;\n}\n</style>\n```\n\nYou can also bind classes dynamically.\n\n```vue\n<template>\n  <div :class=\"myClass\"></div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {\n      myClass: \"custom\",\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.custom {\n  background: red;\n  height: 100px;\n  width: 100px;\n}\n</style>\n```\n\nOptionally bind classes and bind more than one class at one time.\n\n```vue\n<template>\n  <!-- bind class `active` and `error` optionally and also bind class `custom` -->\n  <div class=\"custom\" :class=\"{ active: isActive, error: isError }\"></div>\n\n  <!-- bind class `active` or `error` -->\n  <div class=\"{isActive ? active : error}\"></div>\n\n  <!-- bind class `custom` and `active` -->\n  <div :class=\"['active', 'custom']\"></div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {\n      isActive: true,\n      isError: false,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.custom {\n  margin: 10px;\n}\n.active {\n  background: yellowgreen;\n  height: 100px;\n  width: 100px;\n}\n.error {\n  background: red;\n  height: 100px;\n  width: 100px;\n}\n</style>\n```\n\n3. Bind style\n\n```vue\n<template>\n  <div :style=\"{ color: myColor, fontSize: myFontSize }\">hello</div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {\n      myColor: \"red\",\n      myFontSize: \"190px\",\n    };\n  },\n};\n</script>\n```\n\nYou can also bind styles optionally or in a form of array like the class binding.\n\n#### Instance : monitor an input box\n\n1. The first option\n\n```vue\n<template>\n  <!-- key up event will be triggered when your keyboard pops up. -->\n  <input type=\"text\" @keyup=\"doSearch($event)\" />\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {};\n  },\n  methods: {\n    doSearch(e: any) {\n      console.log(e.keyCode);\n      /* check the input to confirm whether `enter` is pressed. */\n      if (e.keyCode == 13) {\n        alert(\"enter key is pressed\");\n        /* do search */\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\n2. The second option\n\n```vue\n<template>\n  <!-- key up event will be triggered when your keyboard pops up. -->\n  <!-- keyup.enter will be triggered when you input a `enter` -->\n  <input type=\"text\" @keyup.enter=\"doSearch($event)\" />\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {};\n  },\n  methods: {\n    doSearch(e: any) {\n      /* no need to check the input */\n      console.log(e.keyCode);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\n### DOM\n\n```vue\n<template>\n  <ul>\n    <li>name : <input type=\"text\" id=\"username\" /></li>\n    <li>age : <input type=\"text\" ref=\"age\" /></li>\n  </ul>\n  <button @click=\"doSubmit()\" class=\"submit\">get content</button>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {};\n  },\n  methods: {\n    doSubmit() {\n      var username = document.querySelector(\"#username\");\n      if (username != null) {\n        console.log(username);\n      }\n      console.log(this.$refs.age);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\n### Two-way binding\n\nDOM consumes a lot of resources. We use the way of two-way binding to get values instead.\n\n```vue\n<template>\n  <ul>\n    <!-- two-way binding -->\n    <li>name : <input type=\"text\" id=\"username\" v-model=\"username\" /></li>\n  </ul>\n  <button @click=\"doSubmit()\" class=\"submit\">get content</button>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {\n      /* two-way binding */\n      username: \"jack\",\n    };\n  },\n  methods: {\n    doSubmit() {\n      console.log(this.username);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\nThere are some modifiers for `v-model` binding, suck as `.lazy`, `.number`, `.trim`.\n\n### If else\n\n```vue\n<template>\n  {{ num == 1 ? \"num=1\" : \"num!=1\" }}\n  <div v-if=\"num == 1\">hello div</div>\n  <!-- this is invaild and will not take effect -->\n  <span vi-else>hello span</span>\n\n  <!-- this is the correct code -->\n  <div v-if=\"num == 1\">hello div</div>\n  <!-- if num != 1, the label will be deleted by DOM -->\n  <div v-else>goodbye div</div>\n\n  <!-- if num != 1, the label will be hidden by css -->\n  <div v-show=\"num == 1\">hello div</div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return {\n      num: 2,\n    };\n  },\n};\n</script>\n```\n\n### Compute\n\nThe function declared in `computed` will be called when variables changed.\n\n```vue\n<template>\n  {{ calculateNum }}\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return { message: \"hello\" };\n  },\n  computed: {\n    calculateNum: function () {\n      let self = this as any;\n      return self.message.split(\"\").reverse().join(\"\");\n      /* The lsp will report an error when using the code below. But it will not cause error during the runtime.*/\n      /* return this.message.split(\"\").reverse().join(\"\"); */\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\nThe error in above code is caused by the static type checking of typescript lsp. Once you meet this error, and feel confused about the solution. You can fix it by transforming the type to `any`.\n\n### Watcher\n\n```vue\n<template>\n  {{ counter }}\n  {{ count }}\n  <button @click=\"counter++\">click me</button>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {\n    return { counter: 1, count: 0 };\n  },\n  watch: {\n    /* the name of the function must be the same as the variable you want to watch */\n    counter: function (value) {\n      this.count = value * 2;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\n### Less\n\n```vue\n<template>\n  <div class=\"todolist\">\n    <h3>TodoList</h3>\n  </div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  data() {},\n};\n</script>\n\n<style lang=\"less\" scoped>\n.todolist {\n  width: 500px;\n  height: 500px;\n  background-color: green;\n  h3 {\n    color: red;\n  }\n}\n</style>\n```\n\n### Debouncing and Throttling\n\nYou can implement debouncing and throttling by using libraries such as `Lodash`.\n\n```html\n<script src=\"https://unpkg.com/lodash@4.17.20/lodash.min.js\"></script>\n<script>\n  Vue.createApp({\n    methods: {\n      // Debouncing with Lodash\n      click: _.debounce(function () {\n        // ... respond to click ...\n      }, 500),\n    },\n  }).mount(\"#app\");\n</script>\n```\n\nIf you want to keep the component instance independently, you can add the debounced function in the created lifecycle hook.\n\n```typescript\napp.component(\"save-button\", {\n  created() {\n    // Debouncing with Lodash\n    this.debouncedClick = _.debounce(this.click, 500);\n  },\n  unmounted() {\n    // Cancel the timer when the component is removed\n    this.debouncedClick.cancel();\n  },\n  methods: {\n    click() {\n      // ... respond to click ...\n    },\n  },\n  template: `\n    <button @click=\"debouncedClick\">\n      Save\n    </button>\n  `,\n});\n```\n\nHere is the [advanced tutorial](https://www.niuiic.top/2021/06/06/advanced-tutorial-of-vue-vite-typescript/).\n","slug":"basic-tutorial-of-vue-vite-typescript","published":1,"updated":"2021-06-13T01:03:02.728Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9bj0003dbizabqa89bh","content":"<h1 id=\"Basic-Tutorial-of-Vue-Vite-Typescript\"><a href=\"#Basic-Tutorial-of-Vue-Vite-Typescript\" class=\"headerlink\" title=\"Basic Tutorial of Vue-Vite-Typescript\"></a>Basic Tutorial of Vue-Vite-Typescript</h1><p>The following are the notes I took when I studied vue with reference to the official tutorial. The biggest difference between my notes and official tutorial is that I use typescript while the tutorial uses javascript. I suggest you learn vue following the official tutorial , but I firmly believe that you need to know some of the differences in the use of ts and js.</p>\n<p>And please forgive my stiff English, I was just too lazy to switch input methods.</p>\n<h2 id=\"Init-a-vue-project\"><a href=\"#Init-a-vue-project\" class=\"headerlink\" title=\"Init a vue project\"></a>Init a vue project</h2><p>Create the project</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">npm init @vitejs&#x2F;app appName -- --template vue-ts\ncd appName\nnpm install\nnpm install less -D\nnpm install eslint eslint-plugin-vue -D\nnpm install @vuedx&#x2F;typescript-plugin-vue -D\nnode node_modules&#x2F;esbuild&#x2F;install.js<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Modify <code>coc-settings.json</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&quot;vetur.useWorkspaceDependencies&quot;: true<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>Add the content below to <code>tsconfig.json</code></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@vuedx/typescript-plugin-vue\"</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Modify <code>vite.config.ts</code> which is located in the root path of the project.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> defineConfig <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vite\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> vue <span class=\"token keyword\">from</span> <span class=\"token string\">\"@vitejs/plugin-vue\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">defineConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token function\">vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  resolve<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    alias<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> vue<span class=\"token operator\">:</span> <span class=\"token string\">\"vue/dist/vue.esm-bundler.js\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"Directory-structure-of-the-project\"><a href=\"#Directory-structure-of-the-project\" class=\"headerlink\" title=\"Directory structure of the project\"></a>Directory structure of the project</h2><p><img src=\"1.png\" alt=\"directory structure\"></p>\n<ol>\n<li>public : public resource directory</li>\n<li>src/assets : static resource directory</li>\n<li>src/components : custom components</li>\n<li>src/App.vue : root component</li>\n<li>src/main.ts : root entry</li>\n<li>index.css : root css</li>\n<li>index.html : page entry</li>\n</ol>\n<h2 id=\"Run-project\"><a href=\"#Run-project\" class=\"headerlink\" title=\"Run project\"></a>Run project</h2><p>Use <code>yarn dev</code> to run the project. And then you can check your page at browser.</p>\n<h2 id=\"Content-of-the-vue-file\"><a href=\"#Content-of-the-vue-file\" class=\"headerlink\" title=\"Content of the vue file\"></a>Content of the vue file</h2><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\"># src&#x2F;App.vue # html part\n&lt;template&gt;\n  &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;&#x2F;h1&gt;\n&lt;&#x2F;template&gt;\n\n# typescript part\n&lt;script charset&#x3D;&quot;utf-8&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      msg: &quot;hello vue&quot;,\n    &#125;;\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n# css part\n&lt;style type&#x3D;&quot;text&#x2F;css&quot; media&#x3D;&quot;screen&quot;&gt;\nh1 &#123;\n  text-align: center;\n  color: red;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"Commentary\"><a href=\"#Commentary\" class=\"headerlink\" title=\"Commentary\"></a>Commentary</h2><p>In html part (inside of template lable), the commentary looks like this. <code>&lt;!-- annotation --&gt;</code></p>\n<p>In css part (inside of style lable), the commentary looks like this. <code>/* annotation */</code></p>\n<p>In typescript part (inside of script lable), the commentary looks like this. <code>// annotation</code> or <code>/* annotation */</code></p>\n<p>The content outside of the label does not effect.</p>\n<h2 id=\"Create-an-application-instance\"><a href=\"#Create-an-application-instance\" class=\"headerlink\" title=\"Create an application instance\"></a>Create an application instance</h2><p>Each vue application is created by function <code>createApp</code>. For example, you can create an application like this.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> createApp <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">\"./App.vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>In the above code, <code>app</code> is our root component. We use method <code>mount</code> to mount <code>app</code> to <code>#app</code>.</p>\n<p><code>#app</code> represents a html label whose id is app. And by default, <code>#app</code> is declared in <code>index.html</code>. For example, <code>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</code>.</p>\n<p>The method <code>mount</code> returns an instance of the root component. You can get the properties of the component through its instance.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> Vue<span class=\"token punctuation\">.</span><span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span> count<span class=\"token operator\">:</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> vm <span class=\"token operator\">=</span> app<span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>vm<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>A component contains custom properties and inner properties. You can also get inner properties through the instance of the component using <code>$</code>. For example, <code>$attrs</code>.</p>\n<h2 id=\"lifecycle-hook\"><a href=\"#lifecycle-hook\" class=\"headerlink\" title=\"lifecycle hook\"></a>lifecycle hook</h2><p>Lifetime hook is a function which would be called automatically in different stages of the program runtime.</p>\n<p>For instance, you can use <code>created</code> hook to execute your code after an instance has been created.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span> count<span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">created</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">/* `this` point to the instance of the component */</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"count is: \"</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Do not use arrow function in properties. For example, <code>created: () =&gt; console.log(&quot;hello&quot;)</code>.</p>\n<h2 id=\"Template-syntax\"><a href=\"#Template-syntax\" class=\"headerlink\" title=\"Template syntax\"></a>Template syntax</h2><h3 id=\"Variable-binding\"><a href=\"#Variable-binding\" class=\"headerlink\" title=\"Variable binding\"></a>Variable binding</h3><p>You can bind typescript variables to html part.</p>\n<ol>\n<li><p>Usually the syntax is <code>&#123;&#123; variable &#125;&#125;</code>.</p>\n</li>\n<li><p>But if you want to bind a html label, the code needs to be changed.</p>\n</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;p&gt;\n      &lt;!-- failed to bind --&gt;\n      &#123;&#123; msg &#125;&#125;\n    &lt;&#x2F;p&gt;\n    &lt;!-- successfully bind to html --&gt;\n    &lt;p&gt;bind html label : &lt;span v-html&#x3D;&quot;msg&quot;&gt;&lt;&#x2F;span&gt;&lt;&#x2F;p&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script charset&#x3D;&quot;utf-8&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      msg: &quot;&lt;h2&gt; hello &lt;&#x2F;h2&gt;&quot;,\n    &#125;;\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ol start=\"3\">\n<li>In order to bind attributes, the syntax will look like this.</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;img v-bind:src&#x3D;&quot;imgPath&quot; alt&#x3D;&quot;&quot; &#x2F;&gt;\n    &lt;!-- or --&gt;\n    &lt;img :src&#x3D;&quot;imgPath&quot; alt&#x3D;&quot;&quot; &#x2F;&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script charset&#x3D;&quot;utf-8&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n\t\timgPath&#x3D;&quot;imgPath&quot;\n    &#125;;\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ol start=\"4\">\n<li>To bind dynamic attributes.</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;!-- cause an error due to the static url --&gt;\n    &lt;a v-bind:[attributeName]&#x3D;&quot;http:&#x2F;&#x2F;www.url.com&quot; target&#x3D;&quot;_blank&quot;\n      &gt;Anchor Text&lt;&#x2F;a\n    &gt;\n    &lt;!-- you can fix the error in this way --&gt;\n    &lt;a v-bind:[attributeName]&#x3D;&quot;&#39;http:&#x2F;&#x2F;www.url.com&#39;&quot; target&#x3D;&quot;_blank&quot;\n      &gt;Anchor Text&lt;&#x2F;a\n    &gt;\n    &lt;!-- or you can also bind the url --&gt;\n    &lt;a v-bind:[attributeName]&#x3D;&quot;link&quot; target&#x3D;&quot;_blank&quot;&gt;Anchor Text&lt;&#x2F;a&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script charset&#x3D;&quot;utf-8&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      attributeName: &quot;href&quot;,\n      link: &quot;http:&#x2F;&#x2F;www.url.com&quot;,\n    &#125;;\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ol start=\"5\">\n<li>Loop traversal</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;ul&gt;\n      &lt;!-- :key is necessary, and each key must be unique --&gt;\n      &lt;li v-for&#x3D;&quot;(item, index) in list&quot; :key&#x3D;&quot;index&quot;&gt;\n        &#123;&#123; index &#125;&#125;--&#123;&#123; item &#125;&#125;\n      &lt;&#x2F;li&gt;\n    &lt;&#x2F;ul&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script charset&#x3D;&quot;utf-8&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      list: [&quot;hello&quot;, &quot;world&quot;],\n    &#125;;\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>v-for</code> with a range.</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>range<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>demo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">v-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>n in 10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">:key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>n<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>&#123;&#123; n &#125;&#125; <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<ol start=\"6\">\n<li>Only bind once</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;!-- this would never change --&gt;\n  &lt;span v-once&gt;&#123;&#123; msg &#125;&#125;&lt;&#x2F;span&gt;\n&lt;&#x2F;template&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ol start=\"7\">\n<li>Bind js expressions</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &#123;&#123; msg + 1 &#125;&#125;\n&lt;&#x2F;template&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"Method-class-and-style-binding\"><a href=\"#Method-class-and-style-binding\" class=\"headerlink\" title=\"Method, class and style binding\"></a>Method, class and style binding</h3><ol>\n<li>Bind method</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &#123;&#123; msg &#125;&#125;\n    &lt;button @click&#x3D;&quot;setMsg&quot;&gt;set msg&lt;&#x2F;button&gt;\n    &lt;button @click&#x3D;&quot;getMsg&quot;&gt;get msg&lt;&#x2F;button&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script charset&#x3D;&quot;utf-8&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      msg: &quot;hello&quot;,\n    &#125;;\n  &#125;,\n  methods: &#123;\n    setMsg() &#123;\n      this.msg &#x3D; &quot;changed msg&quot;;\n      &#x2F;* you can call methods with &#96;this&#96; *&#x2F;\n      this.getMsg();\n    &#125;,\n    getMsg() &#123;\n      alert(this.msg);\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &#123;&#123; counter &#125;&#125;\n  &lt;br &#x2F;&gt;\n  &lt;!-- You can call a method directly in the template. It will be called multiple --&gt;\n  &lt;!-- times in the rendering stage of the template. So the value of counter is not --&gt;\n  &lt;!-- sure. --&gt;\n  &#123;&#123; count() &#125;&#125;\n  &lt;button @click&#x3D;&quot;count&quot;&gt;click here to count&lt;&#x2F;button&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      counter: 1,\n    &#125;;\n  &#125;,\n  methods: &#123;\n    count() &#123;\n      this.$data.counter++;\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Bind method with paramaters.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;button @click&#x3D;&quot;getMessage($event)&quot;&gt;click here&lt;&#x2F;button&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;&#125;;\n  &#125;,\n  methods: &#123;\n    getMessage(e: any) &#123;\n      e.target.style.background &#x3D; &quot;red&quot;;\n      alert(e);\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>You can also bind methods with mutiple paramaters, like this. Note that event must be the last paramater.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;button @click&#x3D;&quot;getMessage(&#39;hello&#39;, $event)&quot;&gt;click here&lt;&#x2F;button&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;&#125;;\n  &#125;,\n  methods: &#123;\n    getMessage(str: string, e: any) &#123;\n      e.target.style.background &#x3D; &quot;red&quot;;\n      console.log(str);\n      alert(e);\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Bind mutiple methods.</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;template&gt;\n  &lt;button @click&#x3D;&quot;hello1($event), hello2($event)&quot;&gt;click here&lt;&#x2F;button&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;&#125;;\n  &#125;,\n  methods: &#123;\n    hello1(e: any) &#123;\n      e.target.style.background &#x3D; &quot;red&quot;;\n    &#125;,\n    hello2(e: any) &#123;\n      alert(e);\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Use event modifiers.</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">@click.stop</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>doSomething<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- the modifiers provided by vue is listed below --></span>\n<span class=\"token comment\">&lt;!-- 1. .stop --></span>\n<span class=\"token comment\">&lt;!-- 2. .prevent --></span>\n<span class=\"token comment\">&lt;!-- 3. .capture --></span>\n<span class=\"token comment\">&lt;!-- 4. .self --></span>\n<span class=\"token comment\">&lt;!-- 5. .once --></span>\n<span class=\"token comment\">&lt;!-- 6. .passive --></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>There are also key modifiers, such as <code>&lt;input @keyup.enter = &quot;submit&quot; /&gt;</code>.</p>\n<p>You can use key aliases, such as <code>.enter</code>, <code>.tab</code>, <code>.delete</code>, <code>.esc</code>, <code>.space</code>, <code>.up</code>, <code>.down</code>, <code>.left</code>, <code>.right</code>, instead of key modifiers.</p>\n<p>System modifier keys such as <code>.ctrl</code>, <code>.alt</code>, <code>.shift</code>, <code>.meta</code> are also useful.</p>\n<ol start=\"2\">\n<li>Bind class</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div class&#x3D;&quot;custom&quot;&gt;&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;\n.custom &#123;\n  background: red;\n  height: 100px;\n  width: 100px;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>You can also bind classes dynamically.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div :class&#x3D;&quot;myClass&quot;&gt;&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      myClass: &quot;custom&quot;,\n    &#125;;\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;\n.custom &#123;\n  background: red;\n  height: 100px;\n  width: 100px;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Optionally bind classes and bind more than one class at one time.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;!-- bind class &#96;active&#96; and &#96;error&#96; optionally and also bind class &#96;custom&#96; --&gt;\n  &lt;div class&#x3D;&quot;custom&quot; :class&#x3D;&quot;&#123; active: isActive, error: isError &#125;&quot;&gt;&lt;&#x2F;div&gt;\n\n  &lt;!-- bind class &#96;active&#96; or &#96;error&#96; --&gt;\n  &lt;div class&#x3D;&quot;&#123;isActive ? active : error&#125;&quot;&gt;&lt;&#x2F;div&gt;\n\n  &lt;!-- bind class &#96;custom&#96; and &#96;active&#96; --&gt;\n  &lt;div :class&#x3D;&quot;[&#39;active&#39;, &#39;custom&#39;]&quot;&gt;&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      isActive: true,\n      isError: false,\n    &#125;;\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;\n.custom &#123;\n  margin: 10px;\n&#125;\n.active &#123;\n  background: yellowgreen;\n  height: 100px;\n  width: 100px;\n&#125;\n.error &#123;\n  background: red;\n  height: 100px;\n  width: 100px;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ol start=\"3\">\n<li>Bind style</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div :style&#x3D;&quot;&#123; color: myColor, fontSize: myFontSize &#125;&quot;&gt;hello&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      myColor: &quot;red&quot;,\n      myFontSize: &quot;190px&quot;,\n    &#125;;\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>You can also bind styles optionally or in a form of array like the class binding.</p>\n<h4 id=\"Instance-monitor-an-input-box\"><a href=\"#Instance-monitor-an-input-box\" class=\"headerlink\" title=\"Instance : monitor an input box\"></a>Instance : monitor an input box</h4><ol>\n<li>The first option</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;!-- key up event will be triggered when your keyboard pops up. --&gt;\n  &lt;input type&#x3D;&quot;text&quot; @keyup&#x3D;&quot;doSearch($event)&quot; &#x2F;&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;&#125;;\n  &#125;,\n  methods: &#123;\n    doSearch(e: any) &#123;\n      console.log(e.keyCode);\n      &#x2F;* check the input to confirm whether &#96;enter&#96; is pressed. *&#x2F;\n      if (e.keyCode &#x3D;&#x3D; 13) &#123;\n        alert(&quot;enter key is pressed&quot;);\n        &#x2F;* do search *&#x2F;\n      &#125;\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ol start=\"2\">\n<li>The second option</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;!-- key up event will be triggered when your keyboard pops up. --&gt;\n  &lt;!-- keyup.enter will be triggered when you input a &#96;enter&#96; --&gt;\n  &lt;input type&#x3D;&quot;text&quot; @keyup.enter&#x3D;&quot;doSearch($event)&quot; &#x2F;&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;&#125;;\n  &#125;,\n  methods: &#123;\n    doSearch(e: any) &#123;\n      &#x2F;* no need to check the input *&#x2F;\n      console.log(e.keyCode);\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"DOM\"><a href=\"#DOM\" class=\"headerlink\" title=\"DOM\"></a>DOM</h3><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;ul&gt;\n    &lt;li&gt;name : &lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;username&quot; &#x2F;&gt;&lt;&#x2F;li&gt;\n    &lt;li&gt;age : &lt;input type&#x3D;&quot;text&quot; ref&#x3D;&quot;age&quot; &#x2F;&gt;&lt;&#x2F;li&gt;\n  &lt;&#x2F;ul&gt;\n  &lt;button @click&#x3D;&quot;doSubmit()&quot; class&#x3D;&quot;submit&quot;&gt;get content&lt;&#x2F;button&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;&#125;;\n  &#125;,\n  methods: &#123;\n    doSubmit() &#123;\n      var username &#x3D; document.querySelector(&quot;#username&quot;);\n      if (username !&#x3D; null) &#123;\n        console.log(username);\n      &#125;\n      console.log(this.$refs.age);\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"Two-way-binding\"><a href=\"#Two-way-binding\" class=\"headerlink\" title=\"Two-way binding\"></a>Two-way binding</h3><p>DOM consumes a lot of resources. We use the way of two-way binding to get values instead.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;ul&gt;\n    &lt;!-- two-way binding --&gt;\n    &lt;li&gt;name : &lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;username&quot; v-model&#x3D;&quot;username&quot; &#x2F;&gt;&lt;&#x2F;li&gt;\n  &lt;&#x2F;ul&gt;\n  &lt;button @click&#x3D;&quot;doSubmit()&quot; class&#x3D;&quot;submit&quot;&gt;get content&lt;&#x2F;button&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      &#x2F;* two-way binding *&#x2F;\n      username: &quot;jack&quot;,\n    &#125;;\n  &#125;,\n  methods: &#123;\n    doSubmit() &#123;\n      console.log(this.username);\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>There are some modifiers for <code>v-model</code> binding, suck as <code>.lazy</code>, <code>.number</code>, <code>.trim</code>.</p>\n<h3 id=\"If-else\"><a href=\"#If-else\" class=\"headerlink\" title=\"If else\"></a>If else</h3><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &#123;&#123; num &#x3D;&#x3D; 1 ? &quot;num&#x3D;1&quot; : &quot;num!&#x3D;1&quot; &#125;&#125;\n  &lt;div v-if&#x3D;&quot;num &#x3D;&#x3D; 1&quot;&gt;hello div&lt;&#x2F;div&gt;\n  &lt;!-- this is invaild and will not take effect --&gt;\n  &lt;span vi-else&gt;hello span&lt;&#x2F;span&gt;\n\n  &lt;!-- this is the correct code --&gt;\n  &lt;div v-if&#x3D;&quot;num &#x3D;&#x3D; 1&quot;&gt;hello div&lt;&#x2F;div&gt;\n  &lt;!-- if num !&#x3D; 1, the label will be deleted by DOM --&gt;\n  &lt;div v-else&gt;goodbye div&lt;&#x2F;div&gt;\n\n  &lt;!-- if num !&#x3D; 1, the label will be hidden by css --&gt;\n  &lt;div v-show&#x3D;&quot;num &#x3D;&#x3D; 1&quot;&gt;hello div&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      num: 2,\n    &#125;;\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"Compute\"><a href=\"#Compute\" class=\"headerlink\" title=\"Compute\"></a>Compute</h3><p>The function declared in <code>computed</code> will be called when variables changed.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &#123;&#123; calculateNum &#125;&#125;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123; message: &quot;hello&quot; &#125;;\n  &#125;,\n  computed: &#123;\n    calculateNum: function () &#123;\n      let self &#x3D; this as any;\n      return self.message.split(&quot;&quot;).reverse().join(&quot;&quot;);\n      &#x2F;* The lsp will report an error when using the code below. But it will not cause error during the runtime.*&#x2F;\n      &#x2F;* return this.message.split(&quot;&quot;).reverse().join(&quot;&quot;); *&#x2F;\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>The error in above code is caused by the static type checking of typescript lsp. Once you meet this error, and feel confused about the solution. You can fix it by transforming the type to <code>any</code>.</p>\n<h3 id=\"Watcher\"><a href=\"#Watcher\" class=\"headerlink\" title=\"Watcher\"></a>Watcher</h3><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &#123;&#123; counter &#125;&#125;\n  &#123;&#123; count &#125;&#125;\n  &lt;button @click&#x3D;&quot;counter++&quot;&gt;click me&lt;&#x2F;button&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123; counter: 1, count: 0 &#125;;\n  &#125;,\n  watch: &#123;\n    &#x2F;* the name of the function must be the same as the variable you want to watch *&#x2F;\n    counter: function (value) &#123;\n      this.count &#x3D; value * 2;\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"Less\"><a href=\"#Less\" class=\"headerlink\" title=\"Less\"></a>Less</h3><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div class&#x3D;&quot;todolist&quot;&gt;\n    &lt;h3&gt;TodoList&lt;&#x2F;h3&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;&#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;\n.todolist &#123;\n  width: 500px;\n  height: 500px;\n  background-color: green;\n  h3 &#123;\n    color: red;\n  &#125;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"Debouncing-and-Throttling\"><a href=\"#Debouncing-and-Throttling\" class=\"headerlink\" title=\"Debouncing and Throttling\"></a>Debouncing and Throttling</h3><p>You can implement debouncing and throttling by using libraries such as <code>Lodash</code>.</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://unpkg.com/lodash@4.17.20/lodash.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  Vue<span class=\"token punctuation\">.</span><span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n    methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token comment\">// Debouncing with Lodash</span>\n      click<span class=\"token operator\">:</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">debounce</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">// ... respond to click ...</span>\n      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>If you want to keep the component instance independently, you can add the debounced function in the created lifecycle hook.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">app<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"save-button\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">created</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// Debouncing with Lodash</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>debouncedClick <span class=\"token operator\">=</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">debounce</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">unmounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// Cancel the timer when the component is removed</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>debouncedClick<span class=\"token punctuation\">.</span><span class=\"token function\">cancel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token comment\">// ... respond to click ...</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    &lt;button @click=\"debouncedClick\">\n      Save\n    &lt;/button>\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Here is the <a href=\"https://www.niuiic.top/2021/06/06/advanced-tutorial-of-vue-vite-typescript/\">advanced tutorial</a>.</p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"Basic-Tutorial-of-Vue-Vite-Typescript\"><a href=\"#Basic-Tutorial-of-Vue-Vite-Typescript\" class=\"headerlink\" title=\"Basic Tutorial of Vue-Vite-Typescript\"></a>Basic Tutorial of Vue-Vite-Typescript</h1><p>The following are the notes I took when I studied vue with reference to the official tutorial. The biggest difference between my notes and official tutorial is that I use typescript while the tutorial uses javascript. I suggest you learn vue following the official tutorial , but I firmly believe that you need to know some of the differences in the use of ts and js.</p>\n<p>And please forgive my stiff English, I was just too lazy to switch input methods.</p>\n<h2 id=\"Init-a-vue-project\"><a href=\"#Init-a-vue-project\" class=\"headerlink\" title=\"Init a vue project\"></a>Init a vue project</h2><p>Create the project</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">npm init @vitejs&#x2F;app appName -- --template vue-ts\ncd appName\nnpm install\nnpm install less -D\nnpm install eslint eslint-plugin-vue -D\nnpm install @vuedx&#x2F;typescript-plugin-vue -D\nnode node_modules&#x2F;esbuild&#x2F;install.js<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Modify <code>coc-settings.json</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&quot;vetur.useWorkspaceDependencies&quot;: true<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>Add the content below to <code>tsconfig.json</code></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@vuedx/typescript-plugin-vue\"</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Modify <code>vite.config.ts</code> which is located in the root path of the project.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> defineConfig <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vite\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> vue <span class=\"token keyword\">from</span> <span class=\"token string\">\"@vitejs/plugin-vue\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">defineConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token function\">vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  resolve<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    alias<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> vue<span class=\"token operator\">:</span> <span class=\"token string\">\"vue/dist/vue.esm-bundler.js\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"Directory-structure-of-the-project\"><a href=\"#Directory-structure-of-the-project\" class=\"headerlink\" title=\"Directory structure of the project\"></a>Directory structure of the project</h2><p><img src=\"1.png\" alt=\"directory structure\"></p>\n<ol>\n<li>public : public resource directory</li>\n<li>src/assets : static resource directory</li>\n<li>src/components : custom components</li>\n<li>src/App.vue : root component</li>\n<li>src/main.ts : root entry</li>\n<li>index.css : root css</li>\n<li>index.html : page entry</li>\n</ol>\n<h2 id=\"Run-project\"><a href=\"#Run-project\" class=\"headerlink\" title=\"Run project\"></a>Run project</h2><p>Use <code>yarn dev</code> to run the project. And then you can check your page at browser.</p>\n<h2 id=\"Content-of-the-vue-file\"><a href=\"#Content-of-the-vue-file\" class=\"headerlink\" title=\"Content of the vue file\"></a>Content of the vue file</h2><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\"># src&#x2F;App.vue # html part\n&lt;template&gt;\n  &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;&#x2F;h1&gt;\n&lt;&#x2F;template&gt;\n\n# typescript part\n&lt;script charset&#x3D;&quot;utf-8&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      msg: &quot;hello vue&quot;,\n    &#125;;\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n# css part\n&lt;style type&#x3D;&quot;text&#x2F;css&quot; media&#x3D;&quot;screen&quot;&gt;\nh1 &#123;\n  text-align: center;\n  color: red;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"Commentary\"><a href=\"#Commentary\" class=\"headerlink\" title=\"Commentary\"></a>Commentary</h2><p>In html part (inside of template lable), the commentary looks like this. <code>&lt;!-- annotation --&gt;</code></p>\n<p>In css part (inside of style lable), the commentary looks like this. <code>/* annotation */</code></p>\n<p>In typescript part (inside of script lable), the commentary looks like this. <code>// annotation</code> or <code>/* annotation */</code></p>\n<p>The content outside of the label does not effect.</p>\n<h2 id=\"Create-an-application-instance\"><a href=\"#Create-an-application-instance\" class=\"headerlink\" title=\"Create an application instance\"></a>Create an application instance</h2><p>Each vue application is created by function <code>createApp</code>. For example, you can create an application like this.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> createApp <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">\"./App.vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>In the above code, <code>app</code> is our root component. We use method <code>mount</code> to mount <code>app</code> to <code>#app</code>.</p>\n<p><code>#app</code> represents a html label whose id is app. And by default, <code>#app</code> is declared in <code>index.html</code>. For example, <code>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</code>.</p>\n<p>The method <code>mount</code> returns an instance of the root component. You can get the properties of the component through its instance.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> Vue<span class=\"token punctuation\">.</span><span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span> count<span class=\"token operator\">:</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> vm <span class=\"token operator\">=</span> app<span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>vm<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>A component contains custom properties and inner properties. You can also get inner properties through the instance of the component using <code>$</code>. For example, <code>$attrs</code>.</p>\n<h2 id=\"lifecycle-hook\"><a href=\"#lifecycle-hook\" class=\"headerlink\" title=\"lifecycle hook\"></a>lifecycle hook</h2><p>Lifetime hook is a function which would be called automatically in different stages of the program runtime.</p>\n<p>For instance, you can use <code>created</code> hook to execute your code after an instance has been created.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span> count<span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">created</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">/* `this` point to the instance of the component */</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"count is: \"</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Do not use arrow function in properties. For example, <code>created: () =&gt; console.log(&quot;hello&quot;)</code>.</p>\n<h2 id=\"Template-syntax\"><a href=\"#Template-syntax\" class=\"headerlink\" title=\"Template syntax\"></a>Template syntax</h2><h3 id=\"Variable-binding\"><a href=\"#Variable-binding\" class=\"headerlink\" title=\"Variable binding\"></a>Variable binding</h3><p>You can bind typescript variables to html part.</p>\n<ol>\n<li><p>Usually the syntax is <code>&#123;&#123; variable &#125;&#125;</code>.</p>\n</li>\n<li><p>But if you want to bind a html label, the code needs to be changed.</p>\n</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;p&gt;\n      &lt;!-- failed to bind --&gt;\n      &#123;&#123; msg &#125;&#125;\n    &lt;&#x2F;p&gt;\n    &lt;!-- successfully bind to html --&gt;\n    &lt;p&gt;bind html label : &lt;span v-html&#x3D;&quot;msg&quot;&gt;&lt;&#x2F;span&gt;&lt;&#x2F;p&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script charset&#x3D;&quot;utf-8&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      msg: &quot;&lt;h2&gt; hello &lt;&#x2F;h2&gt;&quot;,\n    &#125;;\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ol start=\"3\">\n<li>In order to bind attributes, the syntax will look like this.</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;img v-bind:src&#x3D;&quot;imgPath&quot; alt&#x3D;&quot;&quot; &#x2F;&gt;\n    &lt;!-- or --&gt;\n    &lt;img :src&#x3D;&quot;imgPath&quot; alt&#x3D;&quot;&quot; &#x2F;&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script charset&#x3D;&quot;utf-8&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n\t\timgPath&#x3D;&quot;imgPath&quot;\n    &#125;;\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ol start=\"4\">\n<li>To bind dynamic attributes.</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;!-- cause an error due to the static url --&gt;\n    &lt;a v-bind:[attributeName]&#x3D;&quot;http:&#x2F;&#x2F;www.url.com&quot; target&#x3D;&quot;_blank&quot;\n      &gt;Anchor Text&lt;&#x2F;a\n    &gt;\n    &lt;!-- you can fix the error in this way --&gt;\n    &lt;a v-bind:[attributeName]&#x3D;&quot;&#39;http:&#x2F;&#x2F;www.url.com&#39;&quot; target&#x3D;&quot;_blank&quot;\n      &gt;Anchor Text&lt;&#x2F;a\n    &gt;\n    &lt;!-- or you can also bind the url --&gt;\n    &lt;a v-bind:[attributeName]&#x3D;&quot;link&quot; target&#x3D;&quot;_blank&quot;&gt;Anchor Text&lt;&#x2F;a&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script charset&#x3D;&quot;utf-8&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      attributeName: &quot;href&quot;,\n      link: &quot;http:&#x2F;&#x2F;www.url.com&quot;,\n    &#125;;\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ol start=\"5\">\n<li>Loop traversal</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;ul&gt;\n      &lt;!-- :key is necessary, and each key must be unique --&gt;\n      &lt;li v-for&#x3D;&quot;(item, index) in list&quot; :key&#x3D;&quot;index&quot;&gt;\n        &#123;&#123; index &#125;&#125;--&#123;&#123; item &#125;&#125;\n      &lt;&#x2F;li&gt;\n    &lt;&#x2F;ul&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script charset&#x3D;&quot;utf-8&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      list: [&quot;hello&quot;, &quot;world&quot;],\n    &#125;;\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>v-for</code> with a range.</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>range<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>demo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">v-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>n in 10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">:key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>n<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>&#123;&#123; n &#125;&#125; <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<ol start=\"6\">\n<li>Only bind once</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;!-- this would never change --&gt;\n  &lt;span v-once&gt;&#123;&#123; msg &#125;&#125;&lt;&#x2F;span&gt;\n&lt;&#x2F;template&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ol start=\"7\">\n<li>Bind js expressions</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &#123;&#123; msg + 1 &#125;&#125;\n&lt;&#x2F;template&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"Method-class-and-style-binding\"><a href=\"#Method-class-and-style-binding\" class=\"headerlink\" title=\"Method, class and style binding\"></a>Method, class and style binding</h3><ol>\n<li>Bind method</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &#123;&#123; msg &#125;&#125;\n    &lt;button @click&#x3D;&quot;setMsg&quot;&gt;set msg&lt;&#x2F;button&gt;\n    &lt;button @click&#x3D;&quot;getMsg&quot;&gt;get msg&lt;&#x2F;button&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script charset&#x3D;&quot;utf-8&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      msg: &quot;hello&quot;,\n    &#125;;\n  &#125;,\n  methods: &#123;\n    setMsg() &#123;\n      this.msg &#x3D; &quot;changed msg&quot;;\n      &#x2F;* you can call methods with &#96;this&#96; *&#x2F;\n      this.getMsg();\n    &#125;,\n    getMsg() &#123;\n      alert(this.msg);\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &#123;&#123; counter &#125;&#125;\n  &lt;br &#x2F;&gt;\n  &lt;!-- You can call a method directly in the template. It will be called multiple --&gt;\n  &lt;!-- times in the rendering stage of the template. So the value of counter is not --&gt;\n  &lt;!-- sure. --&gt;\n  &#123;&#123; count() &#125;&#125;\n  &lt;button @click&#x3D;&quot;count&quot;&gt;click here to count&lt;&#x2F;button&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      counter: 1,\n    &#125;;\n  &#125;,\n  methods: &#123;\n    count() &#123;\n      this.$data.counter++;\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Bind method with paramaters.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;button @click&#x3D;&quot;getMessage($event)&quot;&gt;click here&lt;&#x2F;button&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;&#125;;\n  &#125;,\n  methods: &#123;\n    getMessage(e: any) &#123;\n      e.target.style.background &#x3D; &quot;red&quot;;\n      alert(e);\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>You can also bind methods with mutiple paramaters, like this. Note that event must be the last paramater.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;button @click&#x3D;&quot;getMessage(&#39;hello&#39;, $event)&quot;&gt;click here&lt;&#x2F;button&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;&#125;;\n  &#125;,\n  methods: &#123;\n    getMessage(str: string, e: any) &#123;\n      e.target.style.background &#x3D; &quot;red&quot;;\n      console.log(str);\n      alert(e);\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Bind mutiple methods.</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;template&gt;\n  &lt;button @click&#x3D;&quot;hello1($event), hello2($event)&quot;&gt;click here&lt;&#x2F;button&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;&#125;;\n  &#125;,\n  methods: &#123;\n    hello1(e: any) &#123;\n      e.target.style.background &#x3D; &quot;red&quot;;\n    &#125;,\n    hello2(e: any) &#123;\n      alert(e);\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Use event modifiers.</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">@click.stop</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>doSomething<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- the modifiers provided by vue is listed below --></span>\n<span class=\"token comment\">&lt;!-- 1. .stop --></span>\n<span class=\"token comment\">&lt;!-- 2. .prevent --></span>\n<span class=\"token comment\">&lt;!-- 3. .capture --></span>\n<span class=\"token comment\">&lt;!-- 4. .self --></span>\n<span class=\"token comment\">&lt;!-- 5. .once --></span>\n<span class=\"token comment\">&lt;!-- 6. .passive --></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>There are also key modifiers, such as <code>&lt;input @keyup.enter = &quot;submit&quot; /&gt;</code>.</p>\n<p>You can use key aliases, such as <code>.enter</code>, <code>.tab</code>, <code>.delete</code>, <code>.esc</code>, <code>.space</code>, <code>.up</code>, <code>.down</code>, <code>.left</code>, <code>.right</code>, instead of key modifiers.</p>\n<p>System modifier keys such as <code>.ctrl</code>, <code>.alt</code>, <code>.shift</code>, <code>.meta</code> are also useful.</p>\n<ol start=\"2\">\n<li>Bind class</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div class&#x3D;&quot;custom&quot;&gt;&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;\n.custom &#123;\n  background: red;\n  height: 100px;\n  width: 100px;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>You can also bind classes dynamically.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div :class&#x3D;&quot;myClass&quot;&gt;&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      myClass: &quot;custom&quot;,\n    &#125;;\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;\n.custom &#123;\n  background: red;\n  height: 100px;\n  width: 100px;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Optionally bind classes and bind more than one class at one time.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;!-- bind class &#96;active&#96; and &#96;error&#96; optionally and also bind class &#96;custom&#96; --&gt;\n  &lt;div class&#x3D;&quot;custom&quot; :class&#x3D;&quot;&#123; active: isActive, error: isError &#125;&quot;&gt;&lt;&#x2F;div&gt;\n\n  &lt;!-- bind class &#96;active&#96; or &#96;error&#96; --&gt;\n  &lt;div class&#x3D;&quot;&#123;isActive ? active : error&#125;&quot;&gt;&lt;&#x2F;div&gt;\n\n  &lt;!-- bind class &#96;custom&#96; and &#96;active&#96; --&gt;\n  &lt;div :class&#x3D;&quot;[&#39;active&#39;, &#39;custom&#39;]&quot;&gt;&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      isActive: true,\n      isError: false,\n    &#125;;\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;\n.custom &#123;\n  margin: 10px;\n&#125;\n.active &#123;\n  background: yellowgreen;\n  height: 100px;\n  width: 100px;\n&#125;\n.error &#123;\n  background: red;\n  height: 100px;\n  width: 100px;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ol start=\"3\">\n<li>Bind style</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div :style&#x3D;&quot;&#123; color: myColor, fontSize: myFontSize &#125;&quot;&gt;hello&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      myColor: &quot;red&quot;,\n      myFontSize: &quot;190px&quot;,\n    &#125;;\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>You can also bind styles optionally or in a form of array like the class binding.</p>\n<h4 id=\"Instance-monitor-an-input-box\"><a href=\"#Instance-monitor-an-input-box\" class=\"headerlink\" title=\"Instance : monitor an input box\"></a>Instance : monitor an input box</h4><ol>\n<li>The first option</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;!-- key up event will be triggered when your keyboard pops up. --&gt;\n  &lt;input type&#x3D;&quot;text&quot; @keyup&#x3D;&quot;doSearch($event)&quot; &#x2F;&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;&#125;;\n  &#125;,\n  methods: &#123;\n    doSearch(e: any) &#123;\n      console.log(e.keyCode);\n      &#x2F;* check the input to confirm whether &#96;enter&#96; is pressed. *&#x2F;\n      if (e.keyCode &#x3D;&#x3D; 13) &#123;\n        alert(&quot;enter key is pressed&quot;);\n        &#x2F;* do search *&#x2F;\n      &#125;\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ol start=\"2\">\n<li>The second option</li>\n</ol>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;!-- key up event will be triggered when your keyboard pops up. --&gt;\n  &lt;!-- keyup.enter will be triggered when you input a &#96;enter&#96; --&gt;\n  &lt;input type&#x3D;&quot;text&quot; @keyup.enter&#x3D;&quot;doSearch($event)&quot; &#x2F;&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;&#125;;\n  &#125;,\n  methods: &#123;\n    doSearch(e: any) &#123;\n      &#x2F;* no need to check the input *&#x2F;\n      console.log(e.keyCode);\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"DOM\"><a href=\"#DOM\" class=\"headerlink\" title=\"DOM\"></a>DOM</h3><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;ul&gt;\n    &lt;li&gt;name : &lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;username&quot; &#x2F;&gt;&lt;&#x2F;li&gt;\n    &lt;li&gt;age : &lt;input type&#x3D;&quot;text&quot; ref&#x3D;&quot;age&quot; &#x2F;&gt;&lt;&#x2F;li&gt;\n  &lt;&#x2F;ul&gt;\n  &lt;button @click&#x3D;&quot;doSubmit()&quot; class&#x3D;&quot;submit&quot;&gt;get content&lt;&#x2F;button&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;&#125;;\n  &#125;,\n  methods: &#123;\n    doSubmit() &#123;\n      var username &#x3D; document.querySelector(&quot;#username&quot;);\n      if (username !&#x3D; null) &#123;\n        console.log(username);\n      &#125;\n      console.log(this.$refs.age);\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"Two-way-binding\"><a href=\"#Two-way-binding\" class=\"headerlink\" title=\"Two-way binding\"></a>Two-way binding</h3><p>DOM consumes a lot of resources. We use the way of two-way binding to get values instead.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;ul&gt;\n    &lt;!-- two-way binding --&gt;\n    &lt;li&gt;name : &lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;username&quot; v-model&#x3D;&quot;username&quot; &#x2F;&gt;&lt;&#x2F;li&gt;\n  &lt;&#x2F;ul&gt;\n  &lt;button @click&#x3D;&quot;doSubmit()&quot; class&#x3D;&quot;submit&quot;&gt;get content&lt;&#x2F;button&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      &#x2F;* two-way binding *&#x2F;\n      username: &quot;jack&quot;,\n    &#125;;\n  &#125;,\n  methods: &#123;\n    doSubmit() &#123;\n      console.log(this.username);\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>There are some modifiers for <code>v-model</code> binding, suck as <code>.lazy</code>, <code>.number</code>, <code>.trim</code>.</p>\n<h3 id=\"If-else\"><a href=\"#If-else\" class=\"headerlink\" title=\"If else\"></a>If else</h3><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &#123;&#123; num &#x3D;&#x3D; 1 ? &quot;num&#x3D;1&quot; : &quot;num!&#x3D;1&quot; &#125;&#125;\n  &lt;div v-if&#x3D;&quot;num &#x3D;&#x3D; 1&quot;&gt;hello div&lt;&#x2F;div&gt;\n  &lt;!-- this is invaild and will not take effect --&gt;\n  &lt;span vi-else&gt;hello span&lt;&#x2F;span&gt;\n\n  &lt;!-- this is the correct code --&gt;\n  &lt;div v-if&#x3D;&quot;num &#x3D;&#x3D; 1&quot;&gt;hello div&lt;&#x2F;div&gt;\n  &lt;!-- if num !&#x3D; 1, the label will be deleted by DOM --&gt;\n  &lt;div v-else&gt;goodbye div&lt;&#x2F;div&gt;\n\n  &lt;!-- if num !&#x3D; 1, the label will be hidden by css --&gt;\n  &lt;div v-show&#x3D;&quot;num &#x3D;&#x3D; 1&quot;&gt;hello div&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123;\n      num: 2,\n    &#125;;\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"Compute\"><a href=\"#Compute\" class=\"headerlink\" title=\"Compute\"></a>Compute</h3><p>The function declared in <code>computed</code> will be called when variables changed.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &#123;&#123; calculateNum &#125;&#125;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123; message: &quot;hello&quot; &#125;;\n  &#125;,\n  computed: &#123;\n    calculateNum: function () &#123;\n      let self &#x3D; this as any;\n      return self.message.split(&quot;&quot;).reverse().join(&quot;&quot;);\n      &#x2F;* The lsp will report an error when using the code below. But it will not cause error during the runtime.*&#x2F;\n      &#x2F;* return this.message.split(&quot;&quot;).reverse().join(&quot;&quot;); *&#x2F;\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>The error in above code is caused by the static type checking of typescript lsp. Once you meet this error, and feel confused about the solution. You can fix it by transforming the type to <code>any</code>.</p>\n<h3 id=\"Watcher\"><a href=\"#Watcher\" class=\"headerlink\" title=\"Watcher\"></a>Watcher</h3><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &#123;&#123; counter &#125;&#125;\n  &#123;&#123; count &#125;&#125;\n  &lt;button @click&#x3D;&quot;counter++&quot;&gt;click me&lt;&#x2F;button&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;\n    return &#123; counter: 1, count: 0 &#125;;\n  &#125;,\n  watch: &#123;\n    &#x2F;* the name of the function must be the same as the variable you want to watch *&#x2F;\n    counter: function (value) &#123;\n      this.count &#x3D; value * 2;\n    &#125;,\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"Less\"><a href=\"#Less\" class=\"headerlink\" title=\"Less\"></a>Less</h3><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div class&#x3D;&quot;todolist&quot;&gt;\n    &lt;h3&gt;TodoList&lt;&#x2F;h3&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n  data() &#123;&#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;\n.todolist &#123;\n  width: 500px;\n  height: 500px;\n  background-color: green;\n  h3 &#123;\n    color: red;\n  &#125;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"Debouncing-and-Throttling\"><a href=\"#Debouncing-and-Throttling\" class=\"headerlink\" title=\"Debouncing and Throttling\"></a>Debouncing and Throttling</h3><p>You can implement debouncing and throttling by using libraries such as <code>Lodash</code>.</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://unpkg.com/lodash@4.17.20/lodash.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  Vue<span class=\"token punctuation\">.</span><span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n    methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token comment\">// Debouncing with Lodash</span>\n      click<span class=\"token operator\">:</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">debounce</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">// ... respond to click ...</span>\n      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>If you want to keep the component instance independently, you can add the debounced function in the created lifecycle hook.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">app<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"save-button\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">created</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// Debouncing with Lodash</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>debouncedClick <span class=\"token operator\">=</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">debounce</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">unmounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// Cancel the timer when the component is removed</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>debouncedClick<span class=\"token punctuation\">.</span><span class=\"token function\">cancel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token comment\">// ... respond to click ...</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    &lt;button @click=\"debouncedClick\">\n      Save\n    &lt;/button>\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Here is the <a href=\"https://www.niuiic.top/2021/06/06/advanced-tutorial-of-vue-vite-typescript/\">advanced tutorial</a>.</p>\n"},{"title":"Advanced Tutorial of Vue-Vite-Typescript","date":"2021-06-06T08:04:22.000Z","_content":"\n# Advanced Tutorial of Vue-Vite-Typescript\n\nThe following are the notes I took when I studied vue with reference to the official tutorial. The biggest difference between my notes and official tutorial is that I use typescript while the tutorial uses javascript. I suggest you learn vue following the official tutorial , but I firmly believe that you need to know some of the differences in the use of ts and js.\n\nAnd please forgive my stiff English, I was just too lazy to switch input methods.\n\n## Component\n\nThe default root component is `src/App.vue`. The custom components should be placed in `src/components`.\n\nAll components would be mounted in `src/main.ts`.\n\nNext you will learn the process of defining and using custom components\n\n### Define and use custom components\n\nFirst, we will create a new file in `src/components`. The content should look like this.\n\n```vue\n<template>\n  {{ msg }}\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nexport default defineComponent({\n  name: \"HelloWorld\",\n  data() {\n    return {\n      msg: \"hello\",\n    };\n  },\n});\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\nNow we have defined a component named `HelloWorld`.\n\nNext, we need to import it in `src/main.ts`.\n\n```typescript\nimport { createApp } from \"vue\";\nimport HelloWorld from \"./components/HelloWorld.vue\";\n// import HelloWorld\n// `HelloWorld` is not necessary to be the name of the component\n```\n\nThen, you can declare a mount point in `index.html`.\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <link rel=\"icon\" href=\"/favicon.ico\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Vite App</title>\n  </head>\n  <body>\n    <!-- the mount point is declared here -->\n    <div id=\"test\"></div>\n    <script type=\"module\" src=\"/src/main.ts\"></script>\n  </body>\n</html>\n```\n\nFinally, you need to mount the component to the mount point. Continue to write in `src/main.ts`.\n\n```typescript\ncreateApp(HelloWorld).mount(\"#test\");\n```\n\nThe components can also be defined and used in a simple way. For example, the code may look like this.\n\n```typescript\nconst app = Vue.createApp({})\napp.component('button-counter', {\n  data() {\n    return {\n      count: 0\n    }\n  },\n  template: `\n    <button @click=\"count++\">\n      You clicked me {{ count }} times.\n    </button>`t\n})\n```\n\nAnd you can simply reuse the components by add labels like this.\n\n```html\n<div id=\"components-demo\">\n  <button-counter></button-counter>\n</div>\n```\n\nThe `div` with id `components-demo` contains a pair of labels with a name which is the same as the component.\n\n### Component registration\n\nComponents registered like this can be used globally. That means all components, including root component and child components can use these components.\n\n```typescript\nconst app = Vue.createApp({});\n\napp.component(\"component-a\", {\n  /* ... */\n});\napp.component(\"component-b\", {\n  /* ... */\n});\napp.component(\"component-c\", {\n  /* ... */\n});\n\napp.mount(\"#app\");\n```\n\n```html\n<div id=\"app\">\n  <component-a></component-a>\n  <component-b></component-b>\n  <component-c></component-c>\n</div>\n```\n\nComponents registered like this can only be used locally. That means only the root component can use these components.\n\n```typescript\nimport ComponentA from \"./ComponentA.vue\";\nimport ComponentB from \"./ComponentB.vue\";\nconst app = Vue.createApp({\n  components: {\n    \"component-a\": ComponentA,\n    \"component-b\": ComponentB,\n  },\n});\n```\n\nThe code below is the same.\n\n```typescript\nimport ComponentA from \"./ComponentA.vue\";\nimport ComponentB from \"./ComponentB.vue\";\nconst app = Vue.createApp({});\napp.component(\"component-a\", ComponentA);\napp.component(\"component-b\", ComponentB);\n```\n\nIf you want to use ComponentA in ComponentB. You need to do like this.\n\n```typescript\nComponentB.component(\"component-a\", ComponentA);\n```\n\n### Interact with child components\n\n#### Passing data to child components\n\nIn order to pass data to child components, we need to modify `src/components/HelloWorld.vue` like this.\n\n```vue\n<template>\n  {{ msg }}\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nexport default defineComponent({\n  name: \"HelloWorld\",\n  props: [\"msg\"],\n});\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\nIn the above code, we use `props` instead of `data`. Any value passed to a prop attribute will become a property on that component instance. And after a property is registered, we can pass data to it as a custom html attribute like this.\n\n```html\n<div id=\"test\">\n  <HelloWorld msg=\"hello world\"></HelloWorld>\n</div>\n```\n\nNow, you can launch the project and watch the result in a broswer. But soon, you will find there is nothing displaying on the broswer. The reason is that our component has an uppercase name. We difined an uppercase name in our project but something changed it to a lowercase name when it finally arrived at broswer. So use a lowercase name is enough to fix the error.\n\nNow, our code looks like this.\n\n```vue\n<template>\n  {{ msg }}\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nexport default defineComponent({\n  name: \"hello-world\",\n  props: [\"msg\"],\n});\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\n```html\n<div id=\"test\">\n  <hello-world msg=\"hello world\"></hello-world>\n</div>\n```\n\n```typescript\nimport { createApp } from \"vue\";\nimport HelloWorld from \"./components/HelloWorld.vue\";\n\nconst app = createApp({});\napp.component(\"hello-world\", HelloWorld);\napp.mount(\"#test\");\n```\n\nThen we can try a more complicated demo.\n\n```typescript\nimport { createApp } from \"vue\";\nconst App = {\n  data() {\n    return {\n      posts: [\n        { id: 1, title: \"My journey with Vue\" },\n        { id: 2, title: \"Blogging with Vue\" },\n        { id: 3, title: \"Why Vue is so fun\" },\n      ],\n    };\n  },\n};\n\nconst app = createApp(App);\n\napp.component(\"blog-post\", {\n  props: [\"title\"],\n  template: `<h4>{{ title }}</h4>`,\n});\n\napp.mount(\"#blog-posts-demo\");\n```\n\n```html\n<div id=\"blog-posts-demo\">\n  <blog-post\n    v-for=\"post in posts\"\n    :key=\"post.id\"\n    :title=\"post.title\"\n  ></blog-post>\n</div>\n```\n\nThere is still something which you need to notice. For an instance, see the code below.\n\n```vue\n<!-- src/components/Demo.vue -->\n<template>\n  {{ msg }}\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"demo\",\n  props: [\"msg\"],\n});\n</script>\n```\n\n```typescript\n/* src/main.ts */\nimport { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport EnlargeText from \"./components/EnlargeText.vue\";\n\nconst app = createApp(App);\napp.component(\"enlarge-text\", EnlargeText);\napp.mount(\"#app\");\n```\n\n```vue\n<!-- src/App.vue -->\n<template>\n  <div>hello</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"App\",\n});\n</script>\n\n<style lang=\"less\"></style>\n```\n\n```\n<!-- index.html -->\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <title>Vite App</title>\n  </head>\n  <body>\n    <div id=\"app\">\n      <demo msg=\"world\"></demo>\n    </div>\n    <script type=\"module\" src=\"/src/main.ts\"></script>\n  </body>\n</html>\n```\n\nIn this example, we define templates in both main component and child component. And we try to display them in `index.html` together. But something would happen to the template of the child component. It is covered by the template of the main component. Take care of this problem. And if you really want to show them together, you can move `<demo msg=\"world\"></demo>` from `index.html` to main component's template.\n\n#### Listening to the events of child components\n\nLet's ceate a new file named `Demo.vue` in `src/components`.\n\nFirst, we modify `src/components/Demo.vue` like this.\n\n```vue\n<template>\n  <div>\n    <h4>\n      {{ title }}\n    </h4>\n    <button @click=\"$emit('enlargeText')\">Enlarge text</button>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"demo\",\n  props: [\"title\"],\n  emits: [\"enlargeText\"],\n});\n</script>\n```\n\nIn this file, we define an event of child component called `enlargeText` with `emits`. And we bind this to the button click event. Once the button is clicked, the super component will receive this event.\n\nThen, we modify `src/App.vue` like this.\n\n```vue\n<template>\n  <div>\n    <demo\n      :style=\"{ fontSize: postFontSize + 'em' }\"\n      @enlarge-text=\"postFontSize += 0.1\"\n      title=\"hello\"\n    ></demo>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport Demo from \"./components/Demo.vue\";\n\nexport default defineComponent({\n  data() {\n    return {\n      postFontSize: 1,\n    };\n  },\n  components: { Demo },\n});\n</script>\n```\n\nIn this file, we define the mount point of the child component `Demo`. And we set its style with a variable `postFontSize`. Also, we define the response function for `enlarge-text` event. And finally, we import `Demo` from `Demo.vue` and register it as a clild component.\n\nBe careful that `enlarge-text` is different from the event we defined in the child component called `enlargeText`. Although, `enlargeText` is also worked here, the broswer will interpret any uppercase characters as lowercase. So you'd better use `enlarge-text`.\n\nSince we have imported the child component in `src/App.vue`, the `src/main.ts` becomes more simple.\n\n```typescript\nimport { createApp } from \"vue\";\nimport App from \"./App.vue\";\n\nconst app = createApp(App);\napp.mount(\"#app\");\n```\n\nNow you can run your project and check the result in your broswer.\n\nIf you are careful enough, you would find that `emits` is similar to `props`. `props` passes data to super component and `emits` passes event to super component.\n\n##### Emit a value with an event\n\nTo go futher, I will introduce you how to emit a value with an event.\n\nThe code would look like this.\n\n```vue\n<button @click=\"$emit('enlargeText', 0.1)\">\n  Enlarge text\n</button>\n```\n\nThen you can get the value with `$event`.\n\n```vue\n<demo\n  :style=\"{ fontSize: postFontSize + 'em' }\"\n  @enlarge-text=\"postFontSize += $event\"\n  title=\"hello\"\n></demo>\n```\n\nAnd if the event handler is a method, the value will be passed as the first parameter.\n\n```vue\n<demo\n  :style=\"{ fontSize: postFontSize + 'em' }\"\n  @enlarge-text=\"onEnlargeText\"\n  title=\"hello\"\n></demo>\n```\n\n```vue\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport Demo from \"./components/Demo.vue\";\n\nexport default defineComponent({\n  data() {\n    return {\n      postFontSize: 1,\n    };\n  },\n  components: { Demo },\n  methods: {\n    onEnlargeText(enlargeText: any) {\n      this.postFontSize += enlargeText;\n    },\n  },\n});\n</script>\n```\n\n##### Use v-model on components\n\n`src/App.vue`\n\n```vue\n<template>\n  <div>\n    <demo v-model=\"searchText\"></demo>\n    <!-- it's the same as the code below -->\n    <!-- <demo -->\n    <!-- :model-value=\"searchText\" -->\n    <!-- @update:model-value=\"searchText = $event\" -->\n    <!-- ></demo> -->\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport Demo from \"./components/Demo.vue\";\n\nexport default defineComponent({\n  components: { Demo },\n});\n</script>\n```\n\n`src/components/Demo.vue`\n\n```vue\n<template>\n  <div>\n    <input\n      :value=\"modelValue\"\n      @input=\"$emit('update:modelValue', $event.target.value)\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"demo\",\n  props: [\"modelValue\"],\n  emits: [\"update:modelValue\"],\n});\n</script>\n```\n\nWith the code above, we have implemented a simple input function. We use `<demo v-model=\"searchText\"></demo>` to simply our code in this example. The key point is you need to bind some properties in child components before using `v-model`.\n\nThere is another way to define child components.\n\n```vue\n<template>\n  <div>\n    <input v-model=\"value\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"demo\",\n  props: [\"modelValue\"],\n  emits: [\"update:modelValue\"],\n  computed: {\n    value: {\n      get(): any {\n        return this.modelValue;\n      },\n      set(value: any) {\n        this.$emit(\"update:modelValue\", value);\n      },\n    },\n  },\n});\n</script>\n```\n\n### Content Distribution with slots\n\nThe name of the feature may be confusing, but the work is quite simple.\n\nThis feature means pass html content to a component. We have used this feature before.\n\n```vue\napp.component('alert-box', { template: `\n<div class=\"demo-alert-box\">\n      <strong>Error!</strong>\n      <slot></slot>\n    </div>\n` })\n```\n\n### Dynamic components\n\nIt's a feature to change components dynamicly when you swith to different tabs or other similar things, so that you can see different content.\n\nThe code is also simple. `<component :is=\"currentTabComponent\"></component>` is all you need. What you need to do is changing `currentTabComponent` when needed.\n\n### DOM template parsing caveats\n\nSome HTML elements, such as `<ul>`, `<ol>`, `<table>` and `<select>` have restrictions on what elements can appear inside them, and some elements such as `<li>`, `<tr>`, and `<option>` can only appear inside certain other elements.\n\nFor example:\n\n```html\n<table>\n  <demo></demo>\n</table>\n```\n\nThe custom component `<demo>` cannot be inside a pair of `<table>` label. To fix the error, you can use `v-is` with a allowed label instead.\n\n```html\n<table>\n  <tr v-is=\"'demo'\"></tr>\n</table>\n```\n\nAlso, HTML attribute names are case-insensitive, so browsers will interpret any uppercase characters as lowercase. That means when youre using in-DOM templates, camelCased prop names and event handler parameters need to use their kebab-cased (hyphen-delimited) equivalents. This has been mentioned before.\n\nIt should be noted that these limitations do not apply if you are using string templates from one of the following sources:\n\n- String templates (e.g. `template: '...'`)\n- Single-file (`.vue`) components\n- `<script type=\"text/x-template\">`\n\n## Summary\n\nThe most basic part of vue ends here, you are already be able to build some simple vue applications with this knowladge. To go futher, you can continue to learn more syntactic sugar following the [official tutorial](https://v3.vuejs.org/guide/installation.html). It won't be difficult for you.\n","source":"_posts/advanced-tutorial-of-vue-vite-typescript.md","raw":"---\ntitle: Advanced Tutorial of Vue-Vite-Typescript\ndate: 2021-06-06 16:04:22\ntags:\n  - Vue\n  - Vite\n  - Typescript\ncategories:\n  - Vue\n---\n\n# Advanced Tutorial of Vue-Vite-Typescript\n\nThe following are the notes I took when I studied vue with reference to the official tutorial. The biggest difference between my notes and official tutorial is that I use typescript while the tutorial uses javascript. I suggest you learn vue following the official tutorial , but I firmly believe that you need to know some of the differences in the use of ts and js.\n\nAnd please forgive my stiff English, I was just too lazy to switch input methods.\n\n## Component\n\nThe default root component is `src/App.vue`. The custom components should be placed in `src/components`.\n\nAll components would be mounted in `src/main.ts`.\n\nNext you will learn the process of defining and using custom components\n\n### Define and use custom components\n\nFirst, we will create a new file in `src/components`. The content should look like this.\n\n```vue\n<template>\n  {{ msg }}\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nexport default defineComponent({\n  name: \"HelloWorld\",\n  data() {\n    return {\n      msg: \"hello\",\n    };\n  },\n});\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\nNow we have defined a component named `HelloWorld`.\n\nNext, we need to import it in `src/main.ts`.\n\n```typescript\nimport { createApp } from \"vue\";\nimport HelloWorld from \"./components/HelloWorld.vue\";\n// import HelloWorld\n// `HelloWorld` is not necessary to be the name of the component\n```\n\nThen, you can declare a mount point in `index.html`.\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <link rel=\"icon\" href=\"/favicon.ico\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Vite App</title>\n  </head>\n  <body>\n    <!-- the mount point is declared here -->\n    <div id=\"test\"></div>\n    <script type=\"module\" src=\"/src/main.ts\"></script>\n  </body>\n</html>\n```\n\nFinally, you need to mount the component to the mount point. Continue to write in `src/main.ts`.\n\n```typescript\ncreateApp(HelloWorld).mount(\"#test\");\n```\n\nThe components can also be defined and used in a simple way. For example, the code may look like this.\n\n```typescript\nconst app = Vue.createApp({})\napp.component('button-counter', {\n  data() {\n    return {\n      count: 0\n    }\n  },\n  template: `\n    <button @click=\"count++\">\n      You clicked me {{ count }} times.\n    </button>`t\n})\n```\n\nAnd you can simply reuse the components by add labels like this.\n\n```html\n<div id=\"components-demo\">\n  <button-counter></button-counter>\n</div>\n```\n\nThe `div` with id `components-demo` contains a pair of labels with a name which is the same as the component.\n\n### Component registration\n\nComponents registered like this can be used globally. That means all components, including root component and child components can use these components.\n\n```typescript\nconst app = Vue.createApp({});\n\napp.component(\"component-a\", {\n  /* ... */\n});\napp.component(\"component-b\", {\n  /* ... */\n});\napp.component(\"component-c\", {\n  /* ... */\n});\n\napp.mount(\"#app\");\n```\n\n```html\n<div id=\"app\">\n  <component-a></component-a>\n  <component-b></component-b>\n  <component-c></component-c>\n</div>\n```\n\nComponents registered like this can only be used locally. That means only the root component can use these components.\n\n```typescript\nimport ComponentA from \"./ComponentA.vue\";\nimport ComponentB from \"./ComponentB.vue\";\nconst app = Vue.createApp({\n  components: {\n    \"component-a\": ComponentA,\n    \"component-b\": ComponentB,\n  },\n});\n```\n\nThe code below is the same.\n\n```typescript\nimport ComponentA from \"./ComponentA.vue\";\nimport ComponentB from \"./ComponentB.vue\";\nconst app = Vue.createApp({});\napp.component(\"component-a\", ComponentA);\napp.component(\"component-b\", ComponentB);\n```\n\nIf you want to use ComponentA in ComponentB. You need to do like this.\n\n```typescript\nComponentB.component(\"component-a\", ComponentA);\n```\n\n### Interact with child components\n\n#### Passing data to child components\n\nIn order to pass data to child components, we need to modify `src/components/HelloWorld.vue` like this.\n\n```vue\n<template>\n  {{ msg }}\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nexport default defineComponent({\n  name: \"HelloWorld\",\n  props: [\"msg\"],\n});\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\nIn the above code, we use `props` instead of `data`. Any value passed to a prop attribute will become a property on that component instance. And after a property is registered, we can pass data to it as a custom html attribute like this.\n\n```html\n<div id=\"test\">\n  <HelloWorld msg=\"hello world\"></HelloWorld>\n</div>\n```\n\nNow, you can launch the project and watch the result in a broswer. But soon, you will find there is nothing displaying on the broswer. The reason is that our component has an uppercase name. We difined an uppercase name in our project but something changed it to a lowercase name when it finally arrived at broswer. So use a lowercase name is enough to fix the error.\n\nNow, our code looks like this.\n\n```vue\n<template>\n  {{ msg }}\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nexport default defineComponent({\n  name: \"hello-world\",\n  props: [\"msg\"],\n});\n</script>\n\n<style lang=\"less\" scoped></style>\n```\n\n```html\n<div id=\"test\">\n  <hello-world msg=\"hello world\"></hello-world>\n</div>\n```\n\n```typescript\nimport { createApp } from \"vue\";\nimport HelloWorld from \"./components/HelloWorld.vue\";\n\nconst app = createApp({});\napp.component(\"hello-world\", HelloWorld);\napp.mount(\"#test\");\n```\n\nThen we can try a more complicated demo.\n\n```typescript\nimport { createApp } from \"vue\";\nconst App = {\n  data() {\n    return {\n      posts: [\n        { id: 1, title: \"My journey with Vue\" },\n        { id: 2, title: \"Blogging with Vue\" },\n        { id: 3, title: \"Why Vue is so fun\" },\n      ],\n    };\n  },\n};\n\nconst app = createApp(App);\n\napp.component(\"blog-post\", {\n  props: [\"title\"],\n  template: `<h4>{{ title }}</h4>`,\n});\n\napp.mount(\"#blog-posts-demo\");\n```\n\n```html\n<div id=\"blog-posts-demo\">\n  <blog-post\n    v-for=\"post in posts\"\n    :key=\"post.id\"\n    :title=\"post.title\"\n  ></blog-post>\n</div>\n```\n\nThere is still something which you need to notice. For an instance, see the code below.\n\n```vue\n<!-- src/components/Demo.vue -->\n<template>\n  {{ msg }}\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"demo\",\n  props: [\"msg\"],\n});\n</script>\n```\n\n```typescript\n/* src/main.ts */\nimport { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport EnlargeText from \"./components/EnlargeText.vue\";\n\nconst app = createApp(App);\napp.component(\"enlarge-text\", EnlargeText);\napp.mount(\"#app\");\n```\n\n```vue\n<!-- src/App.vue -->\n<template>\n  <div>hello</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"App\",\n});\n</script>\n\n<style lang=\"less\"></style>\n```\n\n```\n<!-- index.html -->\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <title>Vite App</title>\n  </head>\n  <body>\n    <div id=\"app\">\n      <demo msg=\"world\"></demo>\n    </div>\n    <script type=\"module\" src=\"/src/main.ts\"></script>\n  </body>\n</html>\n```\n\nIn this example, we define templates in both main component and child component. And we try to display them in `index.html` together. But something would happen to the template of the child component. It is covered by the template of the main component. Take care of this problem. And if you really want to show them together, you can move `<demo msg=\"world\"></demo>` from `index.html` to main component's template.\n\n#### Listening to the events of child components\n\nLet's ceate a new file named `Demo.vue` in `src/components`.\n\nFirst, we modify `src/components/Demo.vue` like this.\n\n```vue\n<template>\n  <div>\n    <h4>\n      {{ title }}\n    </h4>\n    <button @click=\"$emit('enlargeText')\">Enlarge text</button>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"demo\",\n  props: [\"title\"],\n  emits: [\"enlargeText\"],\n});\n</script>\n```\n\nIn this file, we define an event of child component called `enlargeText` with `emits`. And we bind this to the button click event. Once the button is clicked, the super component will receive this event.\n\nThen, we modify `src/App.vue` like this.\n\n```vue\n<template>\n  <div>\n    <demo\n      :style=\"{ fontSize: postFontSize + 'em' }\"\n      @enlarge-text=\"postFontSize += 0.1\"\n      title=\"hello\"\n    ></demo>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport Demo from \"./components/Demo.vue\";\n\nexport default defineComponent({\n  data() {\n    return {\n      postFontSize: 1,\n    };\n  },\n  components: { Demo },\n});\n</script>\n```\n\nIn this file, we define the mount point of the child component `Demo`. And we set its style with a variable `postFontSize`. Also, we define the response function for `enlarge-text` event. And finally, we import `Demo` from `Demo.vue` and register it as a clild component.\n\nBe careful that `enlarge-text` is different from the event we defined in the child component called `enlargeText`. Although, `enlargeText` is also worked here, the broswer will interpret any uppercase characters as lowercase. So you'd better use `enlarge-text`.\n\nSince we have imported the child component in `src/App.vue`, the `src/main.ts` becomes more simple.\n\n```typescript\nimport { createApp } from \"vue\";\nimport App from \"./App.vue\";\n\nconst app = createApp(App);\napp.mount(\"#app\");\n```\n\nNow you can run your project and check the result in your broswer.\n\nIf you are careful enough, you would find that `emits` is similar to `props`. `props` passes data to super component and `emits` passes event to super component.\n\n##### Emit a value with an event\n\nTo go futher, I will introduce you how to emit a value with an event.\n\nThe code would look like this.\n\n```vue\n<button @click=\"$emit('enlargeText', 0.1)\">\n  Enlarge text\n</button>\n```\n\nThen you can get the value with `$event`.\n\n```vue\n<demo\n  :style=\"{ fontSize: postFontSize + 'em' }\"\n  @enlarge-text=\"postFontSize += $event\"\n  title=\"hello\"\n></demo>\n```\n\nAnd if the event handler is a method, the value will be passed as the first parameter.\n\n```vue\n<demo\n  :style=\"{ fontSize: postFontSize + 'em' }\"\n  @enlarge-text=\"onEnlargeText\"\n  title=\"hello\"\n></demo>\n```\n\n```vue\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport Demo from \"./components/Demo.vue\";\n\nexport default defineComponent({\n  data() {\n    return {\n      postFontSize: 1,\n    };\n  },\n  components: { Demo },\n  methods: {\n    onEnlargeText(enlargeText: any) {\n      this.postFontSize += enlargeText;\n    },\n  },\n});\n</script>\n```\n\n##### Use v-model on components\n\n`src/App.vue`\n\n```vue\n<template>\n  <div>\n    <demo v-model=\"searchText\"></demo>\n    <!-- it's the same as the code below -->\n    <!-- <demo -->\n    <!-- :model-value=\"searchText\" -->\n    <!-- @update:model-value=\"searchText = $event\" -->\n    <!-- ></demo> -->\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport Demo from \"./components/Demo.vue\";\n\nexport default defineComponent({\n  components: { Demo },\n});\n</script>\n```\n\n`src/components/Demo.vue`\n\n```vue\n<template>\n  <div>\n    <input\n      :value=\"modelValue\"\n      @input=\"$emit('update:modelValue', $event.target.value)\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"demo\",\n  props: [\"modelValue\"],\n  emits: [\"update:modelValue\"],\n});\n</script>\n```\n\nWith the code above, we have implemented a simple input function. We use `<demo v-model=\"searchText\"></demo>` to simply our code in this example. The key point is you need to bind some properties in child components before using `v-model`.\n\nThere is another way to define child components.\n\n```vue\n<template>\n  <div>\n    <input v-model=\"value\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"demo\",\n  props: [\"modelValue\"],\n  emits: [\"update:modelValue\"],\n  computed: {\n    value: {\n      get(): any {\n        return this.modelValue;\n      },\n      set(value: any) {\n        this.$emit(\"update:modelValue\", value);\n      },\n    },\n  },\n});\n</script>\n```\n\n### Content Distribution with slots\n\nThe name of the feature may be confusing, but the work is quite simple.\n\nThis feature means pass html content to a component. We have used this feature before.\n\n```vue\napp.component('alert-box', { template: `\n<div class=\"demo-alert-box\">\n      <strong>Error!</strong>\n      <slot></slot>\n    </div>\n` })\n```\n\n### Dynamic components\n\nIt's a feature to change components dynamicly when you swith to different tabs or other similar things, so that you can see different content.\n\nThe code is also simple. `<component :is=\"currentTabComponent\"></component>` is all you need. What you need to do is changing `currentTabComponent` when needed.\n\n### DOM template parsing caveats\n\nSome HTML elements, such as `<ul>`, `<ol>`, `<table>` and `<select>` have restrictions on what elements can appear inside them, and some elements such as `<li>`, `<tr>`, and `<option>` can only appear inside certain other elements.\n\nFor example:\n\n```html\n<table>\n  <demo></demo>\n</table>\n```\n\nThe custom component `<demo>` cannot be inside a pair of `<table>` label. To fix the error, you can use `v-is` with a allowed label instead.\n\n```html\n<table>\n  <tr v-is=\"'demo'\"></tr>\n</table>\n```\n\nAlso, HTML attribute names are case-insensitive, so browsers will interpret any uppercase characters as lowercase. That means when youre using in-DOM templates, camelCased prop names and event handler parameters need to use their kebab-cased (hyphen-delimited) equivalents. This has been mentioned before.\n\nIt should be noted that these limitations do not apply if you are using string templates from one of the following sources:\n\n- String templates (e.g. `template: '...'`)\n- Single-file (`.vue`) components\n- `<script type=\"text/x-template\">`\n\n## Summary\n\nThe most basic part of vue ends here, you are already be able to build some simple vue applications with this knowladge. To go futher, you can continue to learn more syntactic sugar following the [official tutorial](https://v3.vuejs.org/guide/installation.html). It won't be difficult for you.\n","slug":"advanced-tutorial-of-vue-vite-typescript","published":1,"updated":"2021-06-06T08:06:37.654Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9bn0007dbiz3a8p3pns","content":"<h1 id=\"Advanced-Tutorial-of-Vue-Vite-Typescript\"><a href=\"#Advanced-Tutorial-of-Vue-Vite-Typescript\" class=\"headerlink\" title=\"Advanced Tutorial of Vue-Vite-Typescript\"></a>Advanced Tutorial of Vue-Vite-Typescript</h1><p>The following are the notes I took when I studied vue with reference to the official tutorial. The biggest difference between my notes and official tutorial is that I use typescript while the tutorial uses javascript. I suggest you learn vue following the official tutorial , but I firmly believe that you need to know some of the differences in the use of ts and js.</p>\n<p>And please forgive my stiff English, I was just too lazy to switch input methods.</p>\n<h2 id=\"Component\"><a href=\"#Component\" class=\"headerlink\" title=\"Component\"></a>Component</h2><p>The default root component is <code>src/App.vue</code>. The custom components should be placed in <code>src/components</code>.</p>\n<p>All components would be mounted in <code>src/main.ts</code>.</p>\n<p>Next you will learn the process of defining and using custom components</p>\n<h3 id=\"Define-and-use-custom-components\"><a href=\"#Define-and-use-custom-components\" class=\"headerlink\" title=\"Define and use custom components\"></a>Define and use custom components</h3><p>First, we will create a new file in <code>src/components</code>. The content should look like this.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &#123;&#123; msg &#125;&#125;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\nexport default defineComponent(&#123;\n  name: &quot;HelloWorld&quot;,\n  data() &#123;\n    return &#123;\n      msg: &quot;hello&quot;,\n    &#125;;\n  &#125;,\n&#125;);\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Now we have defined a component named <code>HelloWorld</code>.</p>\n<p>Next, we need to import it in <code>src/main.ts</code>.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> createApp <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> HelloWorld <span class=\"token keyword\">from</span> <span class=\"token string\">\"./components/HelloWorld.vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// import HelloWorld</span>\n<span class=\"token comment\">// `HelloWorld` is not necessary to be the name of the component</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Then, you can declare a mount point in <code>index.html</code>.</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>icon<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/favicon.ico<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1.0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Vite App<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token comment\">&lt;!-- the mount point is declared here --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>test<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>module<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/src/main.ts<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Finally, you need to mount the component to the mount point. Continue to write in <code>src/main.ts</code>.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span>HelloWorld<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#test\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>The components can also be defined and used in a simple way. For example, the code may look like this.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> Vue<span class=\"token punctuation\">.</span><span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button-counter'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n      count<span class=\"token operator\">:</span> <span class=\"token number\">0</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    &lt;button @click=\"count++\">\n      You clicked me &#123;&#123; count &#125;&#125; times.\n    &lt;/button></span><span class=\"token template-punctuation string\">`</span></span>t\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>And you can simply reuse the components by add labels like this.</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>components-demo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button-counter</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button-counter</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>The <code>div</code> with id <code>components-demo</code> contains a pair of labels with a name which is the same as the component.</p>\n<h3 id=\"Component-registration\"><a href=\"#Component-registration\" class=\"headerlink\" title=\"Component registration\"></a>Component registration</h3><p>Components registered like this can be used globally. That means all components, including root component and child components can use these components.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> Vue<span class=\"token punctuation\">.</span><span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"component-a\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">/* ... */</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"component-b\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">/* ... */</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"component-c\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">/* ... */</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>component-a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>component-a</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>component-b</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>component-b</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>component-c</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>component-c</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Components registered like this can only be used locally. That means only the root component can use these components.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> ComponentA <span class=\"token keyword\">from</span> <span class=\"token string\">\"./ComponentA.vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> ComponentB <span class=\"token keyword\">from</span> <span class=\"token string\">\"./ComponentB.vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> Vue<span class=\"token punctuation\">.</span><span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token string\">\"component-a\"</span><span class=\"token operator\">:</span> ComponentA<span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"component-b\"</span><span class=\"token operator\">:</span> ComponentB<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>The code below is the same.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> ComponentA <span class=\"token keyword\">from</span> <span class=\"token string\">\"./ComponentA.vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> ComponentB <span class=\"token keyword\">from</span> <span class=\"token string\">\"./ComponentB.vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> Vue<span class=\"token punctuation\">.</span><span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"component-a\"</span><span class=\"token punctuation\">,</span> ComponentA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"component-b\"</span><span class=\"token punctuation\">,</span> ComponentB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>If you want to use ComponentA in ComponentB. You need to do like this.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">ComponentB<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"component-a\"</span><span class=\"token punctuation\">,</span> ComponentA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"Interact-with-child-components\"><a href=\"#Interact-with-child-components\" class=\"headerlink\" title=\"Interact with child components\"></a>Interact with child components</h3><h4 id=\"Passing-data-to-child-components\"><a href=\"#Passing-data-to-child-components\" class=\"headerlink\" title=\"Passing data to child components\"></a>Passing data to child components</h4><p>In order to pass data to child components, we need to modify <code>src/components/HelloWorld.vue</code> like this.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &#123;&#123; msg &#125;&#125;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\nexport default defineComponent(&#123;\n  name: &quot;HelloWorld&quot;,\n  props: [&quot;msg&quot;],\n&#125;);\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>In the above code, we use <code>props</code> instead of <code>data</code>. Any value passed to a prop attribute will become a property on that component instance. And after a property is registered, we can pass data to it as a custom html attribute like this.</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>test<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>HelloWorld</span> <span class=\"token attr-name\">msg</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hello world<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>HelloWorld</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>Now, you can launch the project and watch the result in a broswer. But soon, you will find there is nothing displaying on the broswer. The reason is that our component has an uppercase name. We difined an uppercase name in our project but something changed it to a lowercase name when it finally arrived at broswer. So use a lowercase name is enough to fix the error.</p>\n<p>Now, our code looks like this.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &#123;&#123; msg &#125;&#125;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\nexport default defineComponent(&#123;\n  name: &quot;hello-world&quot;,\n  props: [&quot;msg&quot;],\n&#125;);\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>test<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>hello-world</span> <span class=\"token attr-name\">msg</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hello world<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>hello-world</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> createApp <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> HelloWorld <span class=\"token keyword\">from</span> <span class=\"token string\">\"./components/HelloWorld.vue\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello-world\"</span><span class=\"token punctuation\">,</span> HelloWorld<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#test\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Then we can try a more complicated demo.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> createApp <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> App <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n      posts<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">&#123;</span> id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">:</span> <span class=\"token string\">\"My journey with Vue\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#123;</span> id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">:</span> <span class=\"token string\">\"Blogging with Vue\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#123;</span> id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">:</span> <span class=\"token string\">\"Why Vue is so fun\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"blog-post\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"title\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;h4>&#123;&#123; title &#125;&#125;&lt;/h4></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#blog-posts-demo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>blog-posts-demo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>blog-post</span>\n    <span class=\"token attr-name\">v-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>post in posts<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">:key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>post.id<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">:title</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>post.title<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>blog-post</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>There is still something which you need to notice. For an instance, see the code below.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;!-- src&#x2F;components&#x2F;Demo.vue --&gt;\n&lt;template&gt;\n  &#123;&#123; msg &#125;&#125;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\n\nexport default defineComponent(&#123;\n  name: &quot;demo&quot;,\n  props: [&quot;msg&quot;],\n&#125;);\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token comment\">/* src/main.ts */</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> createApp <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">\"./App.vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> EnlargeText <span class=\"token keyword\">from</span> <span class=\"token string\">\"./components/EnlargeText.vue\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"enlarge-text\"</span><span class=\"token punctuation\">,</span> EnlargeText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;!-- src&#x2F;App.vue --&gt;\n&lt;template&gt;\n  &lt;div&gt;hello&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\n\nexport default defineComponent(&#123;\n  name: &quot;App&quot;,\n&#125;);\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot;&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;!-- index.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html lang&#x3D;&quot;en&quot;&gt;\n  &lt;head&gt;\n    &lt;meta charset&#x3D;&quot;UTF-8&quot; &#x2F;&gt;\n    &lt;title&gt;Vite App&lt;&#x2F;title&gt;\n  &lt;&#x2F;head&gt;\n  &lt;body&gt;\n    &lt;div id&#x3D;&quot;app&quot;&gt;\n      &lt;demo msg&#x3D;&quot;world&quot;&gt;&lt;&#x2F;demo&gt;\n    &lt;&#x2F;div&gt;\n    &lt;script type&#x3D;&quot;module&quot; src&#x3D;&quot;&#x2F;src&#x2F;main.ts&quot;&gt;&lt;&#x2F;script&gt;\n  &lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>In this example, we define templates in both main component and child component. And we try to display them in <code>index.html</code> together. But something would happen to the template of the child component. It is covered by the template of the main component. Take care of this problem. And if you really want to show them together, you can move <code>&lt;demo msg=&quot;world&quot;&gt;&lt;/demo&gt;</code> from <code>index.html</code> to main components template.</p>\n<h4 id=\"Listening-to-the-events-of-child-components\"><a href=\"#Listening-to-the-events-of-child-components\" class=\"headerlink\" title=\"Listening to the events of child components\"></a>Listening to the events of child components</h4><p>Lets ceate a new file named <code>Demo.vue</code> in <code>src/components</code>.</p>\n<p>First, we modify <code>src/components/Demo.vue</code> like this.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;h4&gt;\n      &#123;&#123; title &#125;&#125;\n    &lt;&#x2F;h4&gt;\n    &lt;button @click&#x3D;&quot;$emit(&#39;enlargeText&#39;)&quot;&gt;Enlarge text&lt;&#x2F;button&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\n\nexport default defineComponent(&#123;\n  name: &quot;demo&quot;,\n  props: [&quot;title&quot;],\n  emits: [&quot;enlargeText&quot;],\n&#125;);\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>In this file, we define an event of child component called <code>enlargeText</code> with <code>emits</code>. And we bind this to the button click event. Once the button is clicked, the super component will receive this event.</p>\n<p>Then, we modify <code>src/App.vue</code> like this.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;demo\n      :style&#x3D;&quot;&#123; fontSize: postFontSize + &#39;em&#39; &#125;&quot;\n      @enlarge-text&#x3D;&quot;postFontSize +&#x3D; 0.1&quot;\n      title&#x3D;&quot;hello&quot;\n    &gt;&lt;&#x2F;demo&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\nimport Demo from &quot;.&#x2F;components&#x2F;Demo.vue&quot;;\n\nexport default defineComponent(&#123;\n  data() &#123;\n    return &#123;\n      postFontSize: 1,\n    &#125;;\n  &#125;,\n  components: &#123; Demo &#125;,\n&#125;);\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>In this file, we define the mount point of the child component <code>Demo</code>. And we set its style with a variable <code>postFontSize</code>. Also, we define the response function for <code>enlarge-text</code> event. And finally, we import <code>Demo</code> from <code>Demo.vue</code> and register it as a clild component.</p>\n<p>Be careful that <code>enlarge-text</code> is different from the event we defined in the child component called <code>enlargeText</code>. Although, <code>enlargeText</code> is also worked here, the broswer will interpret any uppercase characters as lowercase. So youd better use <code>enlarge-text</code>.</p>\n<p>Since we have imported the child component in <code>src/App.vue</code>, the <code>src/main.ts</code> becomes more simple.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> createApp <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">\"./App.vue\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Now you can run your project and check the result in your broswer.</p>\n<p>If you are careful enough, you would find that <code>emits</code> is similar to <code>props</code>. <code>props</code> passes data to super component and <code>emits</code> passes event to super component.</p>\n<h5 id=\"Emit-a-value-with-an-event\"><a href=\"#Emit-a-value-with-an-event\" class=\"headerlink\" title=\"Emit a value with an event\"></a>Emit a value with an event</h5><p>To go futher, I will introduce you how to emit a value with an event.</p>\n<p>The code would look like this.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;button @click&#x3D;&quot;$emit(&#39;enlargeText&#39;, 0.1)&quot;&gt;\n  Enlarge text\n&lt;&#x2F;button&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>Then you can get the value with <code>$event</code>.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;demo\n  :style&#x3D;&quot;&#123; fontSize: postFontSize + &#39;em&#39; &#125;&quot;\n  @enlarge-text&#x3D;&quot;postFontSize +&#x3D; $event&quot;\n  title&#x3D;&quot;hello&quot;\n&gt;&lt;&#x2F;demo&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>And if the event handler is a method, the value will be passed as the first parameter.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;demo\n  :style&#x3D;&quot;&#123; fontSize: postFontSize + &#39;em&#39; &#125;&quot;\n  @enlarge-text&#x3D;&quot;onEnlargeText&quot;\n  title&#x3D;&quot;hello&quot;\n&gt;&lt;&#x2F;demo&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\nimport Demo from &quot;.&#x2F;components&#x2F;Demo.vue&quot;;\n\nexport default defineComponent(&#123;\n  data() &#123;\n    return &#123;\n      postFontSize: 1,\n    &#125;;\n  &#125;,\n  components: &#123; Demo &#125;,\n  methods: &#123;\n    onEnlargeText(enlargeText: any) &#123;\n      this.postFontSize +&#x3D; enlargeText;\n    &#125;,\n  &#125;,\n&#125;);\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h5 id=\"Use-v-model-on-components\"><a href=\"#Use-v-model-on-components\" class=\"headerlink\" title=\"Use v-model on components\"></a>Use v-model on components</h5><p><code>src/App.vue</code></p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;demo v-model&#x3D;&quot;searchText&quot;&gt;&lt;&#x2F;demo&gt;\n    &lt;!-- it&#39;s the same as the code below --&gt;\n    &lt;!-- &lt;demo --&gt;\n    &lt;!-- :model-value&#x3D;&quot;searchText&quot; --&gt;\n    &lt;!-- @update:model-value&#x3D;&quot;searchText &#x3D; $event&quot; --&gt;\n    &lt;!-- &gt;&lt;&#x2F;demo&gt; --&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\nimport Demo from &quot;.&#x2F;components&#x2F;Demo.vue&quot;;\n\nexport default defineComponent(&#123;\n  components: &#123; Demo &#125;,\n&#125;);\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>src/components/Demo.vue</code></p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;input\n      :value&#x3D;&quot;modelValue&quot;\n      @input&#x3D;&quot;$emit(&#39;update:modelValue&#39;, $event.target.value)&quot;\n    &#x2F;&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\n\nexport default defineComponent(&#123;\n  name: &quot;demo&quot;,\n  props: [&quot;modelValue&quot;],\n  emits: [&quot;update:modelValue&quot;],\n&#125;);\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>With the code above, we have implemented a simple input function. We use <code>&lt;demo v-model=&quot;searchText&quot;&gt;&lt;/demo&gt;</code> to simply our code in this example. The key point is you need to bind some properties in child components before using <code>v-model</code>.</p>\n<p>There is another way to define child components.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;input v-model&#x3D;&quot;value&quot; &#x2F;&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\n\nexport default defineComponent(&#123;\n  name: &quot;demo&quot;,\n  props: [&quot;modelValue&quot;],\n  emits: [&quot;update:modelValue&quot;],\n  computed: &#123;\n    value: &#123;\n      get(): any &#123;\n        return this.modelValue;\n      &#125;,\n      set(value: any) &#123;\n        this.$emit(&quot;update:modelValue&quot;, value);\n      &#125;,\n    &#125;,\n  &#125;,\n&#125;);\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"Content-Distribution-with-slots\"><a href=\"#Content-Distribution-with-slots\" class=\"headerlink\" title=\"Content Distribution with slots\"></a>Content Distribution with slots</h3><p>The name of the feature may be confusing, but the work is quite simple.</p>\n<p>This feature means pass html content to a component. We have used this feature before.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">app.component(&#39;alert-box&#39;, &#123; template: &#96;\n&lt;div class&#x3D;&quot;demo-alert-box&quot;&gt;\n      &lt;strong&gt;Error!&lt;&#x2F;strong&gt;\n      &lt;slot&gt;&lt;&#x2F;slot&gt;\n    &lt;&#x2F;div&gt;\n&#96; &#125;)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"Dynamic-components\"><a href=\"#Dynamic-components\" class=\"headerlink\" title=\"Dynamic components\"></a>Dynamic components</h3><p>Its a feature to change components dynamicly when you swith to different tabs or other similar things, so that you can see different content.</p>\n<p>The code is also simple. <code>&lt;component :is=&quot;currentTabComponent&quot;&gt;&lt;/component&gt;</code> is all you need. What you need to do is changing <code>currentTabComponent</code> when needed.</p>\n<h3 id=\"DOM-template-parsing-caveats\"><a href=\"#DOM-template-parsing-caveats\" class=\"headerlink\" title=\"DOM template parsing caveats\"></a>DOM template parsing caveats</h3><p>Some HTML elements, such as <code>&lt;ul&gt;</code>, <code>&lt;ol&gt;</code>, <code>&lt;table&gt;</code> and <code>&lt;select&gt;</code> have restrictions on what elements can appear inside them, and some elements such as <code>&lt;li&gt;</code>, <code>&lt;tr&gt;</code>, and <code>&lt;option&gt;</code> can only appear inside certain other elements.</p>\n<p>For example:</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>table</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>demo</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>demo</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>table</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>The custom component <code>&lt;demo&gt;</code> cannot be inside a pair of <code>&lt;table&gt;</code> label. To fix the error, you can use <code>v-is</code> with a allowed label instead.</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>table</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span> <span class=\"token attr-name\">v-is</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>demo<span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>table</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>Also, HTML attribute names are case-insensitive, so browsers will interpret any uppercase characters as lowercase. That means when youre using in-DOM templates, camelCased prop names and event handler parameters need to use their kebab-cased (hyphen-delimited) equivalents. This has been mentioned before.</p>\n<p>It should be noted that these limitations do not apply if you are using string templates from one of the following sources:</p>\n<ul>\n<li>String templates (e.g. <code>template: &#39;...&#39;</code>)</li>\n<li>Single-file (<code>.vue</code>) components</li>\n<li><code>&lt;script type=&quot;text/x-template&quot;&gt;</code></li>\n</ul>\n<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><p>The most basic part of vue ends here, you are already be able to build some simple vue applications with this knowladge. To go futher, you can continue to learn more syntactic sugar following the <a href=\"https://v3.vuejs.org/guide/installation.html\">official tutorial</a>. It wont be difficult for you.</p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"Advanced-Tutorial-of-Vue-Vite-Typescript\"><a href=\"#Advanced-Tutorial-of-Vue-Vite-Typescript\" class=\"headerlink\" title=\"Advanced Tutorial of Vue-Vite-Typescript\"></a>Advanced Tutorial of Vue-Vite-Typescript</h1><p>The following are the notes I took when I studied vue with reference to the official tutorial. The biggest difference between my notes and official tutorial is that I use typescript while the tutorial uses javascript. I suggest you learn vue following the official tutorial , but I firmly believe that you need to know some of the differences in the use of ts and js.</p>\n<p>And please forgive my stiff English, I was just too lazy to switch input methods.</p>\n<h2 id=\"Component\"><a href=\"#Component\" class=\"headerlink\" title=\"Component\"></a>Component</h2><p>The default root component is <code>src/App.vue</code>. The custom components should be placed in <code>src/components</code>.</p>\n<p>All components would be mounted in <code>src/main.ts</code>.</p>\n<p>Next you will learn the process of defining and using custom components</p>\n<h3 id=\"Define-and-use-custom-components\"><a href=\"#Define-and-use-custom-components\" class=\"headerlink\" title=\"Define and use custom components\"></a>Define and use custom components</h3><p>First, we will create a new file in <code>src/components</code>. The content should look like this.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &#123;&#123; msg &#125;&#125;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\nexport default defineComponent(&#123;\n  name: &quot;HelloWorld&quot;,\n  data() &#123;\n    return &#123;\n      msg: &quot;hello&quot;,\n    &#125;;\n  &#125;,\n&#125;);\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Now we have defined a component named <code>HelloWorld</code>.</p>\n<p>Next, we need to import it in <code>src/main.ts</code>.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> createApp <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> HelloWorld <span class=\"token keyword\">from</span> <span class=\"token string\">\"./components/HelloWorld.vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// import HelloWorld</span>\n<span class=\"token comment\">// `HelloWorld` is not necessary to be the name of the component</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Then, you can declare a mount point in <code>index.html</code>.</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>icon<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/favicon.ico<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1.0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Vite App<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token comment\">&lt;!-- the mount point is declared here --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>test<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>module<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/src/main.ts<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Finally, you need to mount the component to the mount point. Continue to write in <code>src/main.ts</code>.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span>HelloWorld<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#test\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>The components can also be defined and used in a simple way. For example, the code may look like this.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> Vue<span class=\"token punctuation\">.</span><span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button-counter'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n      count<span class=\"token operator\">:</span> <span class=\"token number\">0</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    &lt;button @click=\"count++\">\n      You clicked me &#123;&#123; count &#125;&#125; times.\n    &lt;/button></span><span class=\"token template-punctuation string\">`</span></span>t\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>And you can simply reuse the components by add labels like this.</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>components-demo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button-counter</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button-counter</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>The <code>div</code> with id <code>components-demo</code> contains a pair of labels with a name which is the same as the component.</p>\n<h3 id=\"Component-registration\"><a href=\"#Component-registration\" class=\"headerlink\" title=\"Component registration\"></a>Component registration</h3><p>Components registered like this can be used globally. That means all components, including root component and child components can use these components.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> Vue<span class=\"token punctuation\">.</span><span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"component-a\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">/* ... */</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"component-b\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">/* ... */</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"component-c\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">/* ... */</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>component-a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>component-a</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>component-b</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>component-b</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>component-c</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>component-c</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Components registered like this can only be used locally. That means only the root component can use these components.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> ComponentA <span class=\"token keyword\">from</span> <span class=\"token string\">\"./ComponentA.vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> ComponentB <span class=\"token keyword\">from</span> <span class=\"token string\">\"./ComponentB.vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> Vue<span class=\"token punctuation\">.</span><span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token string\">\"component-a\"</span><span class=\"token operator\">:</span> ComponentA<span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"component-b\"</span><span class=\"token operator\">:</span> ComponentB<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>The code below is the same.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> ComponentA <span class=\"token keyword\">from</span> <span class=\"token string\">\"./ComponentA.vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> ComponentB <span class=\"token keyword\">from</span> <span class=\"token string\">\"./ComponentB.vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> Vue<span class=\"token punctuation\">.</span><span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"component-a\"</span><span class=\"token punctuation\">,</span> ComponentA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"component-b\"</span><span class=\"token punctuation\">,</span> ComponentB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>If you want to use ComponentA in ComponentB. You need to do like this.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">ComponentB<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"component-a\"</span><span class=\"token punctuation\">,</span> ComponentA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"Interact-with-child-components\"><a href=\"#Interact-with-child-components\" class=\"headerlink\" title=\"Interact with child components\"></a>Interact with child components</h3><h4 id=\"Passing-data-to-child-components\"><a href=\"#Passing-data-to-child-components\" class=\"headerlink\" title=\"Passing data to child components\"></a>Passing data to child components</h4><p>In order to pass data to child components, we need to modify <code>src/components/HelloWorld.vue</code> like this.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &#123;&#123; msg &#125;&#125;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\nexport default defineComponent(&#123;\n  name: &quot;HelloWorld&quot;,\n  props: [&quot;msg&quot;],\n&#125;);\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>In the above code, we use <code>props</code> instead of <code>data</code>. Any value passed to a prop attribute will become a property on that component instance. And after a property is registered, we can pass data to it as a custom html attribute like this.</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>test<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>HelloWorld</span> <span class=\"token attr-name\">msg</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hello world<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>HelloWorld</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>Now, you can launch the project and watch the result in a broswer. But soon, you will find there is nothing displaying on the broswer. The reason is that our component has an uppercase name. We difined an uppercase name in our project but something changed it to a lowercase name when it finally arrived at broswer. So use a lowercase name is enough to fix the error.</p>\n<p>Now, our code looks like this.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &#123;&#123; msg &#125;&#125;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\nexport default defineComponent(&#123;\n  name: &quot;hello-world&quot;,\n  props: [&quot;msg&quot;],\n&#125;);\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>test<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>hello-world</span> <span class=\"token attr-name\">msg</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hello world<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>hello-world</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> createApp <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> HelloWorld <span class=\"token keyword\">from</span> <span class=\"token string\">\"./components/HelloWorld.vue\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello-world\"</span><span class=\"token punctuation\">,</span> HelloWorld<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#test\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Then we can try a more complicated demo.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> createApp <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> App <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n      posts<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">&#123;</span> id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">:</span> <span class=\"token string\">\"My journey with Vue\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#123;</span> id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">:</span> <span class=\"token string\">\"Blogging with Vue\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#123;</span> id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">:</span> <span class=\"token string\">\"Why Vue is so fun\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"blog-post\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"title\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;h4>&#123;&#123; title &#125;&#125;&lt;/h4></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#blog-posts-demo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>blog-posts-demo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>blog-post</span>\n    <span class=\"token attr-name\">v-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>post in posts<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">:key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>post.id<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">:title</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>post.title<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>blog-post</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>There is still something which you need to notice. For an instance, see the code below.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;!-- src&#x2F;components&#x2F;Demo.vue --&gt;\n&lt;template&gt;\n  &#123;&#123; msg &#125;&#125;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\n\nexport default defineComponent(&#123;\n  name: &quot;demo&quot;,\n  props: [&quot;msg&quot;],\n&#125;);\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token comment\">/* src/main.ts */</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> createApp <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">\"./App.vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> EnlargeText <span class=\"token keyword\">from</span> <span class=\"token string\">\"./components/EnlargeText.vue\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"enlarge-text\"</span><span class=\"token punctuation\">,</span> EnlargeText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;!-- src&#x2F;App.vue --&gt;\n&lt;template&gt;\n  &lt;div&gt;hello&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\n\nexport default defineComponent(&#123;\n  name: &quot;App&quot;,\n&#125;);\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot;&gt;&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;!-- index.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html lang&#x3D;&quot;en&quot;&gt;\n  &lt;head&gt;\n    &lt;meta charset&#x3D;&quot;UTF-8&quot; &#x2F;&gt;\n    &lt;title&gt;Vite App&lt;&#x2F;title&gt;\n  &lt;&#x2F;head&gt;\n  &lt;body&gt;\n    &lt;div id&#x3D;&quot;app&quot;&gt;\n      &lt;demo msg&#x3D;&quot;world&quot;&gt;&lt;&#x2F;demo&gt;\n    &lt;&#x2F;div&gt;\n    &lt;script type&#x3D;&quot;module&quot; src&#x3D;&quot;&#x2F;src&#x2F;main.ts&quot;&gt;&lt;&#x2F;script&gt;\n  &lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>In this example, we define templates in both main component and child component. And we try to display them in <code>index.html</code> together. But something would happen to the template of the child component. It is covered by the template of the main component. Take care of this problem. And if you really want to show them together, you can move <code>&lt;demo msg=&quot;world&quot;&gt;&lt;/demo&gt;</code> from <code>index.html</code> to main components template.</p>\n<h4 id=\"Listening-to-the-events-of-child-components\"><a href=\"#Listening-to-the-events-of-child-components\" class=\"headerlink\" title=\"Listening to the events of child components\"></a>Listening to the events of child components</h4><p>Lets ceate a new file named <code>Demo.vue</code> in <code>src/components</code>.</p>\n<p>First, we modify <code>src/components/Demo.vue</code> like this.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;h4&gt;\n      &#123;&#123; title &#125;&#125;\n    &lt;&#x2F;h4&gt;\n    &lt;button @click&#x3D;&quot;$emit(&#39;enlargeText&#39;)&quot;&gt;Enlarge text&lt;&#x2F;button&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\n\nexport default defineComponent(&#123;\n  name: &quot;demo&quot;,\n  props: [&quot;title&quot;],\n  emits: [&quot;enlargeText&quot;],\n&#125;);\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>In this file, we define an event of child component called <code>enlargeText</code> with <code>emits</code>. And we bind this to the button click event. Once the button is clicked, the super component will receive this event.</p>\n<p>Then, we modify <code>src/App.vue</code> like this.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;demo\n      :style&#x3D;&quot;&#123; fontSize: postFontSize + &#39;em&#39; &#125;&quot;\n      @enlarge-text&#x3D;&quot;postFontSize +&#x3D; 0.1&quot;\n      title&#x3D;&quot;hello&quot;\n    &gt;&lt;&#x2F;demo&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\nimport Demo from &quot;.&#x2F;components&#x2F;Demo.vue&quot;;\n\nexport default defineComponent(&#123;\n  data() &#123;\n    return &#123;\n      postFontSize: 1,\n    &#125;;\n  &#125;,\n  components: &#123; Demo &#125;,\n&#125;);\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>In this file, we define the mount point of the child component <code>Demo</code>. And we set its style with a variable <code>postFontSize</code>. Also, we define the response function for <code>enlarge-text</code> event. And finally, we import <code>Demo</code> from <code>Demo.vue</code> and register it as a clild component.</p>\n<p>Be careful that <code>enlarge-text</code> is different from the event we defined in the child component called <code>enlargeText</code>. Although, <code>enlargeText</code> is also worked here, the broswer will interpret any uppercase characters as lowercase. So youd better use <code>enlarge-text</code>.</p>\n<p>Since we have imported the child component in <code>src/App.vue</code>, the <code>src/main.ts</code> becomes more simple.</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> createApp <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">\"./App.vue\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Now you can run your project and check the result in your broswer.</p>\n<p>If you are careful enough, you would find that <code>emits</code> is similar to <code>props</code>. <code>props</code> passes data to super component and <code>emits</code> passes event to super component.</p>\n<h5 id=\"Emit-a-value-with-an-event\"><a href=\"#Emit-a-value-with-an-event\" class=\"headerlink\" title=\"Emit a value with an event\"></a>Emit a value with an event</h5><p>To go futher, I will introduce you how to emit a value with an event.</p>\n<p>The code would look like this.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;button @click&#x3D;&quot;$emit(&#39;enlargeText&#39;, 0.1)&quot;&gt;\n  Enlarge text\n&lt;&#x2F;button&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>Then you can get the value with <code>$event</code>.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;demo\n  :style&#x3D;&quot;&#123; fontSize: postFontSize + &#39;em&#39; &#125;&quot;\n  @enlarge-text&#x3D;&quot;postFontSize +&#x3D; $event&quot;\n  title&#x3D;&quot;hello&quot;\n&gt;&lt;&#x2F;demo&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>And if the event handler is a method, the value will be passed as the first parameter.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;demo\n  :style&#x3D;&quot;&#123; fontSize: postFontSize + &#39;em&#39; &#125;&quot;\n  @enlarge-text&#x3D;&quot;onEnlargeText&quot;\n  title&#x3D;&quot;hello&quot;\n&gt;&lt;&#x2F;demo&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\nimport Demo from &quot;.&#x2F;components&#x2F;Demo.vue&quot;;\n\nexport default defineComponent(&#123;\n  data() &#123;\n    return &#123;\n      postFontSize: 1,\n    &#125;;\n  &#125;,\n  components: &#123; Demo &#125;,\n  methods: &#123;\n    onEnlargeText(enlargeText: any) &#123;\n      this.postFontSize +&#x3D; enlargeText;\n    &#125;,\n  &#125;,\n&#125;);\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h5 id=\"Use-v-model-on-components\"><a href=\"#Use-v-model-on-components\" class=\"headerlink\" title=\"Use v-model on components\"></a>Use v-model on components</h5><p><code>src/App.vue</code></p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;demo v-model&#x3D;&quot;searchText&quot;&gt;&lt;&#x2F;demo&gt;\n    &lt;!-- it&#39;s the same as the code below --&gt;\n    &lt;!-- &lt;demo --&gt;\n    &lt;!-- :model-value&#x3D;&quot;searchText&quot; --&gt;\n    &lt;!-- @update:model-value&#x3D;&quot;searchText &#x3D; $event&quot; --&gt;\n    &lt;!-- &gt;&lt;&#x2F;demo&gt; --&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\nimport Demo from &quot;.&#x2F;components&#x2F;Demo.vue&quot;;\n\nexport default defineComponent(&#123;\n  components: &#123; Demo &#125;,\n&#125;);\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>src/components/Demo.vue</code></p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;input\n      :value&#x3D;&quot;modelValue&quot;\n      @input&#x3D;&quot;$emit(&#39;update:modelValue&#39;, $event.target.value)&quot;\n    &#x2F;&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\n\nexport default defineComponent(&#123;\n  name: &quot;demo&quot;,\n  props: [&quot;modelValue&quot;],\n  emits: [&quot;update:modelValue&quot;],\n&#125;);\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>With the code above, we have implemented a simple input function. We use <code>&lt;demo v-model=&quot;searchText&quot;&gt;&lt;/demo&gt;</code> to simply our code in this example. The key point is you need to bind some properties in child components before using <code>v-model</code>.</p>\n<p>There is another way to define child components.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;input v-model&#x3D;&quot;value&quot; &#x2F;&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\n\nexport default defineComponent(&#123;\n  name: &quot;demo&quot;,\n  props: [&quot;modelValue&quot;],\n  emits: [&quot;update:modelValue&quot;],\n  computed: &#123;\n    value: &#123;\n      get(): any &#123;\n        return this.modelValue;\n      &#125;,\n      set(value: any) &#123;\n        this.$emit(&quot;update:modelValue&quot;, value);\n      &#125;,\n    &#125;,\n  &#125;,\n&#125;);\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"Content-Distribution-with-slots\"><a href=\"#Content-Distribution-with-slots\" class=\"headerlink\" title=\"Content Distribution with slots\"></a>Content Distribution with slots</h3><p>The name of the feature may be confusing, but the work is quite simple.</p>\n<p>This feature means pass html content to a component. We have used this feature before.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">app.component(&#39;alert-box&#39;, &#123; template: &#96;\n&lt;div class&#x3D;&quot;demo-alert-box&quot;&gt;\n      &lt;strong&gt;Error!&lt;&#x2F;strong&gt;\n      &lt;slot&gt;&lt;&#x2F;slot&gt;\n    &lt;&#x2F;div&gt;\n&#96; &#125;)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"Dynamic-components\"><a href=\"#Dynamic-components\" class=\"headerlink\" title=\"Dynamic components\"></a>Dynamic components</h3><p>Its a feature to change components dynamicly when you swith to different tabs or other similar things, so that you can see different content.</p>\n<p>The code is also simple. <code>&lt;component :is=&quot;currentTabComponent&quot;&gt;&lt;/component&gt;</code> is all you need. What you need to do is changing <code>currentTabComponent</code> when needed.</p>\n<h3 id=\"DOM-template-parsing-caveats\"><a href=\"#DOM-template-parsing-caveats\" class=\"headerlink\" title=\"DOM template parsing caveats\"></a>DOM template parsing caveats</h3><p>Some HTML elements, such as <code>&lt;ul&gt;</code>, <code>&lt;ol&gt;</code>, <code>&lt;table&gt;</code> and <code>&lt;select&gt;</code> have restrictions on what elements can appear inside them, and some elements such as <code>&lt;li&gt;</code>, <code>&lt;tr&gt;</code>, and <code>&lt;option&gt;</code> can only appear inside certain other elements.</p>\n<p>For example:</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>table</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>demo</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>demo</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>table</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>The custom component <code>&lt;demo&gt;</code> cannot be inside a pair of <code>&lt;table&gt;</code> label. To fix the error, you can use <code>v-is</code> with a allowed label instead.</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>table</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span> <span class=\"token attr-name\">v-is</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>demo<span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>table</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>Also, HTML attribute names are case-insensitive, so browsers will interpret any uppercase characters as lowercase. That means when youre using in-DOM templates, camelCased prop names and event handler parameters need to use their kebab-cased (hyphen-delimited) equivalents. This has been mentioned before.</p>\n<p>It should be noted that these limitations do not apply if you are using string templates from one of the following sources:</p>\n<ul>\n<li>String templates (e.g. <code>template: &#39;...&#39;</code>)</li>\n<li>Single-file (<code>.vue</code>) components</li>\n<li><code>&lt;script type=&quot;text/x-template&quot;&gt;</code></li>\n</ul>\n<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><p>The most basic part of vue ends here, you are already be able to build some simple vue applications with this knowladge. To go futher, you can continue to learn more syntactic sugar following the <a href=\"https://v3.vuejs.org/guide/installation.html\">official tutorial</a>. It wont be difficult for you.</p>\n"},{"title":"Build aarch64 Cross Toolchain on Gentoo with Crossdev","date":"2021-03-23T10:23:01.000Z","_content":"\n# gentoo  crossdev  aarch64 \n\ncrossdev  aarch64  bug aarch64-linux-gnu glibc `no such instruction` bug binutils  glibc  gcc`/etc/portage/make.conf` gcc  x86_64  gcc`CC` crossdev `CC=aarch64-unknown-linux-gnu-gcc``cross-aarch64-unknown-linux-gnu-gcc-stage2` x86_64  gcc\n","source":"_posts/build-aarch64-cross-toolchain-on-gentoo-with-crossdev.md","raw":"---\ntitle: Build aarch64 Cross Toolchain on Gentoo with Crossdev\ndate: 2021-03-23 18:23:01\ntags:\n\t\t- Gentoo\ncategories:\n\t\t- Gentoo\n---\n\n# gentoo  crossdev  aarch64 \n\ncrossdev  aarch64  bug aarch64-linux-gnu glibc `no such instruction` bug binutils  glibc  gcc`/etc/portage/make.conf` gcc  x86_64  gcc`CC` crossdev `CC=aarch64-unknown-linux-gnu-gcc``cross-aarch64-unknown-linux-gnu-gcc-stage2` x86_64  gcc\n","slug":"build-aarch64-cross-toolchain-on-gentoo-with-crossdev","published":1,"updated":"2021-03-23T11:11:18.575Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9bp0009dbizf5jl7i8t","content":"<h1 id=\"gentoo--crossdev--aarch64-\"><a href=\"#gentoo--crossdev--aarch64-\" class=\"headerlink\" title=\"gentoo  crossdev  aarch64 \"></a>gentoo  crossdev  aarch64 </h1><p>crossdev  aarch64  bug aarch64-linux-gnu glibc <code>no such instruction</code> bug binutils  glibc  gcc<code>/etc/portage/make.conf</code> gcc  x86_64  gcc<code>CC</code> crossdev <code>CC=aarch64-unknown-linux-gnu-gcc</code><code>cross-aarch64-unknown-linux-gnu-gcc-stage2</code> x86_64  gcc</p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"gentoo--crossdev--aarch64-\"><a href=\"#gentoo--crossdev--aarch64-\" class=\"headerlink\" title=\"gentoo  crossdev  aarch64 \"></a>gentoo  crossdev  aarch64 </h1><p>crossdev  aarch64  bug aarch64-linux-gnu glibc <code>no such instruction</code> bug binutils  glibc  gcc<code>/etc/portage/make.conf</code> gcc  x86_64  gcc<code>CC</code> crossdev <code>CC=aarch64-unknown-linux-gnu-gcc</code><code>cross-aarch64-unknown-linux-gnu-gcc-stage2</code> x86_64  gcc</p>\n"},{"title":"Create Tauri Project with Vue-Typescript-Less-Vite","date":"2021-06-04T06:25:54.000Z","_content":"\n#  Tauri + Vue + Typescript + Vite + Less \n\n## \n\n\n\n`app_init.sh`\n\n```sh\ntemplatePath=xxx\necho \"What's your app's name?\"\nread appName\nyarn create @vitejs/app $appName --template vue-ts\ncd $appName\nyarn set version berry\ncp \"$templatePath/tauri/yarnrc.yml\" .yarnrc.yml\nyarn install\nyarn add less -D\nyarn add eslint eslint-plugin-vue -D\nyarn add @vuedx/typescript-plugin-vue -D\nrm ./tsconfig.json\ncp \"$templatePath/tauri/tsconfig.json\" tsconfig.json\nrm src/shims-vue.d.ts\nrm vite.config.ts\ncp \"$templatePath/tauri/vite.config.ts\" vite.config.ts\ncp \"$templatePath/tauri/tauri-plugin.ts\" tauri-plugin.ts\nyarn add tauri @types/sharp\nyarn add @rollup/plugin-replace -D\nyarn tauri init\n```\n\n`$templatePath``$templatePath/tauri`\n\n\n\n`yarnrc.yml`\n\n```yml\nyarnPath: \".yarn/releases/yarn-berry.cjs\"\nnodeLinker: node-modules\nnpmRegistryServer: \"https://registry.npm.taobao.org/\"\n```\n\n`tauri-plugin.ts`\n\n```typescript\nimport { TauriConfig } from \"tauri/src/types\";\nimport type { Plugin, ConfigEnv, ResolvedConfig } from \"vite\";\nimport tauriConf from \"./src-tauri/tauri.conf.json\";\nimport dev from \"tauri/dist/api/dev\";\nimport build from \"tauri/dist/api/build\";\nimport replace from \"@rollup/plugin-replace\";\nimport { isAbsolute, resolve } from \"path\";\n\ninterface Options {\n  config?: (c: TauriConfig, e: ConfigEnv) => TauriConfig;\n}\n\nexport default (options?: Options): Plugin => {\n  let tauriConfig = { ...tauriConf };\n  let viteConfig: ResolvedConfig;\n  return {\n    ...replace({\n      \"process.env.IS_TAURI\": true,\n    }),\n    name: \"tauri-plugin\",\n    configureServer(server) {\n      server.httpServer.on(\"listening\", () => {\n        if (!process.env.TAURI_SERVE) {\n          process.env.TAURI_SERVE = \"true\";\n          const serverOptions = server.config.server || {};\n          let port = serverOptions.port || 3000;\n          let hostname = serverOptions.host || \"localhost\";\n          if (hostname === \"0.0.0.0\") {\n            hostname = \"localhost\";\n          }\n          const protocol = serverOptions.https ? \"https\" : \"http\";\n          const base = server.config.base;\n          const url = `${protocol}://${hostname}:${port}${base}`;\n          tauriConfig.build.devPath = url;\n          dev(tauriConfig);\n        }\n      });\n    },\n    closeBundle() {\n      if (!process.env.TAURI_BUILD) {\n        process.env.TAURI_BUILD = \"true\";\n        let distDir = viteConfig.build.outDir;\n        if (!isAbsolute(distDir)) {\n          distDir = resolve(viteConfig.root, distDir);\n        }\n        tauriConfig.build.distDir = distDir;\n        return build(tauriConfig);\n      }\n    },\n    config(viteConfig, env) {\n      process.env.IS_TAURI = \"true\";\n      if (options && options.config) {\n        options.config(tauriConfig, env);\n      }\n      if (env.command === \"build\") {\n        viteConfig.base = \"/\";\n      }\n    },\n    configResolved(resolvedConfig) {\n      viteConfig = resolvedConfig;\n    },\n  };\n};\n```\n\n`tsconfig.json`\n\n```json\n{\n  \"compilerOptions\": {\n    \"target\": \"esnext\",\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"node\",\n    \"strict\": true,\n    \"jsx\": \"preserve\",\n    \"sourceMap\": true,\n    \"resolveJsonModule\": true,\n    \"plugins\": [\n      {\n        \"name\": \"@vuedx/typescript-plugin-vue\"\n      },\n      {\n        \"name\": \"eslint-plugin-vue\"\n      }\n    ],\n    \"esModuleInterop\": true,\n    \"lib\": [\"esnext\", \"dom\"],\n    \"types\": [\"vite/client\"]\n  },\n  \"include\": [\"src/**/*.ts\", \"src/**/*.d.ts\", \"src/**/*.tsx\", \"src/**/*.vue\"]\n}\n```\n\n`vite.config.ts`\n\n```typescript\nimport { defineConfig } from \"vite\";\nimport vue from \"@vitejs/plugin-vue\";\nimport tauri from \"./tauri-plugin\";\n\nexport default defineConfig({\n  plugins: [vue(), tauri()],\n  server: {\n    hmr: { overlay: false },\n  },\n  resolve: {\n    alias: { vue: \"vue/dist/vue.esm-bundler.js\" },\n  },\n});\n```\n\n## \n\n tauri `../dist` url `http://127.0.0.1:3000`\n\n`vite.config.ts` server  tauri  vue  vite \n\n`yarn dev``yarn build` deb  AppImage\n","source":"_posts/create-tauri-project-with-vue-typescript-less-vite.md","raw":"---\ntitle: Create Tauri Project with Vue-Typescript-Less-Vite\ndate: 2021-06-04 14:25:54\ntags:\n  - Tauri\n  - Vue\n  - Vite\n  - Typescript\n  - Less\ncategories:\n  - [Vue]\n  - [Rust]\n---\n\n#  Tauri + Vue + Typescript + Vite + Less \n\n## \n\n\n\n`app_init.sh`\n\n```sh\ntemplatePath=xxx\necho \"What's your app's name?\"\nread appName\nyarn create @vitejs/app $appName --template vue-ts\ncd $appName\nyarn set version berry\ncp \"$templatePath/tauri/yarnrc.yml\" .yarnrc.yml\nyarn install\nyarn add less -D\nyarn add eslint eslint-plugin-vue -D\nyarn add @vuedx/typescript-plugin-vue -D\nrm ./tsconfig.json\ncp \"$templatePath/tauri/tsconfig.json\" tsconfig.json\nrm src/shims-vue.d.ts\nrm vite.config.ts\ncp \"$templatePath/tauri/vite.config.ts\" vite.config.ts\ncp \"$templatePath/tauri/tauri-plugin.ts\" tauri-plugin.ts\nyarn add tauri @types/sharp\nyarn add @rollup/plugin-replace -D\nyarn tauri init\n```\n\n`$templatePath``$templatePath/tauri`\n\n\n\n`yarnrc.yml`\n\n```yml\nyarnPath: \".yarn/releases/yarn-berry.cjs\"\nnodeLinker: node-modules\nnpmRegistryServer: \"https://registry.npm.taobao.org/\"\n```\n\n`tauri-plugin.ts`\n\n```typescript\nimport { TauriConfig } from \"tauri/src/types\";\nimport type { Plugin, ConfigEnv, ResolvedConfig } from \"vite\";\nimport tauriConf from \"./src-tauri/tauri.conf.json\";\nimport dev from \"tauri/dist/api/dev\";\nimport build from \"tauri/dist/api/build\";\nimport replace from \"@rollup/plugin-replace\";\nimport { isAbsolute, resolve } from \"path\";\n\ninterface Options {\n  config?: (c: TauriConfig, e: ConfigEnv) => TauriConfig;\n}\n\nexport default (options?: Options): Plugin => {\n  let tauriConfig = { ...tauriConf };\n  let viteConfig: ResolvedConfig;\n  return {\n    ...replace({\n      \"process.env.IS_TAURI\": true,\n    }),\n    name: \"tauri-plugin\",\n    configureServer(server) {\n      server.httpServer.on(\"listening\", () => {\n        if (!process.env.TAURI_SERVE) {\n          process.env.TAURI_SERVE = \"true\";\n          const serverOptions = server.config.server || {};\n          let port = serverOptions.port || 3000;\n          let hostname = serverOptions.host || \"localhost\";\n          if (hostname === \"0.0.0.0\") {\n            hostname = \"localhost\";\n          }\n          const protocol = serverOptions.https ? \"https\" : \"http\";\n          const base = server.config.base;\n          const url = `${protocol}://${hostname}:${port}${base}`;\n          tauriConfig.build.devPath = url;\n          dev(tauriConfig);\n        }\n      });\n    },\n    closeBundle() {\n      if (!process.env.TAURI_BUILD) {\n        process.env.TAURI_BUILD = \"true\";\n        let distDir = viteConfig.build.outDir;\n        if (!isAbsolute(distDir)) {\n          distDir = resolve(viteConfig.root, distDir);\n        }\n        tauriConfig.build.distDir = distDir;\n        return build(tauriConfig);\n      }\n    },\n    config(viteConfig, env) {\n      process.env.IS_TAURI = \"true\";\n      if (options && options.config) {\n        options.config(tauriConfig, env);\n      }\n      if (env.command === \"build\") {\n        viteConfig.base = \"/\";\n      }\n    },\n    configResolved(resolvedConfig) {\n      viteConfig = resolvedConfig;\n    },\n  };\n};\n```\n\n`tsconfig.json`\n\n```json\n{\n  \"compilerOptions\": {\n    \"target\": \"esnext\",\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"node\",\n    \"strict\": true,\n    \"jsx\": \"preserve\",\n    \"sourceMap\": true,\n    \"resolveJsonModule\": true,\n    \"plugins\": [\n      {\n        \"name\": \"@vuedx/typescript-plugin-vue\"\n      },\n      {\n        \"name\": \"eslint-plugin-vue\"\n      }\n    ],\n    \"esModuleInterop\": true,\n    \"lib\": [\"esnext\", \"dom\"],\n    \"types\": [\"vite/client\"]\n  },\n  \"include\": [\"src/**/*.ts\", \"src/**/*.d.ts\", \"src/**/*.tsx\", \"src/**/*.vue\"]\n}\n```\n\n`vite.config.ts`\n\n```typescript\nimport { defineConfig } from \"vite\";\nimport vue from \"@vitejs/plugin-vue\";\nimport tauri from \"./tauri-plugin\";\n\nexport default defineConfig({\n  plugins: [vue(), tauri()],\n  server: {\n    hmr: { overlay: false },\n  },\n  resolve: {\n    alias: { vue: \"vue/dist/vue.esm-bundler.js\" },\n  },\n});\n```\n\n## \n\n tauri `../dist` url `http://127.0.0.1:3000`\n\n`vite.config.ts` server  tauri  vue  vite \n\n`yarn dev``yarn build` deb  AppImage\n","slug":"create-tauri-project-with-vue-typescript-less-vite","published":1,"updated":"2021-06-04T07:05:32.074Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9br000bdbizb3m230a1","content":"<h1 id=\"-Tauri-Vue-Typescript-Vite-Less-\"><a href=\"#-Tauri-Vue-Typescript-Vite-Less-\" class=\"headerlink\" title=\" Tauri + Vue + Typescript + Vite + Less \"></a> Tauri + Vue + Typescript + Vite + Less </h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><code>app_init.sh</code></p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">templatePath&#x3D;xxx\necho &quot;What&#39;s your app&#39;s name?&quot;\nread appName\nyarn create @vitejs&#x2F;app $appName --template vue-ts\ncd $appName\nyarn set version berry\ncp &quot;$templatePath&#x2F;tauri&#x2F;yarnrc.yml&quot; .yarnrc.yml\nyarn install\nyarn add less -D\nyarn add eslint eslint-plugin-vue -D\nyarn add @vuedx&#x2F;typescript-plugin-vue -D\nrm .&#x2F;tsconfig.json\ncp &quot;$templatePath&#x2F;tauri&#x2F;tsconfig.json&quot; tsconfig.json\nrm src&#x2F;shims-vue.d.ts\nrm vite.config.ts\ncp &quot;$templatePath&#x2F;tauri&#x2F;vite.config.ts&quot; vite.config.ts\ncp &quot;$templatePath&#x2F;tauri&#x2F;tauri-plugin.ts&quot; tauri-plugin.ts\nyarn add tauri @types&#x2F;sharp\nyarn add @rollup&#x2F;plugin-replace -D\nyarn tauri init<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>$templatePath</code><code>$templatePath/tauri</code></p>\n<p></p>\n<p><code>yarnrc.yml</code></p>\n<pre class=\"line-numbers language-yml\" data-language=\"yml\"><code class=\"language-yml\">yarnPath: &quot;.yarn&#x2F;releases&#x2F;yarn-berry.cjs&quot;\nnodeLinker: node-modules\nnpmRegistryServer: &quot;https:&#x2F;&#x2F;registry.npm.taobao.org&#x2F;&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><code>tauri-plugin.ts</code></p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> TauriConfig <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"tauri/src/types\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token keyword\">type</span> <span class=\"token punctuation\">&#123;</span> Plugin<span class=\"token punctuation\">,</span> ConfigEnv<span class=\"token punctuation\">,</span> ResolvedConfig <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vite\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> tauriConf <span class=\"token keyword\">from</span> <span class=\"token string\">\"./src-tauri/tauri.conf.json\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> dev <span class=\"token keyword\">from</span> <span class=\"token string\">\"tauri/dist/api/dev\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> build <span class=\"token keyword\">from</span> <span class=\"token string\">\"tauri/dist/api/build\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> replace <span class=\"token keyword\">from</span> <span class=\"token string\">\"@rollup/plugin-replace\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> isAbsolute<span class=\"token punctuation\">,</span> resolve <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"path\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">Options</span> <span class=\"token punctuation\">&#123;</span>\n  config<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>c<span class=\"token operator\">:</span> TauriConfig<span class=\"token punctuation\">,</span> e<span class=\"token operator\">:</span> ConfigEnv<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> TauriConfig<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span>options<span class=\"token operator\">?</span><span class=\"token operator\">:</span> Options<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Plugin <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">let</span> tauriConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token operator\">...</span>tauriConf <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> viteConfig<span class=\"token operator\">:</span> ResolvedConfig<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token operator\">...</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n      <span class=\"token string\">\"process.env.IS_TAURI\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"tauri-plugin\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">configureServer</span><span class=\"token punctuation\">(</span>server<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      server<span class=\"token punctuation\">.</span>httpServer<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"listening\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">TAURI_SERVE</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n          process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">TAURI_SERVE</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"true\"</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">const</span> serverOptions <span class=\"token operator\">=</span> server<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>server <span class=\"token operator\">||</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">let</span> port <span class=\"token operator\">=</span> serverOptions<span class=\"token punctuation\">.</span>port <span class=\"token operator\">||</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">let</span> hostname <span class=\"token operator\">=</span> serverOptions<span class=\"token punctuation\">.</span>host <span class=\"token operator\">||</span> <span class=\"token string\">\"localhost\"</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>hostname <span class=\"token operator\">===</span> <span class=\"token string\">\"0.0.0.0\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            hostname <span class=\"token operator\">=</span> <span class=\"token string\">\"localhost\"</span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">&#125;</span>\n          <span class=\"token keyword\">const</span> protocol <span class=\"token operator\">=</span> serverOptions<span class=\"token punctuation\">.</span>https <span class=\"token operator\">?</span> <span class=\"token string\">\"https\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"http\"</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">const</span> base <span class=\"token operator\">=</span> server<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>base<span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">const</span> url <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>protocol<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">://</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>hostname<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>port<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>base<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n          tauriConfig<span class=\"token punctuation\">.</span>build<span class=\"token punctuation\">.</span>devPath <span class=\"token operator\">=</span> url<span class=\"token punctuation\">;</span>\n          <span class=\"token function\">dev</span><span class=\"token punctuation\">(</span>tauriConfig<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">closeBundle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">TAURI_BUILD</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">TAURI_BUILD</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"true\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> distDir <span class=\"token operator\">=</span> viteConfig<span class=\"token punctuation\">.</span>build<span class=\"token punctuation\">.</span>outDir<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">isAbsolute</span><span class=\"token punctuation\">(</span>distDir<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n          distDir <span class=\"token operator\">=</span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>viteConfig<span class=\"token punctuation\">.</span>root<span class=\"token punctuation\">,</span> distDir<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n        tauriConfig<span class=\"token punctuation\">.</span>build<span class=\"token punctuation\">.</span>distDir <span class=\"token operator\">=</span> distDir<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">build</span><span class=\"token punctuation\">(</span>tauriConfig<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">config</span><span class=\"token punctuation\">(</span>viteConfig<span class=\"token punctuation\">,</span> env<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">IS_TAURI</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"true\"</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>options <span class=\"token operator\">&amp;&amp;</span> options<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        options<span class=\"token punctuation\">.</span><span class=\"token function\">config</span><span class=\"token punctuation\">(</span>tauriConfig<span class=\"token punctuation\">,</span> env<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">&#125;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>env<span class=\"token punctuation\">.</span>command <span class=\"token operator\">===</span> <span class=\"token string\">\"build\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        viteConfig<span class=\"token punctuation\">.</span>base <span class=\"token operator\">=</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">configResolved</span><span class=\"token punctuation\">(</span>resolvedConfig<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      viteConfig <span class=\"token operator\">=</span> resolvedConfig<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>tsconfig.json</code></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"target\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"esnext\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"module\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"esnext\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"moduleResolution\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"strict\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"jsx\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"preserve\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"sourceMap\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"resolveJsonModule\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@vuedx/typescript-plugin-vue\"</span>\n      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"eslint-plugin-vue\"</span>\n      <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"esModuleInterop\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"lib\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"esnext\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"dom\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"types\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"vite/client\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"src/**/*.ts\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"src/**/*.d.ts\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"src/**/*.tsx\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"src/**/*.vue\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>vite.config.ts</code></p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> defineConfig <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vite\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> vue <span class=\"token keyword\">from</span> <span class=\"token string\">\"@vitejs/plugin-vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> tauri <span class=\"token keyword\">from</span> <span class=\"token string\">\"./tauri-plugin\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">defineConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token function\">vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">tauri</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  server<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    hmr<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> overlay<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  resolve<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    alias<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> vue<span class=\"token operator\">:</span> <span class=\"token string\">\"vue/dist/vue.esm-bundler.js\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> tauri <code>../dist</code> url <code>http://127.0.0.1:3000</code></p>\n<p><code>vite.config.ts</code> server  tauri  vue  vite </p>\n<p><code>yarn dev</code><code>yarn build</code> deb  AppImage</p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-Tauri-Vue-Typescript-Vite-Less-\"><a href=\"#-Tauri-Vue-Typescript-Vite-Less-\" class=\"headerlink\" title=\" Tauri + Vue + Typescript + Vite + Less \"></a> Tauri + Vue + Typescript + Vite + Less </h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><code>app_init.sh</code></p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">templatePath&#x3D;xxx\necho &quot;What&#39;s your app&#39;s name?&quot;\nread appName\nyarn create @vitejs&#x2F;app $appName --template vue-ts\ncd $appName\nyarn set version berry\ncp &quot;$templatePath&#x2F;tauri&#x2F;yarnrc.yml&quot; .yarnrc.yml\nyarn install\nyarn add less -D\nyarn add eslint eslint-plugin-vue -D\nyarn add @vuedx&#x2F;typescript-plugin-vue -D\nrm .&#x2F;tsconfig.json\ncp &quot;$templatePath&#x2F;tauri&#x2F;tsconfig.json&quot; tsconfig.json\nrm src&#x2F;shims-vue.d.ts\nrm vite.config.ts\ncp &quot;$templatePath&#x2F;tauri&#x2F;vite.config.ts&quot; vite.config.ts\ncp &quot;$templatePath&#x2F;tauri&#x2F;tauri-plugin.ts&quot; tauri-plugin.ts\nyarn add tauri @types&#x2F;sharp\nyarn add @rollup&#x2F;plugin-replace -D\nyarn tauri init<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>$templatePath</code><code>$templatePath/tauri</code></p>\n<p></p>\n<p><code>yarnrc.yml</code></p>\n<pre class=\"line-numbers language-yml\" data-language=\"yml\"><code class=\"language-yml\">yarnPath: &quot;.yarn&#x2F;releases&#x2F;yarn-berry.cjs&quot;\nnodeLinker: node-modules\nnpmRegistryServer: &quot;https:&#x2F;&#x2F;registry.npm.taobao.org&#x2F;&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><code>tauri-plugin.ts</code></p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> TauriConfig <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"tauri/src/types\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token keyword\">type</span> <span class=\"token punctuation\">&#123;</span> Plugin<span class=\"token punctuation\">,</span> ConfigEnv<span class=\"token punctuation\">,</span> ResolvedConfig <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vite\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> tauriConf <span class=\"token keyword\">from</span> <span class=\"token string\">\"./src-tauri/tauri.conf.json\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> dev <span class=\"token keyword\">from</span> <span class=\"token string\">\"tauri/dist/api/dev\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> build <span class=\"token keyword\">from</span> <span class=\"token string\">\"tauri/dist/api/build\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> replace <span class=\"token keyword\">from</span> <span class=\"token string\">\"@rollup/plugin-replace\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> isAbsolute<span class=\"token punctuation\">,</span> resolve <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"path\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">Options</span> <span class=\"token punctuation\">&#123;</span>\n  config<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>c<span class=\"token operator\">:</span> TauriConfig<span class=\"token punctuation\">,</span> e<span class=\"token operator\">:</span> ConfigEnv<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> TauriConfig<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span>options<span class=\"token operator\">?</span><span class=\"token operator\">:</span> Options<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Plugin <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">let</span> tauriConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token operator\">...</span>tauriConf <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> viteConfig<span class=\"token operator\">:</span> ResolvedConfig<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token operator\">...</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n      <span class=\"token string\">\"process.env.IS_TAURI\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"tauri-plugin\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">configureServer</span><span class=\"token punctuation\">(</span>server<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      server<span class=\"token punctuation\">.</span>httpServer<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"listening\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">TAURI_SERVE</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n          process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">TAURI_SERVE</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"true\"</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">const</span> serverOptions <span class=\"token operator\">=</span> server<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>server <span class=\"token operator\">||</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">let</span> port <span class=\"token operator\">=</span> serverOptions<span class=\"token punctuation\">.</span>port <span class=\"token operator\">||</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">let</span> hostname <span class=\"token operator\">=</span> serverOptions<span class=\"token punctuation\">.</span>host <span class=\"token operator\">||</span> <span class=\"token string\">\"localhost\"</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>hostname <span class=\"token operator\">===</span> <span class=\"token string\">\"0.0.0.0\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            hostname <span class=\"token operator\">=</span> <span class=\"token string\">\"localhost\"</span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">&#125;</span>\n          <span class=\"token keyword\">const</span> protocol <span class=\"token operator\">=</span> serverOptions<span class=\"token punctuation\">.</span>https <span class=\"token operator\">?</span> <span class=\"token string\">\"https\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"http\"</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">const</span> base <span class=\"token operator\">=</span> server<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>base<span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">const</span> url <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>protocol<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">://</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>hostname<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>port<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>base<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n          tauriConfig<span class=\"token punctuation\">.</span>build<span class=\"token punctuation\">.</span>devPath <span class=\"token operator\">=</span> url<span class=\"token punctuation\">;</span>\n          <span class=\"token function\">dev</span><span class=\"token punctuation\">(</span>tauriConfig<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">closeBundle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">TAURI_BUILD</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">TAURI_BUILD</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"true\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> distDir <span class=\"token operator\">=</span> viteConfig<span class=\"token punctuation\">.</span>build<span class=\"token punctuation\">.</span>outDir<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">isAbsolute</span><span class=\"token punctuation\">(</span>distDir<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n          distDir <span class=\"token operator\">=</span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>viteConfig<span class=\"token punctuation\">.</span>root<span class=\"token punctuation\">,</span> distDir<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n        tauriConfig<span class=\"token punctuation\">.</span>build<span class=\"token punctuation\">.</span>distDir <span class=\"token operator\">=</span> distDir<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">build</span><span class=\"token punctuation\">(</span>tauriConfig<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">config</span><span class=\"token punctuation\">(</span>viteConfig<span class=\"token punctuation\">,</span> env<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">IS_TAURI</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"true\"</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>options <span class=\"token operator\">&amp;&amp;</span> options<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        options<span class=\"token punctuation\">.</span><span class=\"token function\">config</span><span class=\"token punctuation\">(</span>tauriConfig<span class=\"token punctuation\">,</span> env<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">&#125;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>env<span class=\"token punctuation\">.</span>command <span class=\"token operator\">===</span> <span class=\"token string\">\"build\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        viteConfig<span class=\"token punctuation\">.</span>base <span class=\"token operator\">=</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">configResolved</span><span class=\"token punctuation\">(</span>resolvedConfig<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      viteConfig <span class=\"token operator\">=</span> resolvedConfig<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>tsconfig.json</code></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"target\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"esnext\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"module\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"esnext\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"moduleResolution\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"strict\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"jsx\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"preserve\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"sourceMap\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"resolveJsonModule\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@vuedx/typescript-plugin-vue\"</span>\n      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"eslint-plugin-vue\"</span>\n      <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"esModuleInterop\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"lib\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"esnext\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"dom\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"types\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"vite/client\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"src/**/*.ts\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"src/**/*.d.ts\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"src/**/*.tsx\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"src/**/*.vue\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>vite.config.ts</code></p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> defineConfig <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vite\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> vue <span class=\"token keyword\">from</span> <span class=\"token string\">\"@vitejs/plugin-vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> tauri <span class=\"token keyword\">from</span> <span class=\"token string\">\"./tauri-plugin\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">defineConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token function\">vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">tauri</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  server<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    hmr<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> overlay<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  resolve<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    alias<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> vue<span class=\"token operator\">:</span> <span class=\"token string\">\"vue/dist/vue.esm-bundler.js\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> tauri <code>../dist</code> url <code>http://127.0.0.1:3000</code></p>\n<p><code>vite.config.ts</code> server  tauri  vue  vite </p>\n<p><code>yarn dev</code><code>yarn build</code> deb  AppImage</p>\n"},{"title":"Better Highlight for Go Files in Vim","date":"2021-04-28T13:46:41.000Z","_content":"\n# vim  go \n\n go \n\n## \n\nvim  go `fmt.Printf``Printf`\n\n## \n\n[athom/more-colorful.vim](https://github.com/athom/more-colorful.vim/blob/master/after/syntax/go.vim)`~/.vim/after/syntax/` neovim`/.config/nvim/after/syntax/`\n\n\n\n```vim\nif !exists(\"go_highlight_operators\")\n\tlet go_highlight_operators = 0\nendif\n```\n\n\n\n```vim\nhi goMethod guifg=#4dffff\n```\n","source":"_posts/better-highlight-for-go-files-in-vim.md","raw":"---\ntitle: Better Highlight for Go Files in Vim\ndate: 2021-04-28 21:46:41\ntags:\n  - Vim\ncategories:\n  - Vim\n---\n\n# vim  go \n\n go \n\n## \n\nvim  go `fmt.Printf``Printf`\n\n## \n\n[athom/more-colorful.vim](https://github.com/athom/more-colorful.vim/blob/master/after/syntax/go.vim)`~/.vim/after/syntax/` neovim`/.config/nvim/after/syntax/`\n\n\n\n```vim\nif !exists(\"go_highlight_operators\")\n\tlet go_highlight_operators = 0\nendif\n```\n\n\n\n```vim\nhi goMethod guifg=#4dffff\n```\n","slug":"better-highlight-for-go-files-in-vim","published":1,"updated":"2021-04-28T14:13:36.125Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9bu000gdbiz090ngi8n","content":"<h1 id=\"vim--go-\"><a href=\"#vim--go-\" class=\"headerlink\" title=\"vim  go \"></a>vim  go </h1><p> go </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>vim  go <code>fmt.Printf</code><code>Printf</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/athom/more-colorful.vim/blob/master/after/syntax/go.vim\">athom/more-colorful.vim</a><code>~/.vim/after/syntax/</code> neovim<code>/.config/nvim/after/syntax/</code></p>\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token keyword\">if</span> <span class=\"token operator\">!</span><span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"go_highlight_operators\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">let</span> go_highlight_operators <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token keyword\">endif</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token builtin\">hi</span> goMethod guifg<span class=\"token operator\">=</span>#4dffff<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"vim--go-\"><a href=\"#vim--go-\" class=\"headerlink\" title=\"vim  go \"></a>vim  go </h1><p> go </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>vim  go <code>fmt.Printf</code><code>Printf</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/athom/more-colorful.vim/blob/master/after/syntax/go.vim\">athom/more-colorful.vim</a><code>~/.vim/after/syntax/</code> neovim<code>/.config/nvim/after/syntax/</code></p>\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token keyword\">if</span> <span class=\"token operator\">!</span><span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"go_highlight_operators\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">let</span> go_highlight_operators <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token keyword\">endif</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token builtin\">hi</span> goMethod guifg<span class=\"token operator\">=</span>#4dffff<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n"},{"title":"Create Vue3 Project","date":"2021-05-15T14:06:13.000Z","_content":"\n#  vue3 vue3 + vite + typescript + less\n\n vue,  `cannot find module vue` vue \n\n npm \n\n> yarn2 \n\n\n\n```sh\n# vue + ts\nnpm init @vitejs/app $appName -- --template vue-ts\ncd appName\n# less\nnpm install less -D\n# coc-veturvim + coc.nvim \nnpm install eslint eslint-plugin-vue -D\n# vuecannot find module\nnpm install @vuedx/typescript-plugin-vue -D\n```\n\n`npm run dev`\n\n> npm7 `node node_modules/esbuild/install.js`\n\n ts `cannot find module vue`\n\n`tsconfig.json`\n\n```json\n    \"plugins\": [\n      {\n        \"name\": \"@vuedx/typescript-plugin-vue\"\n      }\n    ],\n```\n\n>  eslint-plugin-vue\n\n vim/neovim + coc-vetur`coc-settings.json``\"vetur.useWorkspaceDependencies\": true`\n\n vscode` \"Select TypeScript version\" -> \"Use workspace version\"`[](https://github.com/vitejs/vite/tree/main/packages/create-app/template-vue-ts)\n\n`src/shims-vue.d.ts`\n\n vscode[](https://github.com/vitejs/vite/tree/main/packages/create-app/template-vue-ts) vue  ts  vim + coc.nvim \n\n neovim + coc.nvim \n\n1. `src/shims-vue.d.ts`vue `import { defineComponent } from 'vue'``import HelloWorld from './components/HelloWorld.vue'`\n2. `eslint-plugin-vue` ts `import { createApp } from 'vue'``src/shims-vue.d.ts``import App from './App.vue'`\n3. `@vuedx/typescript-plugin-vue``src/shims-vue.d.ts`\n\n`vite.config.ts`\n\n```typescript\nimport { defineConfig } from \"vite\";\nimport vue from \"@vitejs/plugin-vue\";\n\nexport default defineConfig({\n  plugins: [vue()],\n  resolve: {\n    alias: { vue: \"vue/dist/vue.esm-bundler.js\" },\n  },\n});\n```\n\n yarn2  npm\n\n yarn1\n\n> yarn2  yarn2 yarn2  create  yarn1\n\n```sh\n# yarn1\nnpm -g install yarn\n# \nyarn create @vitejs/app appName --template vue-ts\n# yarn2\ncd appName\nyarn set version berry\n```\n\n`.yarnrc.yml`\n\n```yml\nyarnPath: \".yarn/releases/yarn-berry.cjs\"\nnodeLinker: node-modules\nnpmRegistries: https://registry.npm.taobao.org/\n```\n\n yarn2  npm `node_modules` yarn2  npm \n\n\n\n```sh\nyarn install\nyarn add less -D\nyarn add eslint eslint-plugin-vue -D\nyarn add @vuedx/typescript-plugin-vue -D\n```\n","source":"_posts/create-vue3-project.md","raw":"---\ntitle: Create Vue3 Project\ndate: 2021-05-15 22:06:13\ntags:\n\t\t- Vue\n\t\t- Vite\n\t\t- Typescript\n\t\t- Less\ncategories:\n\t\t- Vue\n---\n\n#  vue3 vue3 + vite + typescript + less\n\n vue,  `cannot find module vue` vue \n\n npm \n\n> yarn2 \n\n\n\n```sh\n# vue + ts\nnpm init @vitejs/app $appName -- --template vue-ts\ncd appName\n# less\nnpm install less -D\n# coc-veturvim + coc.nvim \nnpm install eslint eslint-plugin-vue -D\n# vuecannot find module\nnpm install @vuedx/typescript-plugin-vue -D\n```\n\n`npm run dev`\n\n> npm7 `node node_modules/esbuild/install.js`\n\n ts `cannot find module vue`\n\n`tsconfig.json`\n\n```json\n    \"plugins\": [\n      {\n        \"name\": \"@vuedx/typescript-plugin-vue\"\n      }\n    ],\n```\n\n>  eslint-plugin-vue\n\n vim/neovim + coc-vetur`coc-settings.json``\"vetur.useWorkspaceDependencies\": true`\n\n vscode` \"Select TypeScript version\" -> \"Use workspace version\"`[](https://github.com/vitejs/vite/tree/main/packages/create-app/template-vue-ts)\n\n`src/shims-vue.d.ts`\n\n vscode[](https://github.com/vitejs/vite/tree/main/packages/create-app/template-vue-ts) vue  ts  vim + coc.nvim \n\n neovim + coc.nvim \n\n1. `src/shims-vue.d.ts`vue `import { defineComponent } from 'vue'``import HelloWorld from './components/HelloWorld.vue'`\n2. `eslint-plugin-vue` ts `import { createApp } from 'vue'``src/shims-vue.d.ts``import App from './App.vue'`\n3. `@vuedx/typescript-plugin-vue``src/shims-vue.d.ts`\n\n`vite.config.ts`\n\n```typescript\nimport { defineConfig } from \"vite\";\nimport vue from \"@vitejs/plugin-vue\";\n\nexport default defineConfig({\n  plugins: [vue()],\n  resolve: {\n    alias: { vue: \"vue/dist/vue.esm-bundler.js\" },\n  },\n});\n```\n\n yarn2  npm\n\n yarn1\n\n> yarn2  yarn2 yarn2  create  yarn1\n\n```sh\n# yarn1\nnpm -g install yarn\n# \nyarn create @vitejs/app appName --template vue-ts\n# yarn2\ncd appName\nyarn set version berry\n```\n\n`.yarnrc.yml`\n\n```yml\nyarnPath: \".yarn/releases/yarn-berry.cjs\"\nnodeLinker: node-modules\nnpmRegistries: https://registry.npm.taobao.org/\n```\n\n yarn2  npm `node_modules` yarn2  npm \n\n\n\n```sh\nyarn install\nyarn add less -D\nyarn add eslint eslint-plugin-vue -D\nyarn add @vuedx/typescript-plugin-vue -D\n```\n","slug":"create-vue3-project","published":1,"updated":"2021-05-19T11:40:52.113Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9bv000hdbizbbmugdlk","content":"<h1 id=\"-vue3-vue3-vite-typescript-less\"><a href=\"#-vue3-vue3-vite-typescript-less\" class=\"headerlink\" title=\" vue3 vue3 + vite + typescript + less\"></a> vue3 vue3 + vite + typescript + less</h1><p> vue,  <code>cannot find module vue</code> vue </p>\n<p> npm </p>\n<blockquote>\n<p>yarn2 </p>\n</blockquote>\n<p></p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\"># vue + ts\nnpm init @vitejs&#x2F;app $appName -- --template vue-ts\ncd appName\n# less\nnpm install less -D\n# coc-veturvim + coc.nvim \nnpm install eslint eslint-plugin-vue -D\n# vuecannot find module\nnpm install @vuedx&#x2F;typescript-plugin-vue -D<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>npm run dev</code></p>\n<blockquote>\n<p>npm7 <code>node node_modules/esbuild/install.js</code></p>\n</blockquote>\n<p> ts <code>cannot find module vue</code></p>\n<p><code>tsconfig.json</code></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@vuedx/typescript-plugin-vue\"</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p> eslint-plugin-vue</p>\n</blockquote>\n<p> vim/neovim + coc-vetur<code>coc-settings.json</code><code>&quot;vetur.useWorkspaceDependencies&quot;: true</code></p>\n<p> vscode<code> &quot;Select TypeScript version&quot; -&gt; &quot;Use workspace version&quot;</code><a href=\"https://github.com/vitejs/vite/tree/main/packages/create-app/template-vue-ts\"></a></p>\n<p><code>src/shims-vue.d.ts</code></p>\n<p> vscode<a href=\"https://github.com/vitejs/vite/tree/main/packages/create-app/template-vue-ts\"></a> vue  ts  vim + coc.nvim </p>\n<p> neovim + coc.nvim </p>\n<ol>\n<li><code>src/shims-vue.d.ts</code>vue <code>import &#123; defineComponent &#125; from &#39;vue&#39;</code><code>import HelloWorld from &#39;./components/HelloWorld.vue&#39;</code></li>\n<li><code>eslint-plugin-vue</code> ts <code>import &#123; createApp &#125; from &#39;vue&#39;</code><code>src/shims-vue.d.ts</code><code>import App from &#39;./App.vue&#39;</code></li>\n<li><code>@vuedx/typescript-plugin-vue</code><code>src/shims-vue.d.ts</code></li>\n</ol>\n<p><code>vite.config.ts</code></p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> defineConfig <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vite\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> vue <span class=\"token keyword\">from</span> <span class=\"token string\">\"@vitejs/plugin-vue\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">defineConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token function\">vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  resolve<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    alias<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> vue<span class=\"token operator\">:</span> <span class=\"token string\">\"vue/dist/vue.esm-bundler.js\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> yarn2  npm</p>\n<p> yarn1</p>\n<blockquote>\n<p>yarn2  yarn2 yarn2  create  yarn1</p>\n</blockquote>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\"># yarn1\nnpm -g install yarn\n# \nyarn create @vitejs&#x2F;app appName --template vue-ts\n# yarn2\ncd appName\nyarn set version berry<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>.yarnrc.yml</code></p>\n<pre class=\"line-numbers language-yml\" data-language=\"yml\"><code class=\"language-yml\">yarnPath: &quot;.yarn&#x2F;releases&#x2F;yarn-berry.cjs&quot;\nnodeLinker: node-modules\nnpmRegistries: https:&#x2F;&#x2F;registry.npm.taobao.org&#x2F;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p> yarn2  npm <code>node_modules</code> yarn2  npm </p>\n<p></p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">yarn install\nyarn add less -D\nyarn add eslint eslint-plugin-vue -D\nyarn add @vuedx&#x2F;typescript-plugin-vue -D<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-vue3-vue3-vite-typescript-less\"><a href=\"#-vue3-vue3-vite-typescript-less\" class=\"headerlink\" title=\" vue3 vue3 + vite + typescript + less\"></a> vue3 vue3 + vite + typescript + less</h1><p> vue,  <code>cannot find module vue</code> vue </p>\n<p> npm </p>\n<blockquote>\n<p>yarn2 </p>\n</blockquote>\n<p></p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\"># vue + ts\nnpm init @vitejs&#x2F;app $appName -- --template vue-ts\ncd appName\n# less\nnpm install less -D\n# coc-veturvim + coc.nvim \nnpm install eslint eslint-plugin-vue -D\n# vuecannot find module\nnpm install @vuedx&#x2F;typescript-plugin-vue -D<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>npm run dev</code></p>\n<blockquote>\n<p>npm7 <code>node node_modules/esbuild/install.js</code></p>\n</blockquote>\n<p> ts <code>cannot find module vue</code></p>\n<p><code>tsconfig.json</code></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@vuedx/typescript-plugin-vue\"</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p> eslint-plugin-vue</p>\n</blockquote>\n<p> vim/neovim + coc-vetur<code>coc-settings.json</code><code>&quot;vetur.useWorkspaceDependencies&quot;: true</code></p>\n<p> vscode<code> &quot;Select TypeScript version&quot; -&gt; &quot;Use workspace version&quot;</code><a href=\"https://github.com/vitejs/vite/tree/main/packages/create-app/template-vue-ts\"></a></p>\n<p><code>src/shims-vue.d.ts</code></p>\n<p> vscode<a href=\"https://github.com/vitejs/vite/tree/main/packages/create-app/template-vue-ts\"></a> vue  ts  vim + coc.nvim </p>\n<p> neovim + coc.nvim </p>\n<ol>\n<li><code>src/shims-vue.d.ts</code>vue <code>import &#123; defineComponent &#125; from &#39;vue&#39;</code><code>import HelloWorld from &#39;./components/HelloWorld.vue&#39;</code></li>\n<li><code>eslint-plugin-vue</code> ts <code>import &#123; createApp &#125; from &#39;vue&#39;</code><code>src/shims-vue.d.ts</code><code>import App from &#39;./App.vue&#39;</code></li>\n<li><code>@vuedx/typescript-plugin-vue</code><code>src/shims-vue.d.ts</code></li>\n</ol>\n<p><code>vite.config.ts</code></p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> defineConfig <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vite\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> vue <span class=\"token keyword\">from</span> <span class=\"token string\">\"@vitejs/plugin-vue\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">defineConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token function\">vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  resolve<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    alias<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> vue<span class=\"token operator\">:</span> <span class=\"token string\">\"vue/dist/vue.esm-bundler.js\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> yarn2  npm</p>\n<p> yarn1</p>\n<blockquote>\n<p>yarn2  yarn2 yarn2  create  yarn1</p>\n</blockquote>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\"># yarn1\nnpm -g install yarn\n# \nyarn create @vitejs&#x2F;app appName --template vue-ts\n# yarn2\ncd appName\nyarn set version berry<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>.yarnrc.yml</code></p>\n<pre class=\"line-numbers language-yml\" data-language=\"yml\"><code class=\"language-yml\">yarnPath: &quot;.yarn&#x2F;releases&#x2F;yarn-berry.cjs&quot;\nnodeLinker: node-modules\nnpmRegistries: https:&#x2F;&#x2F;registry.npm.taobao.org&#x2F;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p> yarn2  npm <code>node_modules</code> yarn2  npm </p>\n<p></p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">yarn install\nyarn add less -D\nyarn add eslint eslint-plugin-vue -D\nyarn add @vuedx&#x2F;typescript-plugin-vue -D<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Debug Msp430g2 Project on Linux","date":"2021-03-23T10:26:43.000Z","_content":"\n#  linux   MSP430G2 \n\nWarning :  gcc\n\n linux  MSP430  debug vim \n\n## \n\n TI  IDECCSmspdebugmsp430-elf-gdbvim/neovim\n\nCCS  linux  MSP430G2  IDE \n\nTI  msp430-gcc  GCC \n\n## \n\n### \n\n CCSmspdebug\n\n CCS \n\nmsp430-elf-gdb  TI  msp430-gcc \n\n GNU  gdb\n\n```shell\n# target\n# prefixgdb\n./configure --prefix=\"${PREFIX}\" --target=msp430-elf\nmake\nsudo make install\n```\n\n gdb`sudo make uninstall`\n\n neovim\n\n### msp430-gcc\n\n gcc\n\n TI  msp430-gcc  support-filesgcc \n\n support-files .h .ld  gcc  msp430-elf/include  msp430-elf/lib  include/device\n\ngcc `delay_cycles`\n\n gcc  msp430gcc `./bin/msp430-elf-gcc -I ./msp430-elf/include -mmcu=msp430g2553 -c main.c` lib  gcc \n\n\n\n gcc  gcc  gentoo crossdev  msp430-elf-gcc\n\n### \n\nneovim  coc.nvim coc-clangd  lsp`compile_commands.json` lsp  makefile  CMakeList.txt \n\n\n\n```json\n[\n  {\n    \"directory\": \"\",\n    \"command\": \"ccsgccgcc\",\n    \"file\": \"./main.c\"\n  }\n]\n```\n\n\n\n ccs `-I` ccs `__intertupt`lsp  ccs  lsp\"msp430g2553.h\"`define __intertupt`\n\n## \n\n mspdebug \n\n```\nsudo mspdebug rf2500\n# mspdebug\nload your_file\n# \nprog your_file\n# \nrun\n# \nerase\n```\n\n## \n\n```\nsudo mspdebug rf2500\ngdb\n# gdbgdb\nmsp430-elf-gdb\n# gdb\n# mspdebug\ntarget remote localhost:2000\n\n# monitermspdebug\nmoniter prog your_file\n\nfile your_file\n\n# continuerun\nc\n# \n```\n\n>  gdb \n","source":"_posts/debug-msp430g2-project-on-linux.md","raw":"---\ntitle: Debug Msp430g2 Project on Linux\ndate: 2021-03-23 18:26:43\ntags:\n\t\t- MSP430G2\n\t\t- Linux\ncategories:\n\t\t- Embedded\n---\n\n#  linux   MSP430G2 \n\nWarning :  gcc\n\n linux  MSP430  debug vim \n\n## \n\n TI  IDECCSmspdebugmsp430-elf-gdbvim/neovim\n\nCCS  linux  MSP430G2  IDE \n\nTI  msp430-gcc  GCC \n\n## \n\n### \n\n CCSmspdebug\n\n CCS \n\nmsp430-elf-gdb  TI  msp430-gcc \n\n GNU  gdb\n\n```shell\n# target\n# prefixgdb\n./configure --prefix=\"${PREFIX}\" --target=msp430-elf\nmake\nsudo make install\n```\n\n gdb`sudo make uninstall`\n\n neovim\n\n### msp430-gcc\n\n gcc\n\n TI  msp430-gcc  support-filesgcc \n\n support-files .h .ld  gcc  msp430-elf/include  msp430-elf/lib  include/device\n\ngcc `delay_cycles`\n\n gcc  msp430gcc `./bin/msp430-elf-gcc -I ./msp430-elf/include -mmcu=msp430g2553 -c main.c` lib  gcc \n\n\n\n gcc  gcc  gentoo crossdev  msp430-elf-gcc\n\n### \n\nneovim  coc.nvim coc-clangd  lsp`compile_commands.json` lsp  makefile  CMakeList.txt \n\n\n\n```json\n[\n  {\n    \"directory\": \"\",\n    \"command\": \"ccsgccgcc\",\n    \"file\": \"./main.c\"\n  }\n]\n```\n\n\n\n ccs `-I` ccs `__intertupt`lsp  ccs  lsp\"msp430g2553.h\"`define __intertupt`\n\n## \n\n mspdebug \n\n```\nsudo mspdebug rf2500\n# mspdebug\nload your_file\n# \nprog your_file\n# \nrun\n# \nerase\n```\n\n## \n\n```\nsudo mspdebug rf2500\ngdb\n# gdbgdb\nmsp430-elf-gdb\n# gdb\n# mspdebug\ntarget remote localhost:2000\n\n# monitermspdebug\nmoniter prog your_file\n\nfile your_file\n\n# continuerun\nc\n# \n```\n\n>  gdb \n","slug":"debug-msp430g2-project-on-linux","published":1,"updated":"2021-05-31T08:33:54.186Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9bz000mdbiz2tib81q5","content":"<h1 id=\"-linux---MSP430G2-\"><a href=\"#-linux---MSP430G2-\" class=\"headerlink\" title=\" linux   MSP430G2 \"></a> linux   MSP430G2 </h1><p>Warning :  gcc</p>\n<p> linux  MSP430  debug vim </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> TI  IDECCSmspdebugmsp430-elf-gdbvim/neovim</p>\n<p>CCS  linux  MSP430G2  IDE </p>\n<p>TI  msp430-gcc  GCC </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> CCSmspdebug</p>\n<p> CCS </p>\n<p>msp430-elf-gdb  TI  msp430-gcc </p>\n<p> GNU  gdb</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\"># target\n# prefixgdb\n.&#x2F;configure --prefix&#x3D;&quot;$&#123;PREFIX&#125;&quot; --target&#x3D;msp430-elf\nmake\nsudo make install<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> gdb<code>sudo make uninstall</code></p>\n<p> neovim</p>\n<h3 id=\"msp430-gcc\"><a href=\"#msp430-gcc\" class=\"headerlink\" title=\"msp430-gcc\"></a>msp430-gcc</h3><p> gcc</p>\n<p> TI  msp430-gcc  support-filesgcc </p>\n<p> support-files .h .ld  gcc  msp430-elf/include  msp430-elf/lib  include/device</p>\n<p>gcc <code>delay_cycles</code></p>\n<p> gcc  msp430gcc <code>./bin/msp430-elf-gcc -I ./msp430-elf/include -mmcu=msp430g2553 -c main.c</code> lib  gcc </p>\n<p></p>\n<p> gcc  gcc  gentoo crossdev  msp430-elf-gcc</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>neovim  coc.nvim coc-clangd  lsp<code>compile_commands.json</code> lsp  makefile  CMakeList.txt </p>\n<p></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"directory\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"command\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ccsgccgcc\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"file\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./main.c\"</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p> ccs <code>-I</code> ccs <code>__intertupt</code>lsp  ccs  lspmsp430g2553.h<code>define __intertupt</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> mspdebug </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo mspdebug rf2500\n# mspdebug\nload your_file\n# \nprog your_file\n# \nrun\n# \nerase<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo mspdebug rf2500\ngdb\n# gdbgdb\nmsp430-elf-gdb\n# gdb\n# mspdebug\ntarget remote localhost:2000\n\n# monitermspdebug\nmoniter prog your_file\n\nfile your_file\n\n# continuerun\nc\n# <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p> gdb </p>\n</blockquote>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-linux---MSP430G2-\"><a href=\"#-linux---MSP430G2-\" class=\"headerlink\" title=\" linux   MSP430G2 \"></a> linux   MSP430G2 </h1><p>Warning :  gcc</p>\n<p> linux  MSP430  debug vim </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> TI  IDECCSmspdebugmsp430-elf-gdbvim/neovim</p>\n<p>CCS  linux  MSP430G2  IDE </p>\n<p>TI  msp430-gcc  GCC </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> CCSmspdebug</p>\n<p> CCS </p>\n<p>msp430-elf-gdb  TI  msp430-gcc </p>\n<p> GNU  gdb</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\"># target\n# prefixgdb\n.&#x2F;configure --prefix&#x3D;&quot;$&#123;PREFIX&#125;&quot; --target&#x3D;msp430-elf\nmake\nsudo make install<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> gdb<code>sudo make uninstall</code></p>\n<p> neovim</p>\n<h3 id=\"msp430-gcc\"><a href=\"#msp430-gcc\" class=\"headerlink\" title=\"msp430-gcc\"></a>msp430-gcc</h3><p> gcc</p>\n<p> TI  msp430-gcc  support-filesgcc </p>\n<p> support-files .h .ld  gcc  msp430-elf/include  msp430-elf/lib  include/device</p>\n<p>gcc <code>delay_cycles</code></p>\n<p> gcc  msp430gcc <code>./bin/msp430-elf-gcc -I ./msp430-elf/include -mmcu=msp430g2553 -c main.c</code> lib  gcc </p>\n<p></p>\n<p> gcc  gcc  gentoo crossdev  msp430-elf-gcc</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>neovim  coc.nvim coc-clangd  lsp<code>compile_commands.json</code> lsp  makefile  CMakeList.txt </p>\n<p></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"directory\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"command\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ccsgccgcc\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"file\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./main.c\"</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p> ccs <code>-I</code> ccs <code>__intertupt</code>lsp  ccs  lspmsp430g2553.h<code>define __intertupt</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> mspdebug </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo mspdebug rf2500\n# mspdebug\nload your_file\n# \nprog your_file\n# \nrun\n# \nerase<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo mspdebug rf2500\ngdb\n# gdbgdb\nmsp430-elf-gdb\n# gdb\n# mspdebug\ntarget remote localhost:2000\n\n# monitermspdebug\nmoniter prog your_file\n\nfile your_file\n\n# continuerun\nc\n# <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p> gdb </p>\n</blockquote>\n"},{"title":"Develop FPGA on Linux","date":"2021-06-15T02:46:55.000Z","_content":"\n#  linux  FPGA\n\n linux  FPGA\n\n## \n\n FPGA  IDE  IDE  IDE vivado  IDE\n\n IDE FPGA IDE  vivado  IDE \n\n## \n\n linux  vim/neovim  emacs  vscode\n\n vim/neovim  systemverilog [](https://www.niuiic.top/2021/03/23/use-vim-as-the-editor-of-systemverilog/)\n\n## \n\n gtkwave \n\n verilog/VHDL  iverilog \n\niverilog  vivado  iverilog  gtkwave \n\nsystemverilog  verilator iverilog  systemverilog  verilator \n\nverilator  systemverilog  C++ C++ C++\n\n> iverilog  verilator \n\n\n\n```systemverilog\n// Demo.sv\n\nmodule Demo ();\n  initial begin\n    $display(\"Hello World\");\n    $finish;\n  end\nendmodule\n```\n\n\n\n```cpp\n// sim_main.cpp\n\n#include \"VDemo.h\"\n#include <fstream>\n#include <iostream>\n#include <verilated.h>\n#include <verilated_vcd_c.h>\nusing namespace std;\n\n// top object pointer\nVDemo *top = nullptr;\n// wave generation pointer\nVerilatedVcdC *tfp = nullptr;\n\n// simulation timestamp\nvluint64_t main_time = 0;\n// upper limit of simulation timestamp\nconst vluint64_t sim_time = 1024;\n\nint main(int argc, char **argv) {\n  // init\n  Verilated::commandArgs(argc, argv);\n  Verilated::traceEverOn(true);\n  top = new VDemo;\n  tfp = new VerilatedVcdC;\n  top->trace(tfp, 99);\n  tfp->open(\"VDemo.vcd\");\n\n  while (!Verilated::gotFinish() && main_time < sim_time) {\n    // simulation time step in\n    top->eval();\n    // wave output step in\n    tfp->dump(main_time);\n    main_time++;\n  }\n\n  // clear sources and exit\n  tfp->close();\n  delete top;\n  delete tfp;\n  exit(0);\n  return 0;\n}\n```\n\n C++\n\n\n\n1. \n\n`verilator --cc Demo.sv --trace``obj_dir` systemverilog  cpp  verilator `/usr/share/verilator/include` cpp \n\n2. \n\n`verilator --cc Demo.sv --trace --exe sim_main.cpp && make -j $(nproc) -C ./obj_dir -f VDemo.mk VDemo`\n\n`$(nproc)` 4  8  `-j 8``$(nproc)`\n\n`obj_dir/VDemo`\n\n`obj_dir/VDemo.vcd``gtkwave obj_dir/VDemo.vcd`\n\n3. \n\n systemverilog `input clk``output logic out``assign out = clk;`\n\n`top``top->clk``while`\n\n```cpp\n  while (!Verilated::gotFinish() && main_time < sim_time) {\n    top->clk = top->clk == 0 ? 1 : 0;\n    // simulation time step in\n    top->eval();\n    // wave output step in\n    tfp->dump(main_time);\n    main_time++;\n  }\n```\n\n clk \n\n## \n\n\n\n\n\n```shell\nsourcefile=\"demo.sv\"\nexe=\"Vdemo\"\nsimfile=\"sim_main.cpp\"\nbuildcmd=\"verilator --cc $sourcefile --trace\"\nruncmd=\"verilator --cc $sourcefile --trace --exe $simfile && make -j $(nproc) -C ./obj_dir -f $exe.mk $exe\"\n\nif [ $1 == \"run\" ]; then\n    eval $runcmd &>/dev/null\n    cd ./obj_dir\n    eval \"./$exe\"\n    if [ -f \"$exe.vcd\" ]; then\n        gtkwave \"./$exe.vcd\"\n    fi\nelif [ $1 == \"build\" ]; then\n    eval $runcmd\nelif [ $1 == \"check\" ]; then\n    eval $buildcmd\nelif [ $1 == \"clean\" ]; then\n    if [ -d \"obj_dir\" ]; then\n        rm obj_dir\n    fi\nelif [ $1 == \"watch\" ]; then\n    if [ -f \"$exe.vcd\" ]; then\n        cd ./obj_dir\n        gtkwave \"./$exe.vcd\"\n    else\n        echo -e \"\\033[31mNo vcd file exists.\\033[0m\"\n    fi\nelif [ $1 == \"init\" ]; then\n    project_path=$(pwd)\n    eval $buildcmd\n    cat >compile_commands.json <<EOF\n[\n  {\n    \"directory\": \"$project_path\",\n    \"command\": \"g++ $simfile -I ./obj_dir -I /usr/share/verilator/include -I /usr/share/verilator/include/*\",\n    \"file\": \"./$simfile\"\n  }\n]\nEOF\n    cat >$simfile <<EOF\n#include \"$exe.h\"\n#include <fstream>\n#include <iostream>\n#include <verilated.h>\n#include <verilated_vcd_c.h>\nusing namespace std;\n\n// top object pointer\n$exe *top = nullptr;\n// wave generation pointer\nVerilatedVcdC *tfp = nullptr;\n\n// simulation timestamp\nvluint64_t main_time = 0;\n// upper limit of simulation timestamp\nconst vluint64_t sim_time = 1024;\n\nint main(int argc, char **argv) {\n  // init\n  Verilated::commandArgs(argc, argv);\n  Verilated::traceEverOn(true);\n  top = new $exe;\n  tfp = new VerilatedVcdC;\n  top->trace(tfp, 99);\n  tfp->open(\"$exe.vcd\");\n\n  while (!Verilated::gotFinish() && main_time < sim_time) {\n    // simulation time step in\n    top->eval();\n    // wave output step in\n    tfp->dump(main_time);\n    main_time++;\n  }\n\n  // clear sources and exit\n  tfp->close();\n  delete top;\n  delete tfp;\n  exit(0);\n  return 0;\n}\nEOF\nfi\n```\n\n`init``compile_commands.json``/usr/...`\n\n`sourcefile``simfile``exe``obj_dir`\n\n1. init`sim_main.cpp` cpp lsp `compile_commands.json` cpp \n2. run gtkwave \n3. build\n4. check\n5. clean\n6. watch\n\n vim [](https://www.niuiic.top/2021/04/17/vim-quickfix/) vim quickfix, asynctasks \n\n## \n\n linux  FPGA \n\n1.  IDE \n2. \n3. \n4.  IDE \n\n\n\n1. \n2. \n3.  linux vivado  linux  windows  vivado \n","source":"_posts/develop-fpga-on-linux.md","raw":"---\ntitle: Develop FPGA on Linux\ndate: 2021-06-15 10:46:55\ntags:\n  - Linux\n  - FPGA\n  - Systemverilog\n  - verilator\ncategories:\n  - [FPGA]\n  - [Linux]\n---\n\n#  linux  FPGA\n\n linux  FPGA\n\n## \n\n FPGA  IDE  IDE  IDE vivado  IDE\n\n IDE FPGA IDE  vivado  IDE \n\n## \n\n linux  vim/neovim  emacs  vscode\n\n vim/neovim  systemverilog [](https://www.niuiic.top/2021/03/23/use-vim-as-the-editor-of-systemverilog/)\n\n## \n\n gtkwave \n\n verilog/VHDL  iverilog \n\niverilog  vivado  iverilog  gtkwave \n\nsystemverilog  verilator iverilog  systemverilog  verilator \n\nverilator  systemverilog  C++ C++ C++\n\n> iverilog  verilator \n\n\n\n```systemverilog\n// Demo.sv\n\nmodule Demo ();\n  initial begin\n    $display(\"Hello World\");\n    $finish;\n  end\nendmodule\n```\n\n\n\n```cpp\n// sim_main.cpp\n\n#include \"VDemo.h\"\n#include <fstream>\n#include <iostream>\n#include <verilated.h>\n#include <verilated_vcd_c.h>\nusing namespace std;\n\n// top object pointer\nVDemo *top = nullptr;\n// wave generation pointer\nVerilatedVcdC *tfp = nullptr;\n\n// simulation timestamp\nvluint64_t main_time = 0;\n// upper limit of simulation timestamp\nconst vluint64_t sim_time = 1024;\n\nint main(int argc, char **argv) {\n  // init\n  Verilated::commandArgs(argc, argv);\n  Verilated::traceEverOn(true);\n  top = new VDemo;\n  tfp = new VerilatedVcdC;\n  top->trace(tfp, 99);\n  tfp->open(\"VDemo.vcd\");\n\n  while (!Verilated::gotFinish() && main_time < sim_time) {\n    // simulation time step in\n    top->eval();\n    // wave output step in\n    tfp->dump(main_time);\n    main_time++;\n  }\n\n  // clear sources and exit\n  tfp->close();\n  delete top;\n  delete tfp;\n  exit(0);\n  return 0;\n}\n```\n\n C++\n\n\n\n1. \n\n`verilator --cc Demo.sv --trace``obj_dir` systemverilog  cpp  verilator `/usr/share/verilator/include` cpp \n\n2. \n\n`verilator --cc Demo.sv --trace --exe sim_main.cpp && make -j $(nproc) -C ./obj_dir -f VDemo.mk VDemo`\n\n`$(nproc)` 4  8  `-j 8``$(nproc)`\n\n`obj_dir/VDemo`\n\n`obj_dir/VDemo.vcd``gtkwave obj_dir/VDemo.vcd`\n\n3. \n\n systemverilog `input clk``output logic out``assign out = clk;`\n\n`top``top->clk``while`\n\n```cpp\n  while (!Verilated::gotFinish() && main_time < sim_time) {\n    top->clk = top->clk == 0 ? 1 : 0;\n    // simulation time step in\n    top->eval();\n    // wave output step in\n    tfp->dump(main_time);\n    main_time++;\n  }\n```\n\n clk \n\n## \n\n\n\n\n\n```shell\nsourcefile=\"demo.sv\"\nexe=\"Vdemo\"\nsimfile=\"sim_main.cpp\"\nbuildcmd=\"verilator --cc $sourcefile --trace\"\nruncmd=\"verilator --cc $sourcefile --trace --exe $simfile && make -j $(nproc) -C ./obj_dir -f $exe.mk $exe\"\n\nif [ $1 == \"run\" ]; then\n    eval $runcmd &>/dev/null\n    cd ./obj_dir\n    eval \"./$exe\"\n    if [ -f \"$exe.vcd\" ]; then\n        gtkwave \"./$exe.vcd\"\n    fi\nelif [ $1 == \"build\" ]; then\n    eval $runcmd\nelif [ $1 == \"check\" ]; then\n    eval $buildcmd\nelif [ $1 == \"clean\" ]; then\n    if [ -d \"obj_dir\" ]; then\n        rm obj_dir\n    fi\nelif [ $1 == \"watch\" ]; then\n    if [ -f \"$exe.vcd\" ]; then\n        cd ./obj_dir\n        gtkwave \"./$exe.vcd\"\n    else\n        echo -e \"\\033[31mNo vcd file exists.\\033[0m\"\n    fi\nelif [ $1 == \"init\" ]; then\n    project_path=$(pwd)\n    eval $buildcmd\n    cat >compile_commands.json <<EOF\n[\n  {\n    \"directory\": \"$project_path\",\n    \"command\": \"g++ $simfile -I ./obj_dir -I /usr/share/verilator/include -I /usr/share/verilator/include/*\",\n    \"file\": \"./$simfile\"\n  }\n]\nEOF\n    cat >$simfile <<EOF\n#include \"$exe.h\"\n#include <fstream>\n#include <iostream>\n#include <verilated.h>\n#include <verilated_vcd_c.h>\nusing namespace std;\n\n// top object pointer\n$exe *top = nullptr;\n// wave generation pointer\nVerilatedVcdC *tfp = nullptr;\n\n// simulation timestamp\nvluint64_t main_time = 0;\n// upper limit of simulation timestamp\nconst vluint64_t sim_time = 1024;\n\nint main(int argc, char **argv) {\n  // init\n  Verilated::commandArgs(argc, argv);\n  Verilated::traceEverOn(true);\n  top = new $exe;\n  tfp = new VerilatedVcdC;\n  top->trace(tfp, 99);\n  tfp->open(\"$exe.vcd\");\n\n  while (!Verilated::gotFinish() && main_time < sim_time) {\n    // simulation time step in\n    top->eval();\n    // wave output step in\n    tfp->dump(main_time);\n    main_time++;\n  }\n\n  // clear sources and exit\n  tfp->close();\n  delete top;\n  delete tfp;\n  exit(0);\n  return 0;\n}\nEOF\nfi\n```\n\n`init``compile_commands.json``/usr/...`\n\n`sourcefile``simfile``exe``obj_dir`\n\n1. init`sim_main.cpp` cpp lsp `compile_commands.json` cpp \n2. run gtkwave \n3. build\n4. check\n5. clean\n6. watch\n\n vim [](https://www.niuiic.top/2021/04/17/vim-quickfix/) vim quickfix, asynctasks \n\n## \n\n linux  FPGA \n\n1.  IDE \n2. \n3. \n4.  IDE \n\n\n\n1. \n2. \n3.  linux vivado  linux  windows  vivado \n","slug":"develop-fpga-on-linux","published":1,"updated":"2021-06-16T07:46:55.880Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9c0000ndbiz59u23v0n","content":"<h1 id=\"-linux--FPGA\"><a href=\"#-linux--FPGA\" class=\"headerlink\" title=\" linux  FPGA\"></a> linux  FPGA</h1><p> linux  FPGA</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> FPGA  IDE  IDE  IDE vivado  IDE</p>\n<p> IDE FPGA IDE  vivado  IDE </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> linux  vim/neovim  emacs  vscode</p>\n<p> vim/neovim  systemverilog <a href=\"https://www.niuiic.top/2021/03/23/use-vim-as-the-editor-of-systemverilog/\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> gtkwave </p>\n<p> verilog/VHDL  iverilog </p>\n<p>iverilog  vivado  iverilog  gtkwave </p>\n<p>systemverilog  verilator iverilog  systemverilog  verilator </p>\n<p>verilator  systemverilog  C++ C++ C++</p>\n<blockquote>\n<p>iverilog  verilator </p>\n</blockquote>\n<p></p>\n<pre class=\"line-numbers language-systemverilog\" data-language=\"systemverilog\"><code class=\"language-systemverilog\">&#x2F;&#x2F; Demo.sv\n\nmodule Demo ();\n  initial begin\n    $display(&quot;Hello World&quot;);\n    $finish;\n  end\nendmodule<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\"><span class=\"token comment\">// sim_main.cpp</span>\n\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"VDemo.h\"</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;fstream></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;iostream></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;verilated.h></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;verilated_vcd_c.h></span></span>\n<span class=\"token keyword\">using</span> <span class=\"token keyword\">namespace</span> std<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// top object pointer</span>\nVDemo <span class=\"token operator\">*</span>top <span class=\"token operator\">=</span> <span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// wave generation pointer</span>\nVerilatedVcdC <span class=\"token operator\">*</span>tfp <span class=\"token operator\">=</span> <span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// simulation timestamp</span>\nvluint64_t main_time <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// upper limit of simulation timestamp</span>\n<span class=\"token keyword\">const</span> vluint64_t sim_time <span class=\"token operator\">=</span> <span class=\"token number\">1024</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> argc<span class=\"token punctuation\">,</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token operator\">*</span>argv<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">// init</span>\n  <span class=\"token class-name\">Verilated</span><span class=\"token operator\">::</span><span class=\"token function\">commandArgs</span><span class=\"token punctuation\">(</span>argc<span class=\"token punctuation\">,</span> argv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token class-name\">Verilated</span><span class=\"token operator\">::</span><span class=\"token function\">traceEverOn</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  top <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> VDemo<span class=\"token punctuation\">;</span>\n  tfp <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> VerilatedVcdC<span class=\"token punctuation\">;</span>\n  top<span class=\"token operator\">-></span><span class=\"token function\">trace</span><span class=\"token punctuation\">(</span>tfp<span class=\"token punctuation\">,</span> <span class=\"token number\">99</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  tfp<span class=\"token operator\">-></span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"VDemo.vcd\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token class-name\">Verilated</span><span class=\"token operator\">::</span><span class=\"token function\">gotFinish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> main_time <span class=\"token operator\">&lt;</span> sim_time<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// simulation time step in</span>\n    top<span class=\"token operator\">-></span><span class=\"token function\">eval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// wave output step in</span>\n    tfp<span class=\"token operator\">-></span><span class=\"token function\">dump</span><span class=\"token punctuation\">(</span>main_time<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    main_time<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n\n  <span class=\"token comment\">// clear sources and exit</span>\n  tfp<span class=\"token operator\">-></span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">delete</span> top<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">delete</span> tfp<span class=\"token punctuation\">;</span>\n  <span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> C++</p>\n<p></p>\n<ol>\n<li></li>\n</ol>\n<p><code>verilator --cc Demo.sv --trace</code><code>obj_dir</code> systemverilog  cpp  verilator <code>/usr/share/verilator/include</code> cpp </p>\n<ol start=\"2\">\n<li></li>\n</ol>\n<p><code>verilator --cc Demo.sv --trace --exe sim_main.cpp &amp;&amp; make -j $(nproc) -C ./obj_dir -f VDemo.mk VDemo</code></p>\n<p><code>$(nproc)</code> 4  8  <code>-j 8</code><code>$(nproc)</code></p>\n<p><code>obj_dir/VDemo</code></p>\n<p><code>obj_dir/VDemo.vcd</code><code>gtkwave obj_dir/VDemo.vcd</code></p>\n<ol start=\"3\">\n<li></li>\n</ol>\n<p> systemverilog <code>input clk</code><code>output logic out</code><code>assign out = clk;</code></p>\n<p><code>top</code><code>top-&gt;clk</code><code>while</code></p>\n<pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token class-name\">Verilated</span><span class=\"token operator\">::</span><span class=\"token function\">gotFinish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> main_time <span class=\"token operator\">&lt;</span> sim_time<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  top<span class=\"token operator\">-></span>clk <span class=\"token operator\">=</span> top<span class=\"token operator\">-></span>clk <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// simulation time step in</span>\n  top<span class=\"token operator\">-></span><span class=\"token function\">eval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// wave output step in</span>\n  tfp<span class=\"token operator\">-></span><span class=\"token function\">dump</span><span class=\"token punctuation\">(</span>main_time<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  main_time<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> clk </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">sourcefile&#x3D;&quot;demo.sv&quot;\nexe&#x3D;&quot;Vdemo&quot;\nsimfile&#x3D;&quot;sim_main.cpp&quot;\nbuildcmd&#x3D;&quot;verilator --cc $sourcefile --trace&quot;\nruncmd&#x3D;&quot;verilator --cc $sourcefile --trace --exe $simfile &amp;&amp; make -j $(nproc) -C .&#x2F;obj_dir -f $exe.mk $exe&quot;\n\nif [ $1 &#x3D;&#x3D; &quot;run&quot; ]; then\n    eval $runcmd &amp;&gt;&#x2F;dev&#x2F;null\n    cd .&#x2F;obj_dir\n    eval &quot;.&#x2F;$exe&quot;\n    if [ -f &quot;$exe.vcd&quot; ]; then\n        gtkwave &quot;.&#x2F;$exe.vcd&quot;\n    fi\nelif [ $1 &#x3D;&#x3D; &quot;build&quot; ]; then\n    eval $runcmd\nelif [ $1 &#x3D;&#x3D; &quot;check&quot; ]; then\n    eval $buildcmd\nelif [ $1 &#x3D;&#x3D; &quot;clean&quot; ]; then\n    if [ -d &quot;obj_dir&quot; ]; then\n        rm obj_dir\n    fi\nelif [ $1 &#x3D;&#x3D; &quot;watch&quot; ]; then\n    if [ -f &quot;$exe.vcd&quot; ]; then\n        cd .&#x2F;obj_dir\n        gtkwave &quot;.&#x2F;$exe.vcd&quot;\n    else\n        echo -e &quot;\\033[31mNo vcd file exists.\\033[0m&quot;\n    fi\nelif [ $1 &#x3D;&#x3D; &quot;init&quot; ]; then\n    project_path&#x3D;$(pwd)\n    eval $buildcmd\n    cat &gt;compile_commands.json &lt;&lt;EOF\n[\n  &#123;\n    &quot;directory&quot;: &quot;$project_path&quot;,\n    &quot;command&quot;: &quot;g++ $simfile -I .&#x2F;obj_dir -I &#x2F;usr&#x2F;share&#x2F;verilator&#x2F;include -I &#x2F;usr&#x2F;share&#x2F;verilator&#x2F;include&#x2F;*&quot;,\n    &quot;file&quot;: &quot;.&#x2F;$simfile&quot;\n  &#125;\n]\nEOF\n    cat &gt;$simfile &lt;&lt;EOF\n#include &quot;$exe.h&quot;\n#include &lt;fstream&gt;\n#include &lt;iostream&gt;\n#include &lt;verilated.h&gt;\n#include &lt;verilated_vcd_c.h&gt;\nusing namespace std;\n\n&#x2F;&#x2F; top object pointer\n$exe *top &#x3D; nullptr;\n&#x2F;&#x2F; wave generation pointer\nVerilatedVcdC *tfp &#x3D; nullptr;\n\n&#x2F;&#x2F; simulation timestamp\nvluint64_t main_time &#x3D; 0;\n&#x2F;&#x2F; upper limit of simulation timestamp\nconst vluint64_t sim_time &#x3D; 1024;\n\nint main(int argc, char **argv) &#123;\n  &#x2F;&#x2F; init\n  Verilated::commandArgs(argc, argv);\n  Verilated::traceEverOn(true);\n  top &#x3D; new $exe;\n  tfp &#x3D; new VerilatedVcdC;\n  top-&gt;trace(tfp, 99);\n  tfp-&gt;open(&quot;$exe.vcd&quot;);\n\n  while (!Verilated::gotFinish() &amp;&amp; main_time &lt; sim_time) &#123;\n    &#x2F;&#x2F; simulation time step in\n    top-&gt;eval();\n    &#x2F;&#x2F; wave output step in\n    tfp-&gt;dump(main_time);\n    main_time++;\n  &#125;\n\n  &#x2F;&#x2F; clear sources and exit\n  tfp-&gt;close();\n  delete top;\n  delete tfp;\n  exit(0);\n  return 0;\n&#125;\nEOF\nfi<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>init</code><code>compile_commands.json</code><code>/usr/...</code></p>\n<p><code>sourcefile</code><code>simfile</code><code>exe</code><code>obj_dir</code></p>\n<ol>\n<li>init<code>sim_main.cpp</code> cpp lsp <code>compile_commands.json</code> cpp </li>\n<li>run gtkwave </li>\n<li>build</li>\n<li>check</li>\n<li>clean</li>\n<li>watch</li>\n</ol>\n<p> vim <a href=\"https://www.niuiic.top/2021/04/17/vim-quickfix/\"></a> vim quickfix, asynctasks </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> linux  FPGA </p>\n<ol>\n<li> IDE </li>\n<li></li>\n<li></li>\n<li> IDE </li>\n</ol>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li> linux vivado  linux  windows  vivado </li>\n</ol>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-linux--FPGA\"><a href=\"#-linux--FPGA\" class=\"headerlink\" title=\" linux  FPGA\"></a> linux  FPGA</h1><p> linux  FPGA</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> FPGA  IDE  IDE  IDE vivado  IDE</p>\n<p> IDE FPGA IDE  vivado  IDE </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> linux  vim/neovim  emacs  vscode</p>\n<p> vim/neovim  systemverilog <a href=\"https://www.niuiic.top/2021/03/23/use-vim-as-the-editor-of-systemverilog/\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> gtkwave </p>\n<p> verilog/VHDL  iverilog </p>\n<p>iverilog  vivado  iverilog  gtkwave </p>\n<p>systemverilog  verilator iverilog  systemverilog  verilator </p>\n<p>verilator  systemverilog  C++ C++ C++</p>\n<blockquote>\n<p>iverilog  verilator </p>\n</blockquote>\n<p></p>\n<pre class=\"line-numbers language-systemverilog\" data-language=\"systemverilog\"><code class=\"language-systemverilog\">&#x2F;&#x2F; Demo.sv\n\nmodule Demo ();\n  initial begin\n    $display(&quot;Hello World&quot;);\n    $finish;\n  end\nendmodule<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\"><span class=\"token comment\">// sim_main.cpp</span>\n\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"VDemo.h\"</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;fstream></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;iostream></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;verilated.h></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;verilated_vcd_c.h></span></span>\n<span class=\"token keyword\">using</span> <span class=\"token keyword\">namespace</span> std<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// top object pointer</span>\nVDemo <span class=\"token operator\">*</span>top <span class=\"token operator\">=</span> <span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// wave generation pointer</span>\nVerilatedVcdC <span class=\"token operator\">*</span>tfp <span class=\"token operator\">=</span> <span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// simulation timestamp</span>\nvluint64_t main_time <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// upper limit of simulation timestamp</span>\n<span class=\"token keyword\">const</span> vluint64_t sim_time <span class=\"token operator\">=</span> <span class=\"token number\">1024</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> argc<span class=\"token punctuation\">,</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token operator\">*</span>argv<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">// init</span>\n  <span class=\"token class-name\">Verilated</span><span class=\"token operator\">::</span><span class=\"token function\">commandArgs</span><span class=\"token punctuation\">(</span>argc<span class=\"token punctuation\">,</span> argv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token class-name\">Verilated</span><span class=\"token operator\">::</span><span class=\"token function\">traceEverOn</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  top <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> VDemo<span class=\"token punctuation\">;</span>\n  tfp <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> VerilatedVcdC<span class=\"token punctuation\">;</span>\n  top<span class=\"token operator\">-></span><span class=\"token function\">trace</span><span class=\"token punctuation\">(</span>tfp<span class=\"token punctuation\">,</span> <span class=\"token number\">99</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  tfp<span class=\"token operator\">-></span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"VDemo.vcd\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token class-name\">Verilated</span><span class=\"token operator\">::</span><span class=\"token function\">gotFinish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> main_time <span class=\"token operator\">&lt;</span> sim_time<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// simulation time step in</span>\n    top<span class=\"token operator\">-></span><span class=\"token function\">eval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// wave output step in</span>\n    tfp<span class=\"token operator\">-></span><span class=\"token function\">dump</span><span class=\"token punctuation\">(</span>main_time<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    main_time<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n\n  <span class=\"token comment\">// clear sources and exit</span>\n  tfp<span class=\"token operator\">-></span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">delete</span> top<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">delete</span> tfp<span class=\"token punctuation\">;</span>\n  <span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> C++</p>\n<p></p>\n<ol>\n<li></li>\n</ol>\n<p><code>verilator --cc Demo.sv --trace</code><code>obj_dir</code> systemverilog  cpp  verilator <code>/usr/share/verilator/include</code> cpp </p>\n<ol start=\"2\">\n<li></li>\n</ol>\n<p><code>verilator --cc Demo.sv --trace --exe sim_main.cpp &amp;&amp; make -j $(nproc) -C ./obj_dir -f VDemo.mk VDemo</code></p>\n<p><code>$(nproc)</code> 4  8  <code>-j 8</code><code>$(nproc)</code></p>\n<p><code>obj_dir/VDemo</code></p>\n<p><code>obj_dir/VDemo.vcd</code><code>gtkwave obj_dir/VDemo.vcd</code></p>\n<ol start=\"3\">\n<li></li>\n</ol>\n<p> systemverilog <code>input clk</code><code>output logic out</code><code>assign out = clk;</code></p>\n<p><code>top</code><code>top-&gt;clk</code><code>while</code></p>\n<pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token class-name\">Verilated</span><span class=\"token operator\">::</span><span class=\"token function\">gotFinish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> main_time <span class=\"token operator\">&lt;</span> sim_time<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  top<span class=\"token operator\">-></span>clk <span class=\"token operator\">=</span> top<span class=\"token operator\">-></span>clk <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// simulation time step in</span>\n  top<span class=\"token operator\">-></span><span class=\"token function\">eval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// wave output step in</span>\n  tfp<span class=\"token operator\">-></span><span class=\"token function\">dump</span><span class=\"token punctuation\">(</span>main_time<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  main_time<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> clk </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">sourcefile&#x3D;&quot;demo.sv&quot;\nexe&#x3D;&quot;Vdemo&quot;\nsimfile&#x3D;&quot;sim_main.cpp&quot;\nbuildcmd&#x3D;&quot;verilator --cc $sourcefile --trace&quot;\nruncmd&#x3D;&quot;verilator --cc $sourcefile --trace --exe $simfile &amp;&amp; make -j $(nproc) -C .&#x2F;obj_dir -f $exe.mk $exe&quot;\n\nif [ $1 &#x3D;&#x3D; &quot;run&quot; ]; then\n    eval $runcmd &amp;&gt;&#x2F;dev&#x2F;null\n    cd .&#x2F;obj_dir\n    eval &quot;.&#x2F;$exe&quot;\n    if [ -f &quot;$exe.vcd&quot; ]; then\n        gtkwave &quot;.&#x2F;$exe.vcd&quot;\n    fi\nelif [ $1 &#x3D;&#x3D; &quot;build&quot; ]; then\n    eval $runcmd\nelif [ $1 &#x3D;&#x3D; &quot;check&quot; ]; then\n    eval $buildcmd\nelif [ $1 &#x3D;&#x3D; &quot;clean&quot; ]; then\n    if [ -d &quot;obj_dir&quot; ]; then\n        rm obj_dir\n    fi\nelif [ $1 &#x3D;&#x3D; &quot;watch&quot; ]; then\n    if [ -f &quot;$exe.vcd&quot; ]; then\n        cd .&#x2F;obj_dir\n        gtkwave &quot;.&#x2F;$exe.vcd&quot;\n    else\n        echo -e &quot;\\033[31mNo vcd file exists.\\033[0m&quot;\n    fi\nelif [ $1 &#x3D;&#x3D; &quot;init&quot; ]; then\n    project_path&#x3D;$(pwd)\n    eval $buildcmd\n    cat &gt;compile_commands.json &lt;&lt;EOF\n[\n  &#123;\n    &quot;directory&quot;: &quot;$project_path&quot;,\n    &quot;command&quot;: &quot;g++ $simfile -I .&#x2F;obj_dir -I &#x2F;usr&#x2F;share&#x2F;verilator&#x2F;include -I &#x2F;usr&#x2F;share&#x2F;verilator&#x2F;include&#x2F;*&quot;,\n    &quot;file&quot;: &quot;.&#x2F;$simfile&quot;\n  &#125;\n]\nEOF\n    cat &gt;$simfile &lt;&lt;EOF\n#include &quot;$exe.h&quot;\n#include &lt;fstream&gt;\n#include &lt;iostream&gt;\n#include &lt;verilated.h&gt;\n#include &lt;verilated_vcd_c.h&gt;\nusing namespace std;\n\n&#x2F;&#x2F; top object pointer\n$exe *top &#x3D; nullptr;\n&#x2F;&#x2F; wave generation pointer\nVerilatedVcdC *tfp &#x3D; nullptr;\n\n&#x2F;&#x2F; simulation timestamp\nvluint64_t main_time &#x3D; 0;\n&#x2F;&#x2F; upper limit of simulation timestamp\nconst vluint64_t sim_time &#x3D; 1024;\n\nint main(int argc, char **argv) &#123;\n  &#x2F;&#x2F; init\n  Verilated::commandArgs(argc, argv);\n  Verilated::traceEverOn(true);\n  top &#x3D; new $exe;\n  tfp &#x3D; new VerilatedVcdC;\n  top-&gt;trace(tfp, 99);\n  tfp-&gt;open(&quot;$exe.vcd&quot;);\n\n  while (!Verilated::gotFinish() &amp;&amp; main_time &lt; sim_time) &#123;\n    &#x2F;&#x2F; simulation time step in\n    top-&gt;eval();\n    &#x2F;&#x2F; wave output step in\n    tfp-&gt;dump(main_time);\n    main_time++;\n  &#125;\n\n  &#x2F;&#x2F; clear sources and exit\n  tfp-&gt;close();\n  delete top;\n  delete tfp;\n  exit(0);\n  return 0;\n&#125;\nEOF\nfi<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>init</code><code>compile_commands.json</code><code>/usr/...</code></p>\n<p><code>sourcefile</code><code>simfile</code><code>exe</code><code>obj_dir</code></p>\n<ol>\n<li>init<code>sim_main.cpp</code> cpp lsp <code>compile_commands.json</code> cpp </li>\n<li>run gtkwave </li>\n<li>build</li>\n<li>check</li>\n<li>clean</li>\n<li>watch</li>\n</ol>\n<p> vim <a href=\"https://www.niuiic.top/2021/04/17/vim-quickfix/\"></a> vim quickfix, asynctasks </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> linux  FPGA </p>\n<ol>\n<li> IDE </li>\n<li></li>\n<li></li>\n<li> IDE </li>\n</ol>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li> linux vivado  linux  windows  vivado </li>\n</ol>\n"},{"title":"Better Use of Rust on Gentoo","date":"2021-04-24T13:26:57.000Z","_content":"\n#  gentoo  rust\n\n gentoo  portage  rust  rust \n\n##  rust\n\nrust  rust `curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh` rust  gentoo  rust rust  rust rust rust\n\n\n\n```shell\nsudo mkdir -p /etc/portage/profile/package.provided\n```\n\n\n\n`/etc/portage/profile/package.provided/rust`\n\n```\ndev-lang/rust-1.50.0\nvirtual/rust-1.50.0\ndev-util/cargo-1.50.0\ndev-util/rustup-1.23.0\n```\n\n\n\n`/etc/portage/profile/profile.bashrc`\n\n```shell\nexport PATH=\"/home/yourname/.cargo/bin:$PATH\"\n\nSTABLE=/home/yourname/.rustup/toolchains/stable-x86_64-unknown-linux-gnu\nrustup toolchain link build-stable $STABLE &> /dev/null\nrustup default build-stable &> /dev/null\n```\n\n stable \n\n rust mask \n\n## rust \n\nCC++ ccache  rust  sccache\n\n\n\n```shell\nemerge --ask dev-util/sccache\nmkdir -p /var/cache/sccache\nchown root:portage /var/cache/sccache\nchmod 2775 /var/cache/sccache\n```\n\n`/etc/sandbox.d/20sccache`\n\n```\nSANDBOX_WRITE=\"/var/cache/sccache/\"\n```\n\n`/etc/portage/make.conf`\n\n```\nRUSTC_WRAPPER=/usr/bin/sccache\nSCCACHE_DIR=/var/cache/sccache\nSCCACHE_MAX_FRAME_LENGTH=104857600\n```\n","source":"_posts/better-use-of-rust-on-gentoo.md","raw":"---\ntitle: Better Use of Rust on Gentoo\ndate: 2021-04-24 21:26:57\ntags:\n\t\t- Gentoo\ncategories:\n\t\t- Gentoo\n---\n\n#  gentoo  rust\n\n gentoo  portage  rust  rust \n\n##  rust\n\nrust  rust `curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh` rust  gentoo  rust rust  rust rust rust\n\n\n\n```shell\nsudo mkdir -p /etc/portage/profile/package.provided\n```\n\n\n\n`/etc/portage/profile/package.provided/rust`\n\n```\ndev-lang/rust-1.50.0\nvirtual/rust-1.50.0\ndev-util/cargo-1.50.0\ndev-util/rustup-1.23.0\n```\n\n\n\n`/etc/portage/profile/profile.bashrc`\n\n```shell\nexport PATH=\"/home/yourname/.cargo/bin:$PATH\"\n\nSTABLE=/home/yourname/.rustup/toolchains/stable-x86_64-unknown-linux-gnu\nrustup toolchain link build-stable $STABLE &> /dev/null\nrustup default build-stable &> /dev/null\n```\n\n stable \n\n rust mask \n\n## rust \n\nCC++ ccache  rust  sccache\n\n\n\n```shell\nemerge --ask dev-util/sccache\nmkdir -p /var/cache/sccache\nchown root:portage /var/cache/sccache\nchmod 2775 /var/cache/sccache\n```\n\n`/etc/sandbox.d/20sccache`\n\n```\nSANDBOX_WRITE=\"/var/cache/sccache/\"\n```\n\n`/etc/portage/make.conf`\n\n```\nRUSTC_WRAPPER=/usr/bin/sccache\nSCCACHE_DIR=/var/cache/sccache\nSCCACHE_MAX_FRAME_LENGTH=104857600\n```\n","slug":"better-use-of-rust-on-gentoo","published":1,"updated":"2021-04-24T13:47:26.895Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9c2000rdbizet81d3io","content":"<h1 id=\"-gentoo--rust\"><a href=\"#-gentoo--rust\" class=\"headerlink\" title=\" gentoo  rust\"></a> gentoo  rust</h1><p> gentoo  portage  rust  rust </p>\n<h2 id=\"-rust\"><a href=\"#-rust\" class=\"headerlink\" title=\" rust\"></a> rust</h2><p>rust  rust <code>curl --proto &#39;=https&#39; --tlsv1.2 -sSf https://sh.rustup.rs | sh</code> rust  gentoo  rust rust  rust rust rust</p>\n<p></p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">sudo mkdir -p &#x2F;etc&#x2F;portage&#x2F;profile&#x2F;package.provided<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<p><code>/etc/portage/profile/package.provided/rust</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">dev-lang&#x2F;rust-1.50.0\nvirtual&#x2F;rust-1.50.0\ndev-util&#x2F;cargo-1.50.0\ndev-util&#x2F;rustup-1.23.0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p><code>/etc/portage/profile/profile.bashrc</code></p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">export PATH&#x3D;&quot;&#x2F;home&#x2F;yourname&#x2F;.cargo&#x2F;bin:$PATH&quot;\n\nSTABLE&#x3D;&#x2F;home&#x2F;yourname&#x2F;.rustup&#x2F;toolchains&#x2F;stable-x86_64-unknown-linux-gnu\nrustup toolchain link build-stable $STABLE &amp;&gt; &#x2F;dev&#x2F;null\nrustup default build-stable &amp;&gt; &#x2F;dev&#x2F;null<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> stable </p>\n<p> rust mask </p>\n<h2 id=\"rust-\"><a href=\"#rust-\" class=\"headerlink\" title=\"rust \"></a>rust </h2><p>CC++ ccache  rust  sccache</p>\n<p></p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">emerge --ask dev-util&#x2F;sccache\nmkdir -p &#x2F;var&#x2F;cache&#x2F;sccache\nchown root:portage &#x2F;var&#x2F;cache&#x2F;sccache\nchmod 2775 &#x2F;var&#x2F;cache&#x2F;sccache<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>/etc/sandbox.d/20sccache</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">SANDBOX_WRITE&#x3D;&quot;&#x2F;var&#x2F;cache&#x2F;sccache&#x2F;&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><code>/etc/portage/make.conf</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">RUSTC_WRAPPER&#x3D;&#x2F;usr&#x2F;bin&#x2F;sccache\nSCCACHE_DIR&#x3D;&#x2F;var&#x2F;cache&#x2F;sccache\nSCCACHE_MAX_FRAME_LENGTH&#x3D;104857600<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-gentoo--rust\"><a href=\"#-gentoo--rust\" class=\"headerlink\" title=\" gentoo  rust\"></a> gentoo  rust</h1><p> gentoo  portage  rust  rust </p>\n<h2 id=\"-rust\"><a href=\"#-rust\" class=\"headerlink\" title=\" rust\"></a> rust</h2><p>rust  rust <code>curl --proto &#39;=https&#39; --tlsv1.2 -sSf https://sh.rustup.rs | sh</code> rust  gentoo  rust rust  rust rust rust</p>\n<p></p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">sudo mkdir -p &#x2F;etc&#x2F;portage&#x2F;profile&#x2F;package.provided<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<p><code>/etc/portage/profile/package.provided/rust</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">dev-lang&#x2F;rust-1.50.0\nvirtual&#x2F;rust-1.50.0\ndev-util&#x2F;cargo-1.50.0\ndev-util&#x2F;rustup-1.23.0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p><code>/etc/portage/profile/profile.bashrc</code></p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">export PATH&#x3D;&quot;&#x2F;home&#x2F;yourname&#x2F;.cargo&#x2F;bin:$PATH&quot;\n\nSTABLE&#x3D;&#x2F;home&#x2F;yourname&#x2F;.rustup&#x2F;toolchains&#x2F;stable-x86_64-unknown-linux-gnu\nrustup toolchain link build-stable $STABLE &amp;&gt; &#x2F;dev&#x2F;null\nrustup default build-stable &amp;&gt; &#x2F;dev&#x2F;null<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> stable </p>\n<p> rust mask </p>\n<h2 id=\"rust-\"><a href=\"#rust-\" class=\"headerlink\" title=\"rust \"></a>rust </h2><p>CC++ ccache  rust  sccache</p>\n<p></p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">emerge --ask dev-util&#x2F;sccache\nmkdir -p &#x2F;var&#x2F;cache&#x2F;sccache\nchown root:portage &#x2F;var&#x2F;cache&#x2F;sccache\nchmod 2775 &#x2F;var&#x2F;cache&#x2F;sccache<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>/etc/sandbox.d/20sccache</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">SANDBOX_WRITE&#x3D;&quot;&#x2F;var&#x2F;cache&#x2F;sccache&#x2F;&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><code>/etc/portage/make.conf</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">RUSTC_WRAPPER&#x3D;&#x2F;usr&#x2F;bin&#x2F;sccache\nSCCACHE_DIR&#x3D;&#x2F;var&#x2F;cache&#x2F;sccache\nSCCACHE_MAX_FRAME_LENGTH&#x3D;104857600<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Develop Stm32 Project with Rust Environment","date":"2021-03-23T10:19:56.000Z","_content":"\n#  rust  stm32 \n\n stm32 \n\n rust  stm32 linuxgentoo\n\n## \n\n STM32F103C8T6\n\n STLINK V2 jlink\n\n\n\n\n\n## \n\n###  rust\n\n beta  nightly \n\n\n\n```\nrustup target add thumbv6m-none-eabi thumbv7m-none-eabi thumbv7em-none-eabi thumbv7em-none-eabihf\n```\n\n### openocd\n\n\n\n\n\n openocd `/scripts/target/stm32f1x.cfg``set _CPUTAPID 0x1ba01477``set _CPUTAPID 0x2ba01477`\n\n### arm-none-eabi \n\n gentoo  crossdev  gdb  linux \n\ngdb \n\n```\n# \n./configure --prefix=\"${PREFIX}\" --target=arm-none-eabi\nmake\nsudo make install\n```\n\n`cd``sudo make uninstall`\n\ncrossdev  arm-none-eabi \n\n```\n# crossdev\n\n# /etc/portage/make.conf\nPORTDIR_OVERLAY=\"${PORTDIR_OVERLAY} /usr/local/portage\"\n\n# \nsudo crossdev -s4 -t arm-none-eabi\n# masked by: corruption\n# /var/db/repos/localrepo-crossdev/metadata/layout.conf\nmasters = gentoo\nthin-manifests = true\n# /etc/portage/repos.conf/crossdev.conf\n[crossdev]\nlocation = /var/db/repos/localrepo-crossdev\npriority = 10\nmasters = gentoo\nauto-sync = no\n\n# gccnewlib/etc/portage/make.conf\n# COMMON_FLAGS=\"-march=native -O2 -pipe\"\n```\n\n### stlink\n\nstlink \n\n### gdbgui\n\ngdb gui \n\n## blink\n\n`cargo new rusty-blink`\n\n`Cargo.toml`\n\n```toml\n[package]\nname = \"rusty-blink\"\nversion = \"0.1.0\"\nauthors =\nedition = \"2018\"\n\n# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n\n[profile.release]\nopt-level = 'z' # turn on maximum optimizations. We only have 64kB\nlto = true      # Link-time-optimizations for further size reduction\n\n[dependencies]\ncortex-m = \"^0.6.3\"      # Access to the generic ARM peripherals\ncortex-m-rt = \"^0.6.12\"  # Startup code for the ARM Core\nembedded-hal = \"^0.2.4\"  # Access to generic embedded functions (`set_high`)\npanic-halt = \"^0.2.0\"    # Panic handler\n\n# Access to the stm32f103 HAL.\n[dependencies.stm32f1xx-hal]\n# Bluepill contains a 64kB flash variant which is called \"medium density\"\nfeatures = [\"stm32f103\", \"rt\", \"medium\"]\nversion = \"^0.6.1\"\n```\n\n`mkdir .cargo` lld  linker  gccrunner `cargo run` gdb \n\n```\n# .cargo/config\n[build]\ntarget = \"thumbv7m-none-eabi\"\n\n[target.'cfg(all(target_arch = \"arm\", target_os = \"none\"))']\nrunner = 'gdbgui -g arm-none-eabi-gdb'\n\n[target.thumbv7m-none-eabi]\nrustflags = [\n\t\"-C\", \"linker=arm-none-eabi-gcc\",\n\t\"-C\", \"link-arg=-Wl,-Tlink.x\",\n\t\"-C\", \"link-arg=-nostartfiles\",\n]\n```\n\n### \n\n`memory.x`\n\n```\n/* memory.x - Linker script for the STM32F103C8T6 */\nMEMORY\n{\n  /* Flash memory begins at 0x80000000 and has a size of 64kB*/\n  FLASH : ORIGIN = 0x08000000, LENGTH = 64K\n  /* RAM begins at 0x20000000 and has a size of 20kB*/\n  RAM : ORIGIN = 0x20000000, LENGTH = 20K\n}\n```\n\n 64K  20K\n\n src `main.rs`\n\n```rust\n// src/main.rs\n\n#![no_std]\n#![no_main]\n\nuse cortex_m_rt::entry; // The runtime\nuse embedded_hal::digital::v2::OutputPin; // the `set_high/low`function\nuse stm32f1xx_hal::{delay::Delay, pac, prelude::*}; // STM32F1 specific functions\n#[allow(unused_imports)]\nuse panic_halt; // When a panic occurs, stop the microcontroller\n#[entry]\nfn main() -> ! {\n    let dp = pac::Peripherals::take().unwrap();\n    let cp = cortex_m::Peripherals::take().unwrap();\n    let mut rcc = dp.RCC.constrain();\n    let mut gpioc = dp.GPIOC.split(&mut rcc.apb2);\n    let mut led = gpioc.pc13.into_push_pull_output(&mut gpioc.crh);\n    let mut flash = dp.FLASH.constrain();\n    let clocks = rcc.cfgr.sysclk(8.mhz()).freeze(&mut flash.acr);\n    let mut delay = Delay::new(cp.SYST, clocks);\n    loop {\n        led.set_high().ok();\n        delay.delay_ms(1_000_u16);\n        led.set_low().ok();\n        delay.delay_ms(1_000_u16);\n    }\n}\n```\n\n### \n\n```\n# \nopenocd -f interface/stlink-v2.cfg -f target/stm32f1x.cfg\n# jlinkopenocd -f interface/jlink.cfg -f target/stm32f1x.cfg\n# \nInfo : stm32f1x.cpu: hardware has 6 breakpoints, 4 watchpoints\n\n# gdb\ncargo run\n\n# gdb\ntarget remote :3333\nmoniter reset halt\nload\ncontinue\n```\n\n continue\n\n gdb \n\n`runner``runner = 'arm-none-eabi-gdb -q -x debug.gdb'``debug.gdb`\n\n```\ntarget remote :3333\n\nset backtrace limit 32\n\nmonitor reset halt\n\nload\n```\n","source":"_posts/develop-stm32-with-rust-environment.md","raw":"---\ntitle: Develop Stm32 Project with Rust Environment\ndate: 2021-03-23 18:19:56\ntags:\n  - Rust\n  - Stm32\ncategories:\n  - [Embedded]\n  - [Rust]\n  - [Stm32]\n---\n\n#  rust  stm32 \n\n stm32 \n\n rust  stm32 linuxgentoo\n\n## \n\n STM32F103C8T6\n\n STLINK V2 jlink\n\n\n\n\n\n## \n\n###  rust\n\n beta  nightly \n\n\n\n```\nrustup target add thumbv6m-none-eabi thumbv7m-none-eabi thumbv7em-none-eabi thumbv7em-none-eabihf\n```\n\n### openocd\n\n\n\n\n\n openocd `/scripts/target/stm32f1x.cfg``set _CPUTAPID 0x1ba01477``set _CPUTAPID 0x2ba01477`\n\n### arm-none-eabi \n\n gentoo  crossdev  gdb  linux \n\ngdb \n\n```\n# \n./configure --prefix=\"${PREFIX}\" --target=arm-none-eabi\nmake\nsudo make install\n```\n\n`cd``sudo make uninstall`\n\ncrossdev  arm-none-eabi \n\n```\n# crossdev\n\n# /etc/portage/make.conf\nPORTDIR_OVERLAY=\"${PORTDIR_OVERLAY} /usr/local/portage\"\n\n# \nsudo crossdev -s4 -t arm-none-eabi\n# masked by: corruption\n# /var/db/repos/localrepo-crossdev/metadata/layout.conf\nmasters = gentoo\nthin-manifests = true\n# /etc/portage/repos.conf/crossdev.conf\n[crossdev]\nlocation = /var/db/repos/localrepo-crossdev\npriority = 10\nmasters = gentoo\nauto-sync = no\n\n# gccnewlib/etc/portage/make.conf\n# COMMON_FLAGS=\"-march=native -O2 -pipe\"\n```\n\n### stlink\n\nstlink \n\n### gdbgui\n\ngdb gui \n\n## blink\n\n`cargo new rusty-blink`\n\n`Cargo.toml`\n\n```toml\n[package]\nname = \"rusty-blink\"\nversion = \"0.1.0\"\nauthors =\nedition = \"2018\"\n\n# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n\n[profile.release]\nopt-level = 'z' # turn on maximum optimizations. We only have 64kB\nlto = true      # Link-time-optimizations for further size reduction\n\n[dependencies]\ncortex-m = \"^0.6.3\"      # Access to the generic ARM peripherals\ncortex-m-rt = \"^0.6.12\"  # Startup code for the ARM Core\nembedded-hal = \"^0.2.4\"  # Access to generic embedded functions (`set_high`)\npanic-halt = \"^0.2.0\"    # Panic handler\n\n# Access to the stm32f103 HAL.\n[dependencies.stm32f1xx-hal]\n# Bluepill contains a 64kB flash variant which is called \"medium density\"\nfeatures = [\"stm32f103\", \"rt\", \"medium\"]\nversion = \"^0.6.1\"\n```\n\n`mkdir .cargo` lld  linker  gccrunner `cargo run` gdb \n\n```\n# .cargo/config\n[build]\ntarget = \"thumbv7m-none-eabi\"\n\n[target.'cfg(all(target_arch = \"arm\", target_os = \"none\"))']\nrunner = 'gdbgui -g arm-none-eabi-gdb'\n\n[target.thumbv7m-none-eabi]\nrustflags = [\n\t\"-C\", \"linker=arm-none-eabi-gcc\",\n\t\"-C\", \"link-arg=-Wl,-Tlink.x\",\n\t\"-C\", \"link-arg=-nostartfiles\",\n]\n```\n\n### \n\n`memory.x`\n\n```\n/* memory.x - Linker script for the STM32F103C8T6 */\nMEMORY\n{\n  /* Flash memory begins at 0x80000000 and has a size of 64kB*/\n  FLASH : ORIGIN = 0x08000000, LENGTH = 64K\n  /* RAM begins at 0x20000000 and has a size of 20kB*/\n  RAM : ORIGIN = 0x20000000, LENGTH = 20K\n}\n```\n\n 64K  20K\n\n src `main.rs`\n\n```rust\n// src/main.rs\n\n#![no_std]\n#![no_main]\n\nuse cortex_m_rt::entry; // The runtime\nuse embedded_hal::digital::v2::OutputPin; // the `set_high/low`function\nuse stm32f1xx_hal::{delay::Delay, pac, prelude::*}; // STM32F1 specific functions\n#[allow(unused_imports)]\nuse panic_halt; // When a panic occurs, stop the microcontroller\n#[entry]\nfn main() -> ! {\n    let dp = pac::Peripherals::take().unwrap();\n    let cp = cortex_m::Peripherals::take().unwrap();\n    let mut rcc = dp.RCC.constrain();\n    let mut gpioc = dp.GPIOC.split(&mut rcc.apb2);\n    let mut led = gpioc.pc13.into_push_pull_output(&mut gpioc.crh);\n    let mut flash = dp.FLASH.constrain();\n    let clocks = rcc.cfgr.sysclk(8.mhz()).freeze(&mut flash.acr);\n    let mut delay = Delay::new(cp.SYST, clocks);\n    loop {\n        led.set_high().ok();\n        delay.delay_ms(1_000_u16);\n        led.set_low().ok();\n        delay.delay_ms(1_000_u16);\n    }\n}\n```\n\n### \n\n```\n# \nopenocd -f interface/stlink-v2.cfg -f target/stm32f1x.cfg\n# jlinkopenocd -f interface/jlink.cfg -f target/stm32f1x.cfg\n# \nInfo : stm32f1x.cpu: hardware has 6 breakpoints, 4 watchpoints\n\n# gdb\ncargo run\n\n# gdb\ntarget remote :3333\nmoniter reset halt\nload\ncontinue\n```\n\n continue\n\n gdb \n\n`runner``runner = 'arm-none-eabi-gdb -q -x debug.gdb'``debug.gdb`\n\n```\ntarget remote :3333\n\nset backtrace limit 32\n\nmonitor reset halt\n\nload\n```\n","slug":"develop-stm32-with-rust-environment","published":1,"updated":"2021-06-19T15:17:07.483Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9c3000tdbiz0s6e2wgp","content":"<h1 id=\"-rust--stm32-\"><a href=\"#-rust--stm32-\" class=\"headerlink\" title=\" rust  stm32 \"></a> rust  stm32 </h1><p> stm32 </p>\n<p> rust  stm32 linuxgentoo</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> STM32F103C8T6</p>\n<p> STLINK V2 jlink</p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"-rust\"><a href=\"#-rust\" class=\"headerlink\" title=\" rust\"></a> rust</h3><p> beta  nightly </p>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">rustup target add thumbv6m-none-eabi thumbv7m-none-eabi thumbv7em-none-eabi thumbv7em-none-eabihf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"openocd\"><a href=\"#openocd\" class=\"headerlink\" title=\"openocd\"></a>openocd</h3><p></p>\n<p></p>\n<p> openocd <code>/scripts/target/stm32f1x.cfg</code><code>set _CPUTAPID 0x1ba01477</code><code>set _CPUTAPID 0x2ba01477</code></p>\n<h3 id=\"arm-none-eabi-\"><a href=\"#arm-none-eabi-\" class=\"headerlink\" title=\"arm-none-eabi \"></a>arm-none-eabi </h3><p> gentoo  crossdev  gdb  linux </p>\n<p>gdb </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># \n.&#x2F;configure --prefix&#x3D;&quot;$&#123;PREFIX&#125;&quot; --target&#x3D;arm-none-eabi\nmake\nsudo make install<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>cd</code><code>sudo make uninstall</code></p>\n<p>crossdev  arm-none-eabi </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># crossdev\n\n# &#x2F;etc&#x2F;portage&#x2F;make.conf\nPORTDIR_OVERLAY&#x3D;&quot;$&#123;PORTDIR_OVERLAY&#125; &#x2F;usr&#x2F;local&#x2F;portage&quot;\n\n# \nsudo crossdev -s4 -t arm-none-eabi\n# masked by: corruption\n# &#x2F;var&#x2F;db&#x2F;repos&#x2F;localrepo-crossdev&#x2F;metadata&#x2F;layout.conf\nmasters &#x3D; gentoo\nthin-manifests &#x3D; true\n# &#x2F;etc&#x2F;portage&#x2F;repos.conf&#x2F;crossdev.conf\n[crossdev]\nlocation &#x3D; &#x2F;var&#x2F;db&#x2F;repos&#x2F;localrepo-crossdev\npriority &#x3D; 10\nmasters &#x3D; gentoo\nauto-sync &#x3D; no\n\n# gccnewlib&#x2F;etc&#x2F;portage&#x2F;make.conf\n# COMMON_FLAGS&#x3D;&quot;-march&#x3D;native -O2 -pipe&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"stlink\"><a href=\"#stlink\" class=\"headerlink\" title=\"stlink\"></a>stlink</h3><p>stlink </p>\n<h3 id=\"gdbgui\"><a href=\"#gdbgui\" class=\"headerlink\" title=\"gdbgui\"></a>gdbgui</h3><p>gdb gui </p>\n<h2 id=\"blink\"><a href=\"#blink\" class=\"headerlink\" title=\"blink\"></a>blink</h2><p><code>cargo new rusty-blink</code></p>\n<p><code>Cargo.toml</code></p>\n<pre class=\"line-numbers language-toml\" data-language=\"toml\"><code class=\"language-toml\"><span class=\"token punctuation\">[</span><span class=\"token table class-name\">package</span><span class=\"token punctuation\">]</span>\n<span class=\"token key property\">name</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"rusty-blink\"</span>\n<span class=\"token key property\">version</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"0.1.0\"</span>\n<span class=\"token key property\">authors</span> <span class=\"token punctuation\">=</span>\n<span class=\"token key property\">edition</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"2018\"</span>\n\n<span class=\"token comment\"># See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token table class-name\">profile.release</span><span class=\"token punctuation\">]</span>\n<span class=\"token key property\">opt-level</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">'z'</span> <span class=\"token comment\"># turn on maximum optimizations. We only have 64kB</span>\n<span class=\"token key property\">lto</span> <span class=\"token punctuation\">=</span> <span class=\"token boolean\">true</span>      <span class=\"token comment\"># Link-time-optimizations for further size reduction</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token table class-name\">dependencies</span><span class=\"token punctuation\">]</span>\n<span class=\"token key property\">cortex-m</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"^0.6.3\"</span>      <span class=\"token comment\"># Access to the generic ARM peripherals</span>\n<span class=\"token key property\">cortex-m-rt</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"^0.6.12\"</span>  <span class=\"token comment\"># Startup code for the ARM Core</span>\n<span class=\"token key property\">embedded-hal</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"^0.2.4\"</span>  <span class=\"token comment\"># Access to generic embedded functions (`set_high`)</span>\n<span class=\"token key property\">panic-halt</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"^0.2.0\"</span>    <span class=\"token comment\"># Panic handler</span>\n\n<span class=\"token comment\"># Access to the stm32f103 HAL.</span>\n<span class=\"token punctuation\">[</span><span class=\"token table class-name\">dependencies.stm32f1xx-hal</span><span class=\"token punctuation\">]</span>\n<span class=\"token comment\"># Bluepill contains a 64kB flash variant which is called \"medium density\"</span>\n<span class=\"token key property\">features</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"stm32f103\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"rt\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"medium\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token key property\">version</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"^0.6.1\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>mkdir .cargo</code> lld  linker  gccrunner <code>cargo run</code> gdb </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># .cargo&#x2F;config\n[build]\ntarget &#x3D; &quot;thumbv7m-none-eabi&quot;\n\n[target.&#39;cfg(all(target_arch &#x3D; &quot;arm&quot;, target_os &#x3D; &quot;none&quot;))&#39;]\nrunner &#x3D; &#39;gdbgui -g arm-none-eabi-gdb&#39;\n\n[target.thumbv7m-none-eabi]\nrustflags &#x3D; [\n\t&quot;-C&quot;, &quot;linker&#x3D;arm-none-eabi-gcc&quot;,\n\t&quot;-C&quot;, &quot;link-arg&#x3D;-Wl,-Tlink.x&quot;,\n\t&quot;-C&quot;, &quot;link-arg&#x3D;-nostartfiles&quot;,\n]<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>memory.x</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;* memory.x - Linker script for the STM32F103C8T6 *&#x2F;\nMEMORY\n&#123;\n  &#x2F;* Flash memory begins at 0x80000000 and has a size of 64kB*&#x2F;\n  FLASH : ORIGIN &#x3D; 0x08000000, LENGTH &#x3D; 64K\n  &#x2F;* RAM begins at 0x20000000 and has a size of 20kB*&#x2F;\n  RAM : ORIGIN &#x3D; 0x20000000, LENGTH &#x3D; 20K\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> 64K  20K</p>\n<p> src <code>main.rs</code></p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token comment\">// src/main.rs</span>\n\n<span class=\"token attribute attr-name\">#![no_std]</span>\n<span class=\"token attribute attr-name\">#![no_main]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_rt<span class=\"token punctuation\">::</span></span>entry<span class=\"token punctuation\">;</span> <span class=\"token comment\">// The runtime</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">embedded_hal<span class=\"token punctuation\">::</span>digital<span class=\"token punctuation\">::</span>v2<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">OutputPin</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// the `set_high/low`function</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f1xx_hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token namespace\">delay<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Delay</span><span class=\"token punctuation\">,</span> pac<span class=\"token punctuation\">,</span> <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// STM32F1 specific functions</span>\n<span class=\"token attribute attr-name\">#[allow(unused_imports)]</span>\n<span class=\"token keyword\">use</span> panic_halt<span class=\"token punctuation\">;</span> <span class=\"token comment\">// When a panic occurs, stop the microcontroller</span>\n<span class=\"token attribute attr-name\">#[entry]</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">!</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> dp <span class=\"token operator\">=</span> <span class=\"token namespace\">pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span><span class=\"token punctuation\">::</span><span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> cp <span class=\"token operator\">=</span> <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span><span class=\"token punctuation\">::</span><span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOC</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>apb2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> led <span class=\"token operator\">=</span> gpioc<span class=\"token punctuation\">.</span>pc13<span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioc<span class=\"token punctuation\">.</span>crh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> flash <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> clocks <span class=\"token operator\">=</span> rcc<span class=\"token punctuation\">.</span>cfgr<span class=\"token punctuation\">.</span><span class=\"token function\">sysclk</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">.</span><span class=\"token function\">mhz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> flash<span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> delay <span class=\"token operator\">=</span> <span class=\"token class-name\">Delay</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>cp<span class=\"token punctuation\">.</span><span class=\"token constant\">SYST</span><span class=\"token punctuation\">,</span> clocks<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span>\n        led<span class=\"token punctuation\">.</span><span class=\"token function\">set_high</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        delay<span class=\"token punctuation\">.</span><span class=\"token function\">delay_ms</span><span class=\"token punctuation\">(</span><span class=\"token number\">1_000_u16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        led<span class=\"token punctuation\">.</span><span class=\"token function\">set_low</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        delay<span class=\"token punctuation\">.</span><span class=\"token function\">delay_ms</span><span class=\"token punctuation\">(</span><span class=\"token number\">1_000_u16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-none\"><code class=\"language-none\"># \nopenocd -f interface&#x2F;stlink-v2.cfg -f target&#x2F;stm32f1x.cfg\n# jlinkopenocd -f interface&#x2F;jlink.cfg -f target&#x2F;stm32f1x.cfg\n# \nInfo : stm32f1x.cpu: hardware has 6 breakpoints, 4 watchpoints\n\n# gdb\ncargo run\n\n# gdb\ntarget remote :3333\nmoniter reset halt\nload\ncontinue<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> continue</p>\n<p> gdb </p>\n<p><code>runner</code><code>runner = &#39;arm-none-eabi-gdb -q -x debug.gdb&#39;</code><code>debug.gdb</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">target remote :3333\n\nset backtrace limit 32\n\nmonitor reset halt\n\nload<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-rust--stm32-\"><a href=\"#-rust--stm32-\" class=\"headerlink\" title=\" rust  stm32 \"></a> rust  stm32 </h1><p> stm32 </p>\n<p> rust  stm32 linuxgentoo</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> STM32F103C8T6</p>\n<p> STLINK V2 jlink</p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"-rust\"><a href=\"#-rust\" class=\"headerlink\" title=\" rust\"></a> rust</h3><p> beta  nightly </p>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">rustup target add thumbv6m-none-eabi thumbv7m-none-eabi thumbv7em-none-eabi thumbv7em-none-eabihf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"openocd\"><a href=\"#openocd\" class=\"headerlink\" title=\"openocd\"></a>openocd</h3><p></p>\n<p></p>\n<p> openocd <code>/scripts/target/stm32f1x.cfg</code><code>set _CPUTAPID 0x1ba01477</code><code>set _CPUTAPID 0x2ba01477</code></p>\n<h3 id=\"arm-none-eabi-\"><a href=\"#arm-none-eabi-\" class=\"headerlink\" title=\"arm-none-eabi \"></a>arm-none-eabi </h3><p> gentoo  crossdev  gdb  linux </p>\n<p>gdb </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># \n.&#x2F;configure --prefix&#x3D;&quot;$&#123;PREFIX&#125;&quot; --target&#x3D;arm-none-eabi\nmake\nsudo make install<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>cd</code><code>sudo make uninstall</code></p>\n<p>crossdev  arm-none-eabi </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># crossdev\n\n# &#x2F;etc&#x2F;portage&#x2F;make.conf\nPORTDIR_OVERLAY&#x3D;&quot;$&#123;PORTDIR_OVERLAY&#125; &#x2F;usr&#x2F;local&#x2F;portage&quot;\n\n# \nsudo crossdev -s4 -t arm-none-eabi\n# masked by: corruption\n# &#x2F;var&#x2F;db&#x2F;repos&#x2F;localrepo-crossdev&#x2F;metadata&#x2F;layout.conf\nmasters &#x3D; gentoo\nthin-manifests &#x3D; true\n# &#x2F;etc&#x2F;portage&#x2F;repos.conf&#x2F;crossdev.conf\n[crossdev]\nlocation &#x3D; &#x2F;var&#x2F;db&#x2F;repos&#x2F;localrepo-crossdev\npriority &#x3D; 10\nmasters &#x3D; gentoo\nauto-sync &#x3D; no\n\n# gccnewlib&#x2F;etc&#x2F;portage&#x2F;make.conf\n# COMMON_FLAGS&#x3D;&quot;-march&#x3D;native -O2 -pipe&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"stlink\"><a href=\"#stlink\" class=\"headerlink\" title=\"stlink\"></a>stlink</h3><p>stlink </p>\n<h3 id=\"gdbgui\"><a href=\"#gdbgui\" class=\"headerlink\" title=\"gdbgui\"></a>gdbgui</h3><p>gdb gui </p>\n<h2 id=\"blink\"><a href=\"#blink\" class=\"headerlink\" title=\"blink\"></a>blink</h2><p><code>cargo new rusty-blink</code></p>\n<p><code>Cargo.toml</code></p>\n<pre class=\"line-numbers language-toml\" data-language=\"toml\"><code class=\"language-toml\"><span class=\"token punctuation\">[</span><span class=\"token table class-name\">package</span><span class=\"token punctuation\">]</span>\n<span class=\"token key property\">name</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"rusty-blink\"</span>\n<span class=\"token key property\">version</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"0.1.0\"</span>\n<span class=\"token key property\">authors</span> <span class=\"token punctuation\">=</span>\n<span class=\"token key property\">edition</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"2018\"</span>\n\n<span class=\"token comment\"># See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token table class-name\">profile.release</span><span class=\"token punctuation\">]</span>\n<span class=\"token key property\">opt-level</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">'z'</span> <span class=\"token comment\"># turn on maximum optimizations. We only have 64kB</span>\n<span class=\"token key property\">lto</span> <span class=\"token punctuation\">=</span> <span class=\"token boolean\">true</span>      <span class=\"token comment\"># Link-time-optimizations for further size reduction</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token table class-name\">dependencies</span><span class=\"token punctuation\">]</span>\n<span class=\"token key property\">cortex-m</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"^0.6.3\"</span>      <span class=\"token comment\"># Access to the generic ARM peripherals</span>\n<span class=\"token key property\">cortex-m-rt</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"^0.6.12\"</span>  <span class=\"token comment\"># Startup code for the ARM Core</span>\n<span class=\"token key property\">embedded-hal</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"^0.2.4\"</span>  <span class=\"token comment\"># Access to generic embedded functions (`set_high`)</span>\n<span class=\"token key property\">panic-halt</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"^0.2.0\"</span>    <span class=\"token comment\"># Panic handler</span>\n\n<span class=\"token comment\"># Access to the stm32f103 HAL.</span>\n<span class=\"token punctuation\">[</span><span class=\"token table class-name\">dependencies.stm32f1xx-hal</span><span class=\"token punctuation\">]</span>\n<span class=\"token comment\"># Bluepill contains a 64kB flash variant which is called \"medium density\"</span>\n<span class=\"token key property\">features</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"stm32f103\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"rt\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"medium\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token key property\">version</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"^0.6.1\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>mkdir .cargo</code> lld  linker  gccrunner <code>cargo run</code> gdb </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># .cargo&#x2F;config\n[build]\ntarget &#x3D; &quot;thumbv7m-none-eabi&quot;\n\n[target.&#39;cfg(all(target_arch &#x3D; &quot;arm&quot;, target_os &#x3D; &quot;none&quot;))&#39;]\nrunner &#x3D; &#39;gdbgui -g arm-none-eabi-gdb&#39;\n\n[target.thumbv7m-none-eabi]\nrustflags &#x3D; [\n\t&quot;-C&quot;, &quot;linker&#x3D;arm-none-eabi-gcc&quot;,\n\t&quot;-C&quot;, &quot;link-arg&#x3D;-Wl,-Tlink.x&quot;,\n\t&quot;-C&quot;, &quot;link-arg&#x3D;-nostartfiles&quot;,\n]<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>memory.x</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;* memory.x - Linker script for the STM32F103C8T6 *&#x2F;\nMEMORY\n&#123;\n  &#x2F;* Flash memory begins at 0x80000000 and has a size of 64kB*&#x2F;\n  FLASH : ORIGIN &#x3D; 0x08000000, LENGTH &#x3D; 64K\n  &#x2F;* RAM begins at 0x20000000 and has a size of 20kB*&#x2F;\n  RAM : ORIGIN &#x3D; 0x20000000, LENGTH &#x3D; 20K\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> 64K  20K</p>\n<p> src <code>main.rs</code></p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token comment\">// src/main.rs</span>\n\n<span class=\"token attribute attr-name\">#![no_std]</span>\n<span class=\"token attribute attr-name\">#![no_main]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_rt<span class=\"token punctuation\">::</span></span>entry<span class=\"token punctuation\">;</span> <span class=\"token comment\">// The runtime</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">embedded_hal<span class=\"token punctuation\">::</span>digital<span class=\"token punctuation\">::</span>v2<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">OutputPin</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// the `set_high/low`function</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f1xx_hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token namespace\">delay<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Delay</span><span class=\"token punctuation\">,</span> pac<span class=\"token punctuation\">,</span> <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// STM32F1 specific functions</span>\n<span class=\"token attribute attr-name\">#[allow(unused_imports)]</span>\n<span class=\"token keyword\">use</span> panic_halt<span class=\"token punctuation\">;</span> <span class=\"token comment\">// When a panic occurs, stop the microcontroller</span>\n<span class=\"token attribute attr-name\">#[entry]</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">!</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> dp <span class=\"token operator\">=</span> <span class=\"token namespace\">pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span><span class=\"token punctuation\">::</span><span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> cp <span class=\"token operator\">=</span> <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span><span class=\"token punctuation\">::</span><span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOC</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>apb2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> led <span class=\"token operator\">=</span> gpioc<span class=\"token punctuation\">.</span>pc13<span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioc<span class=\"token punctuation\">.</span>crh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> flash <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> clocks <span class=\"token operator\">=</span> rcc<span class=\"token punctuation\">.</span>cfgr<span class=\"token punctuation\">.</span><span class=\"token function\">sysclk</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">.</span><span class=\"token function\">mhz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> flash<span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> delay <span class=\"token operator\">=</span> <span class=\"token class-name\">Delay</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>cp<span class=\"token punctuation\">.</span><span class=\"token constant\">SYST</span><span class=\"token punctuation\">,</span> clocks<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span>\n        led<span class=\"token punctuation\">.</span><span class=\"token function\">set_high</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        delay<span class=\"token punctuation\">.</span><span class=\"token function\">delay_ms</span><span class=\"token punctuation\">(</span><span class=\"token number\">1_000_u16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        led<span class=\"token punctuation\">.</span><span class=\"token function\">set_low</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        delay<span class=\"token punctuation\">.</span><span class=\"token function\">delay_ms</span><span class=\"token punctuation\">(</span><span class=\"token number\">1_000_u16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-none\"><code class=\"language-none\"># \nopenocd -f interface&#x2F;stlink-v2.cfg -f target&#x2F;stm32f1x.cfg\n# jlinkopenocd -f interface&#x2F;jlink.cfg -f target&#x2F;stm32f1x.cfg\n# \nInfo : stm32f1x.cpu: hardware has 6 breakpoints, 4 watchpoints\n\n# gdb\ncargo run\n\n# gdb\ntarget remote :3333\nmoniter reset halt\nload\ncontinue<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> continue</p>\n<p> gdb </p>\n<p><code>runner</code><code>runner = &#39;arm-none-eabi-gdb -q -x debug.gdb&#39;</code><code>debug.gdb</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">target remote :3333\n\nset backtrace limit 32\n\nmonitor reset halt\n\nload<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Develop Stm32 with Rust Preface","date":"2021-06-19T14:01:37.000Z","_content":"\n#  rust  stm32 \n\n stm32 \n\n rust  stm32 \n\n## Why Rust\n\n1. Rust  C \n2. ST  C  MX  snippets \n3. \n4. \n\n## \n\n1. \n2.  stm32 \n3. `stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n4.  rust [Embedded Book](https://docs.rust-embedded.org/book/)\n5.  crate `crates.io``Cargo.toml``git``version``can` feature \n\n## \n\n### \n\n`stm32f3discovery``stm32f4discovery``f7``tock os` rust  RTOS\n\n JTAG  ARM ST-LINK \n\n### \n\n linux\n\nvimer  vim vscodeIDE \n\n openocd \n\n gdb \n\n### \n\n1. stm32 \n2. [Rust ](https://users.rust-lang.org/)\n3. [Tock os](https://www.tockos.org/) RTOS\n4. [Discovery Book](https://docs.rust-embedded.org/discovery/index.html)for stm32f3discovery\n5. [Embedded Book](https://docs.rust-embedded.org/book/)\n6. stm32fxxx-hal\n7. stm32fx\n8. [RTIC](https://rtic.rs/0.5/book/en/) RTOS \n9. [stm32-rs](https://github.com/stm32-rs/stm32-rs)\n","source":"_posts/develop-stm32-with-rust-preface.md","raw":"---\ntitle: Develop Stm32 with Rust Preface\ndate: 2021-06-19 22:01:37\ntags:\n  - Rust\n  - Stm32\ncategories:\n  - [Embedded]\n  - [Rust]\n  - [Stm32]\n---\n\n#  rust  stm32 \n\n stm32 \n\n rust  stm32 \n\n## Why Rust\n\n1. Rust  C \n2. ST  C  MX  snippets \n3. \n4. \n\n## \n\n1. \n2.  stm32 \n3. `stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n4.  rust [Embedded Book](https://docs.rust-embedded.org/book/)\n5.  crate `crates.io``Cargo.toml``git``version``can` feature \n\n## \n\n### \n\n`stm32f3discovery``stm32f4discovery``f7``tock os` rust  RTOS\n\n JTAG  ARM ST-LINK \n\n### \n\n linux\n\nvimer  vim vscodeIDE \n\n openocd \n\n gdb \n\n### \n\n1. stm32 \n2. [Rust ](https://users.rust-lang.org/)\n3. [Tock os](https://www.tockos.org/) RTOS\n4. [Discovery Book](https://docs.rust-embedded.org/discovery/index.html)for stm32f3discovery\n5. [Embedded Book](https://docs.rust-embedded.org/book/)\n6. stm32fxxx-hal\n7. stm32fx\n8. [RTIC](https://rtic.rs/0.5/book/en/) RTOS \n9. [stm32-rs](https://github.com/stm32-rs/stm32-rs)\n","slug":"develop-stm32-with-rust-preface","published":1,"updated":"2021-06-19T15:17:17.248Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9c4000xdbizgkmt33v2","content":"<h1 id=\"-rust--stm32-\"><a href=\"#-rust--stm32-\" class=\"headerlink\" title=\" rust  stm32 \"></a> rust  stm32 </h1><p> stm32 </p>\n<p> rust  stm32 </p>\n<h2 id=\"Why-Rust\"><a href=\"#Why-Rust\" class=\"headerlink\" title=\"Why Rust\"></a>Why Rust</h2><ol>\n<li>Rust  C </li>\n<li>ST  C  MX  snippets </li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li></li>\n<li> stm32 </li>\n<li><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </li>\n<li> rust <a href=\"https://docs.rust-embedded.org/book/\">Embedded Book</a></li>\n<li> crate <code>crates.io</code><code>Cargo.toml</code><code>git</code><code>version</code><code>can</code> feature </li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>stm32f3discovery</code><code>stm32f4discovery</code><code>f7</code><code>tock os</code> rust  RTOS</p>\n<p> JTAG  ARM ST-LINK </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> linux</p>\n<p>vimer  vim vscodeIDE </p>\n<p> openocd </p>\n<p> gdb </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>stm32 </li>\n<li><a href=\"https://users.rust-lang.org/\">Rust </a></li>\n<li><a href=\"https://www.tockos.org/\">Tock os</a> RTOS</li>\n<li><a href=\"https://docs.rust-embedded.org/discovery/index.html\">Discovery Book</a>for stm32f3discovery</li>\n<li><a href=\"https://docs.rust-embedded.org/book/\">Embedded Book</a></li>\n<li>stm32fxxx-hal</li>\n<li>stm32fx</li>\n<li><a href=\"https://rtic.rs/0.5/book/en/\">RTIC</a> RTOS </li>\n<li><a href=\"https://github.com/stm32-rs/stm32-rs\">stm32-rs</a></li>\n</ol>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-rust--stm32-\"><a href=\"#-rust--stm32-\" class=\"headerlink\" title=\" rust  stm32 \"></a> rust  stm32 </h1><p> stm32 </p>\n<p> rust  stm32 </p>\n<h2 id=\"Why-Rust\"><a href=\"#Why-Rust\" class=\"headerlink\" title=\"Why Rust\"></a>Why Rust</h2><ol>\n<li>Rust  C </li>\n<li>ST  C  MX  snippets </li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li></li>\n<li> stm32 </li>\n<li><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </li>\n<li> rust <a href=\"https://docs.rust-embedded.org/book/\">Embedded Book</a></li>\n<li> crate <code>crates.io</code><code>Cargo.toml</code><code>git</code><code>version</code><code>can</code> feature </li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>stm32f3discovery</code><code>stm32f4discovery</code><code>f7</code><code>tock os</code> rust  RTOS</p>\n<p> JTAG  ARM ST-LINK </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> linux</p>\n<p>vimer  vim vscodeIDE </p>\n<p> openocd </p>\n<p> gdb </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>stm32 </li>\n<li><a href=\"https://users.rust-lang.org/\">Rust </a></li>\n<li><a href=\"https://www.tockos.org/\">Tock os</a> RTOS</li>\n<li><a href=\"https://docs.rust-embedded.org/discovery/index.html\">Discovery Book</a>for stm32f3discovery</li>\n<li><a href=\"https://docs.rust-embedded.org/book/\">Embedded Book</a></li>\n<li>stm32fxxx-hal</li>\n<li>stm32fx</li>\n<li><a href=\"https://rtic.rs/0.5/book/en/\">RTIC</a> RTOS </li>\n<li><a href=\"https://github.com/stm32-rs/stm32-rs\">stm32-rs</a></li>\n</ol>\n"},{"title":"Develop Stm32 with Rust stm32f103-adc-with-dma","date":"2021-06-19T14:06:11.000Z","_content":"\n#  rust  stm32 stm32f103-adc-with-dma\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\n```rust\n#![no_main]\n#![no_std]\n\nuse panic_semihosting as _;\n\nuse cortex_m::singleton;\nuse cortex_m_semihosting::hprintln;\n\nuse cortex_m_rt::entry;\nuse stm32f1xx_hal::{adc, pac, prelude::*};\n\n#[entry]\nfn main() -> ! {\n    let dp = pac::Peripherals::take().unwrap();\n    let mut flash = dp.FLASH.constrain();\n    let mut rcc = dp.RCC.constrain();\n    let clocks = rcc.cfgr.adcclk(2.mhz()).freeze(&mut flash.acr);\n\n    let dma_ch1 = dp.DMA1.split(&mut rcc.ahb).1;\n\n    let adc1 = adc::Adc::adc1(dp.ADC1, &mut rcc.apb2, clocks);\n\n    let mut gpioa = dp.GPIOA.split(&mut rcc.apb2);\n\n    let adc_ch0 = gpioa.pa0.into_analog(&mut gpioa.crl);\n\n    let adc_dma = adc1.with_dma(adc_ch0, dma_ch1);\n\n    // This can only be excuted once.\n    let buf = singleton!(: [u16; 8] = [0; 8]).unwrap();\n\n    // adc_dma and buf are moved here.\n    let (buf, adc_dma) = adc_dma.read(buf).wait();\n\n    // Consumes the AdcDma struct, restores adc configuration to previous state and\n    // returns the Adc struct in normal mode. adc_dma is moved here.\n    let (_adc1, _adc_ch0, _dma_ch1) = adc_dma.split();\n\n    let mut voltage = 0.0;\n\n    for i in 0..8 {\n        voltage += buf[i] as f32;\n    }\n\n    // 12-bit ADC\n    voltage = voltage / 8.0 / 4096.0 * 3.3;\n\n    hprintln!(\"voltage = {}\", voltage).unwrap();\n\n    loop {}\n}\n```\n","source":"_posts/develop-stm32-with-rust-stm32f103-adc-with-dma.md","raw":"---\ntitle: Develop Stm32 with Rust stm32f103-adc-with-dma\ndate: 2021-06-19 22:06:11\ntags:\n  - Rust\n  - Stm32\ncategories:\n  - [Embedded]\n  - [Rust]\n  - [Stm32]\n---\n\n#  rust  stm32 stm32f103-adc-with-dma\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\n```rust\n#![no_main]\n#![no_std]\n\nuse panic_semihosting as _;\n\nuse cortex_m::singleton;\nuse cortex_m_semihosting::hprintln;\n\nuse cortex_m_rt::entry;\nuse stm32f1xx_hal::{adc, pac, prelude::*};\n\n#[entry]\nfn main() -> ! {\n    let dp = pac::Peripherals::take().unwrap();\n    let mut flash = dp.FLASH.constrain();\n    let mut rcc = dp.RCC.constrain();\n    let clocks = rcc.cfgr.adcclk(2.mhz()).freeze(&mut flash.acr);\n\n    let dma_ch1 = dp.DMA1.split(&mut rcc.ahb).1;\n\n    let adc1 = adc::Adc::adc1(dp.ADC1, &mut rcc.apb2, clocks);\n\n    let mut gpioa = dp.GPIOA.split(&mut rcc.apb2);\n\n    let adc_ch0 = gpioa.pa0.into_analog(&mut gpioa.crl);\n\n    let adc_dma = adc1.with_dma(adc_ch0, dma_ch1);\n\n    // This can only be excuted once.\n    let buf = singleton!(: [u16; 8] = [0; 8]).unwrap();\n\n    // adc_dma and buf are moved here.\n    let (buf, adc_dma) = adc_dma.read(buf).wait();\n\n    // Consumes the AdcDma struct, restores adc configuration to previous state and\n    // returns the Adc struct in normal mode. adc_dma is moved here.\n    let (_adc1, _adc_ch0, _dma_ch1) = adc_dma.split();\n\n    let mut voltage = 0.0;\n\n    for i in 0..8 {\n        voltage += buf[i] as f32;\n    }\n\n    // 12-bit ADC\n    voltage = voltage / 8.0 / 4096.0 * 3.3;\n\n    hprintln!(\"voltage = {}\", voltage).unwrap();\n\n    loop {}\n}\n```\n","slug":"develop-stm32-with-rust-stm32f103-adc-with-dma","published":1,"updated":"2021-06-19T15:17:23.821Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9c60010dbiz120zcp66","content":"<h1 id=\"-rust--stm32-stm32f103-adc-with-dma\"><a href=\"#-rust--stm32-stm32f103-adc-with-dma\" class=\"headerlink\" title=\" rust  stm32 stm32f103-adc-with-dma\"></a> rust  stm32 stm32f103-adc-with-dma</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span></span>singleton<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_semihosting<span class=\"token punctuation\">::</span></span>hprintln<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_rt<span class=\"token punctuation\">::</span></span>entry<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f1xx_hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>adc<span class=\"token punctuation\">,</span> pac<span class=\"token punctuation\">,</span> <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[entry]</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">!</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> dp <span class=\"token operator\">=</span> <span class=\"token namespace\">pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span><span class=\"token punctuation\">::</span><span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> flash <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> clocks <span class=\"token operator\">=</span> rcc<span class=\"token punctuation\">.</span>cfgr<span class=\"token punctuation\">.</span><span class=\"token function\">adcclk</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">.</span><span class=\"token function\">mhz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> flash<span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> dma_ch1 <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">DMA1</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> adc1 <span class=\"token operator\">=</span> <span class=\"token namespace\">adc<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Adc</span><span class=\"token punctuation\">::</span><span class=\"token function\">adc1</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">ADC1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>apb2<span class=\"token punctuation\">,</span> clocks<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioa <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOA</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>apb2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> adc_ch0 <span class=\"token operator\">=</span> gpioa<span class=\"token punctuation\">.</span>pa0<span class=\"token punctuation\">.</span><span class=\"token function\">into_analog</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>crl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> adc_dma <span class=\"token operator\">=</span> adc1<span class=\"token punctuation\">.</span><span class=\"token function\">with_dma</span><span class=\"token punctuation\">(</span>adc_ch0<span class=\"token punctuation\">,</span> dma_ch1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// This can only be excuted once.</span>\n    <span class=\"token keyword\">let</span> buf <span class=\"token operator\">=</span> <span class=\"token macro property\">singleton!</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">u16</span><span class=\"token punctuation\">;</span> <span class=\"token number\">8</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// adc_dma and buf are moved here.</span>\n    <span class=\"token keyword\">let</span> <span class=\"token punctuation\">(</span>buf<span class=\"token punctuation\">,</span> adc_dma<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> adc_dma<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span>buf<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">wait</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Consumes the AdcDma struct, restores adc configuration to previous state and</span>\n    <span class=\"token comment\">// returns the Adc struct in normal mode. adc_dma is moved here.</span>\n    <span class=\"token keyword\">let</span> <span class=\"token punctuation\">(</span>_adc1<span class=\"token punctuation\">,</span> _adc_ch0<span class=\"token punctuation\">,</span> _dma_ch1<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> adc_dma<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> voltage <span class=\"token operator\">=</span> <span class=\"token number\">0.0</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token number\">0</span><span class=\"token punctuation\">..</span><span class=\"token number\">8</span> <span class=\"token punctuation\">&#123;</span>\n        voltage <span class=\"token operator\">+=</span> buf<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">f32</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token comment\">// 12-bit ADC</span>\n    voltage <span class=\"token operator\">=</span> voltage <span class=\"token operator\">/</span> <span class=\"token number\">8.0</span> <span class=\"token operator\">/</span> <span class=\"token number\">4096.0</span> <span class=\"token operator\">*</span> <span class=\"token number\">3.3</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"voltage = &#123;&#125;\"</span><span class=\"token punctuation\">,</span> voltage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-rust--stm32-stm32f103-adc-with-dma\"><a href=\"#-rust--stm32-stm32f103-adc-with-dma\" class=\"headerlink\" title=\" rust  stm32 stm32f103-adc-with-dma\"></a> rust  stm32 stm32f103-adc-with-dma</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span></span>singleton<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_semihosting<span class=\"token punctuation\">::</span></span>hprintln<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_rt<span class=\"token punctuation\">::</span></span>entry<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f1xx_hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>adc<span class=\"token punctuation\">,</span> pac<span class=\"token punctuation\">,</span> <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[entry]</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">!</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> dp <span class=\"token operator\">=</span> <span class=\"token namespace\">pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span><span class=\"token punctuation\">::</span><span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> flash <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> clocks <span class=\"token operator\">=</span> rcc<span class=\"token punctuation\">.</span>cfgr<span class=\"token punctuation\">.</span><span class=\"token function\">adcclk</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">.</span><span class=\"token function\">mhz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> flash<span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> dma_ch1 <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">DMA1</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> adc1 <span class=\"token operator\">=</span> <span class=\"token namespace\">adc<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Adc</span><span class=\"token punctuation\">::</span><span class=\"token function\">adc1</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">ADC1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>apb2<span class=\"token punctuation\">,</span> clocks<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioa <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOA</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>apb2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> adc_ch0 <span class=\"token operator\">=</span> gpioa<span class=\"token punctuation\">.</span>pa0<span class=\"token punctuation\">.</span><span class=\"token function\">into_analog</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>crl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> adc_dma <span class=\"token operator\">=</span> adc1<span class=\"token punctuation\">.</span><span class=\"token function\">with_dma</span><span class=\"token punctuation\">(</span>adc_ch0<span class=\"token punctuation\">,</span> dma_ch1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// This can only be excuted once.</span>\n    <span class=\"token keyword\">let</span> buf <span class=\"token operator\">=</span> <span class=\"token macro property\">singleton!</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">u16</span><span class=\"token punctuation\">;</span> <span class=\"token number\">8</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// adc_dma and buf are moved here.</span>\n    <span class=\"token keyword\">let</span> <span class=\"token punctuation\">(</span>buf<span class=\"token punctuation\">,</span> adc_dma<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> adc_dma<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span>buf<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">wait</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Consumes the AdcDma struct, restores adc configuration to previous state and</span>\n    <span class=\"token comment\">// returns the Adc struct in normal mode. adc_dma is moved here.</span>\n    <span class=\"token keyword\">let</span> <span class=\"token punctuation\">(</span>_adc1<span class=\"token punctuation\">,</span> _adc_ch0<span class=\"token punctuation\">,</span> _dma_ch1<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> adc_dma<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> voltage <span class=\"token operator\">=</span> <span class=\"token number\">0.0</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token number\">0</span><span class=\"token punctuation\">..</span><span class=\"token number\">8</span> <span class=\"token punctuation\">&#123;</span>\n        voltage <span class=\"token operator\">+=</span> buf<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">f32</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token comment\">// 12-bit ADC</span>\n    voltage <span class=\"token operator\">=</span> voltage <span class=\"token operator\">/</span> <span class=\"token number\">8.0</span> <span class=\"token operator\">/</span> <span class=\"token number\">4096.0</span> <span class=\"token operator\">*</span> <span class=\"token number\">3.3</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"voltage = &#123;&#125;\"</span><span class=\"token punctuation\">,</span> voltage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Develop Stm32 with Rust stm32f303-horse-race-lamp-with-timer-in-interrupt-mode","date":"2021-06-19T14:21:40.000Z","_content":"\n#  rust  stm32 stm32f303-horse-race-lamp-with-timer-in-interrupt-mode\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\n```rust\n#![no_main]\n#![no_std]\n\nuse cortex_m_rt::entry;\nuse panic_halt as _;\nuse stm32f3::stm32f303;\nuse stm32f303::{interrupt, Interrupt, NVIC};\n\n// since peripherals is in singleton mode, we need to use static variables\n// to share peripheral register structs with interrupt handles.\nstatic mut TIMER: Option<stm32f303::TIM7> = None;\nstatic mut GPIOE: Option<stm32f303::GPIOE> = None;\nstatic mut INDEX: u8 = 0;\n\nunsafe fn get_gpioe() -> &'static mut stm32f303::GPIOE {\n    if let Some(ref mut gpioe) = GPIOE {\n        &mut *gpioe\n    } else {\n        panic!()\n    }\n}\n\nunsafe fn get_timer() -> &'static mut stm32f303::TIM7 {\n    if let Some(ref mut timer) = TIMER {\n        &mut *timer\n    } else {\n        panic!()\n    }\n}\n\n#[entry]\nfn main() -> ! {\n    let dp = stm32f303::Peripherals::take().unwrap();\n    let rcc = &dp.RCC;\n\n    // enable TIM7 interrupt\n    unsafe {\n        NVIC::unmask(Interrupt::TIM7);\n    }\n\n    // init LED\n    rcc.ahbenr.modify(|_, w| w.iopeen().set_bit());\n    // we will assign gpioe and tim7 to the static variables later\n    // so these variables need to be freed before the assign operation\n    {\n        let gpioe = &dp.GPIOE;\n        gpioe.moder.modify(|_, w| {\n            w.moder8()\n                .output()\n                .moder9()\n                .output()\n                .moder10()\n                .output()\n                .moder11()\n                .output()\n                .moder12()\n                .output()\n                .moder13()\n                .output()\n                .moder14()\n                .output()\n                .moder15()\n                .output()\n        });\n    }\n\n    // init TIM7 timer\n    {\n        let tim7 = &dp.TIM7;\n        rcc.apb1enr.modify(|_, w| w.tim7en().set_bit());\n        tim7.cr1.modify(|_, w| w.cen().clear_bit());\n        tim7.psc.write(|w| w.psc().bits(7_999));\n        tim7.arr.write(|w| w.arr().bits(50));\n\n        tim7.dier.modify(|_, w| w.uie().set_bit());\n        // enable the counter\n        tim7.cr1.modify(|_, w| w.cen().set_bit());\n    }\n\n    // set the value of static TIMER and GPIOE\n    unsafe {\n        GPIOE = Some(dp.GPIOE);\n        TIMER = Some(dp.TIM7);\n    }\n    loop {}\n}\n\n#[interrupt]\nfn TIM7() {\n    let tim7 = unsafe { get_timer() };\n    // clear the update interrupt flag of TIM7\n    tim7.sr.modify(|_, w| w.uif().clear_bit());\n\n    let gpioe = unsafe { get_gpioe() };\n    unsafe {\n        if INDEX == 0 {\n            gpioe.odr.modify(|_, w| w.odr9().set_bit());\n            gpioe.odr.modify(|_, w| w.odr8().clear_bit());\n        } else if INDEX == 1 {\n            gpioe.odr.modify(|_, w| w.odr10().set_bit());\n            gpioe.odr.modify(|_, w| w.odr9().clear_bit());\n        } else if INDEX == 2 {\n            gpioe.odr.modify(|_, w| w.odr11().set_bit());\n            gpioe.odr.modify(|_, w| w.odr10().clear_bit());\n        } else if INDEX == 3 {\n            gpioe.odr.modify(|_, w| w.odr12().set_bit());\n            gpioe.odr.modify(|_, w| w.odr11().clear_bit());\n        } else if INDEX == 4 {\n            gpioe.odr.modify(|_, w| w.odr13().set_bit());\n            gpioe.odr.modify(|_, w| w.odr12().clear_bit());\n        } else if INDEX == 5 {\n            gpioe.odr.modify(|_, w| w.odr14().set_bit());\n            gpioe.odr.modify(|_, w| w.odr13().clear_bit());\n        } else if INDEX == 6 {\n            gpioe.odr.modify(|_, w| w.odr15().set_bit());\n            gpioe.odr.modify(|_, w| w.odr14().clear_bit());\n        } else if INDEX == 7 {\n            gpioe.odr.modify(|_, w| w.odr8().set_bit());\n            gpioe.odr.modify(|_, w| w.odr15().clear_bit());\n        }\n        INDEX = if INDEX == 7 { 0 } else { INDEX + 1 };\n    }\n}\n```\n\nYou can also use the code below. In this example, we define `Peripherals` as a static variable.\n\n```rust\n#![no_main]\n#![no_std]\n\nuse cortex_m_rt::entry;\nuse panic_halt as _;\nuse stm32f3::stm32f303;\nuse stm32f303::{interrupt, Interrupt, NVIC};\n\nstatic mut PERIPHERALS: Option<stm32f303::Peripherals> = None;\nstatic mut INDEX: u8 = 0;\n\nunsafe fn get_peripheral() -> &'static mut stm32f303::Peripherals {\n    if let Some(ref mut peripheral) = PERIPHERALS {\n        &mut *peripheral\n    } else {\n        panic!()\n    }\n}\n\n#[entry]\nfn main() -> ! {\n    unsafe {\n        let dp = stm32f303::Peripherals::take().unwrap();\n        PERIPHERALS = Some(dp);\n    }\n\n    let dp = unsafe { get_peripheral() };\n\n    let rcc = &dp.RCC;\n\n    // enable TIM7 interrupt\n    unsafe {\n        NVIC::unmask(Interrupt::TIM7);\n    }\n\n    // init LED\n    rcc.ahbenr.modify(|_, w| w.iopeen().set_bit());\n    let gpioe = &dp.GPIOE;\n    gpioe.moder.modify(|_, w| {\n        w.moder8()\n            .output()\n            .moder9()\n            .output()\n            .moder10()\n            .output()\n            .moder11()\n            .output()\n            .moder12()\n            .output()\n            .moder13()\n            .output()\n            .moder14()\n            .output()\n            .moder15()\n            .output()\n    });\n\n    // init TIM7 timer\n    let tim7 = &dp.TIM7;\n    rcc.apb1enr.modify(|_, w| w.tim7en().set_bit());\n    tim7.cr1.modify(|_, w| w.cen().clear_bit());\n    tim7.psc.write(|w| w.psc().bits(7_999));\n    tim7.arr.write(|w| w.arr().bits(50));\n\n    tim7.dier.modify(|_, w| w.uie().set_bit());\n    // enable the counter\n    tim7.cr1.modify(|_, w| w.cen().set_bit());\n    loop {}\n}\n\n#[interrupt]\nfn TIM7() {\n    let dp = unsafe { get_peripheral() };\n    let tim7 = &dp.TIM7;\n    // clear the update interrupt flag of TIM7\n    tim7.sr.modify(|_, w| w.uif().clear_bit());\n\n    let gpioe = &dp.GPIOE;\n    unsafe {\n        if INDEX == 0 {\n            gpioe.odr.modify(|_, w| w.odr9().set_bit());\n            gpioe.odr.modify(|_, w| w.odr8().clear_bit());\n        } else if INDEX == 1 {\n            gpioe.odr.modify(|_, w| w.odr10().set_bit());\n            gpioe.odr.modify(|_, w| w.odr9().clear_bit());\n        } else if INDEX == 2 {\n            gpioe.odr.modify(|_, w| w.odr11().set_bit());\n            gpioe.odr.modify(|_, w| w.odr10().clear_bit());\n        } else if INDEX == 3 {\n            gpioe.odr.modify(|_, w| w.odr12().set_bit());\n            gpioe.odr.modify(|_, w| w.odr11().clear_bit());\n        } else if INDEX == 4 {\n            gpioe.odr.modify(|_, w| w.odr13().set_bit());\n            gpioe.odr.modify(|_, w| w.odr12().clear_bit());\n        } else if INDEX == 5 {\n            gpioe.odr.modify(|_, w| w.odr14().set_bit());\n            gpioe.odr.modify(|_, w| w.odr13().clear_bit());\n        } else if INDEX == 6 {\n            gpioe.odr.modify(|_, w| w.odr15().set_bit());\n            gpioe.odr.modify(|_, w| w.odr14().clear_bit());\n        } else if INDEX == 7 {\n            gpioe.odr.modify(|_, w| w.odr8().set_bit());\n            gpioe.odr.modify(|_, w| w.odr15().clear_bit());\n        }\n        INDEX = if INDEX == 7 { 0 } else { INDEX + 1 };\n    }\n}\n```\n\nThe `get_xxx` function used in previous examples is dangerous, you can wrap them in a `cortex_m::interrupt::Mutex` to make it safer. But I suggest you use RTIC instead in the following examples.\n","source":"_posts/develop-stm32-with-rust-stm32f303-horse-race-lamp-with-timer-in-interrupt-mode.md","raw":"---\ntitle: Develop Stm32 with Rust stm32f303-horse-race-lamp-with-timer-in-interrupt-mode\ndate: 2021-06-19 22:21:40\ntags:\n  - Rust\n  - Stm32\ncategories:\n  - [Embedded]\n  - [Rust]\n  - [Stm32]\n---\n\n#  rust  stm32 stm32f303-horse-race-lamp-with-timer-in-interrupt-mode\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\n```rust\n#![no_main]\n#![no_std]\n\nuse cortex_m_rt::entry;\nuse panic_halt as _;\nuse stm32f3::stm32f303;\nuse stm32f303::{interrupt, Interrupt, NVIC};\n\n// since peripherals is in singleton mode, we need to use static variables\n// to share peripheral register structs with interrupt handles.\nstatic mut TIMER: Option<stm32f303::TIM7> = None;\nstatic mut GPIOE: Option<stm32f303::GPIOE> = None;\nstatic mut INDEX: u8 = 0;\n\nunsafe fn get_gpioe() -> &'static mut stm32f303::GPIOE {\n    if let Some(ref mut gpioe) = GPIOE {\n        &mut *gpioe\n    } else {\n        panic!()\n    }\n}\n\nunsafe fn get_timer() -> &'static mut stm32f303::TIM7 {\n    if let Some(ref mut timer) = TIMER {\n        &mut *timer\n    } else {\n        panic!()\n    }\n}\n\n#[entry]\nfn main() -> ! {\n    let dp = stm32f303::Peripherals::take().unwrap();\n    let rcc = &dp.RCC;\n\n    // enable TIM7 interrupt\n    unsafe {\n        NVIC::unmask(Interrupt::TIM7);\n    }\n\n    // init LED\n    rcc.ahbenr.modify(|_, w| w.iopeen().set_bit());\n    // we will assign gpioe and tim7 to the static variables later\n    // so these variables need to be freed before the assign operation\n    {\n        let gpioe = &dp.GPIOE;\n        gpioe.moder.modify(|_, w| {\n            w.moder8()\n                .output()\n                .moder9()\n                .output()\n                .moder10()\n                .output()\n                .moder11()\n                .output()\n                .moder12()\n                .output()\n                .moder13()\n                .output()\n                .moder14()\n                .output()\n                .moder15()\n                .output()\n        });\n    }\n\n    // init TIM7 timer\n    {\n        let tim7 = &dp.TIM7;\n        rcc.apb1enr.modify(|_, w| w.tim7en().set_bit());\n        tim7.cr1.modify(|_, w| w.cen().clear_bit());\n        tim7.psc.write(|w| w.psc().bits(7_999));\n        tim7.arr.write(|w| w.arr().bits(50));\n\n        tim7.dier.modify(|_, w| w.uie().set_bit());\n        // enable the counter\n        tim7.cr1.modify(|_, w| w.cen().set_bit());\n    }\n\n    // set the value of static TIMER and GPIOE\n    unsafe {\n        GPIOE = Some(dp.GPIOE);\n        TIMER = Some(dp.TIM7);\n    }\n    loop {}\n}\n\n#[interrupt]\nfn TIM7() {\n    let tim7 = unsafe { get_timer() };\n    // clear the update interrupt flag of TIM7\n    tim7.sr.modify(|_, w| w.uif().clear_bit());\n\n    let gpioe = unsafe { get_gpioe() };\n    unsafe {\n        if INDEX == 0 {\n            gpioe.odr.modify(|_, w| w.odr9().set_bit());\n            gpioe.odr.modify(|_, w| w.odr8().clear_bit());\n        } else if INDEX == 1 {\n            gpioe.odr.modify(|_, w| w.odr10().set_bit());\n            gpioe.odr.modify(|_, w| w.odr9().clear_bit());\n        } else if INDEX == 2 {\n            gpioe.odr.modify(|_, w| w.odr11().set_bit());\n            gpioe.odr.modify(|_, w| w.odr10().clear_bit());\n        } else if INDEX == 3 {\n            gpioe.odr.modify(|_, w| w.odr12().set_bit());\n            gpioe.odr.modify(|_, w| w.odr11().clear_bit());\n        } else if INDEX == 4 {\n            gpioe.odr.modify(|_, w| w.odr13().set_bit());\n            gpioe.odr.modify(|_, w| w.odr12().clear_bit());\n        } else if INDEX == 5 {\n            gpioe.odr.modify(|_, w| w.odr14().set_bit());\n            gpioe.odr.modify(|_, w| w.odr13().clear_bit());\n        } else if INDEX == 6 {\n            gpioe.odr.modify(|_, w| w.odr15().set_bit());\n            gpioe.odr.modify(|_, w| w.odr14().clear_bit());\n        } else if INDEX == 7 {\n            gpioe.odr.modify(|_, w| w.odr8().set_bit());\n            gpioe.odr.modify(|_, w| w.odr15().clear_bit());\n        }\n        INDEX = if INDEX == 7 { 0 } else { INDEX + 1 };\n    }\n}\n```\n\nYou can also use the code below. In this example, we define `Peripherals` as a static variable.\n\n```rust\n#![no_main]\n#![no_std]\n\nuse cortex_m_rt::entry;\nuse panic_halt as _;\nuse stm32f3::stm32f303;\nuse stm32f303::{interrupt, Interrupt, NVIC};\n\nstatic mut PERIPHERALS: Option<stm32f303::Peripherals> = None;\nstatic mut INDEX: u8 = 0;\n\nunsafe fn get_peripheral() -> &'static mut stm32f303::Peripherals {\n    if let Some(ref mut peripheral) = PERIPHERALS {\n        &mut *peripheral\n    } else {\n        panic!()\n    }\n}\n\n#[entry]\nfn main() -> ! {\n    unsafe {\n        let dp = stm32f303::Peripherals::take().unwrap();\n        PERIPHERALS = Some(dp);\n    }\n\n    let dp = unsafe { get_peripheral() };\n\n    let rcc = &dp.RCC;\n\n    // enable TIM7 interrupt\n    unsafe {\n        NVIC::unmask(Interrupt::TIM7);\n    }\n\n    // init LED\n    rcc.ahbenr.modify(|_, w| w.iopeen().set_bit());\n    let gpioe = &dp.GPIOE;\n    gpioe.moder.modify(|_, w| {\n        w.moder8()\n            .output()\n            .moder9()\n            .output()\n            .moder10()\n            .output()\n            .moder11()\n            .output()\n            .moder12()\n            .output()\n            .moder13()\n            .output()\n            .moder14()\n            .output()\n            .moder15()\n            .output()\n    });\n\n    // init TIM7 timer\n    let tim7 = &dp.TIM7;\n    rcc.apb1enr.modify(|_, w| w.tim7en().set_bit());\n    tim7.cr1.modify(|_, w| w.cen().clear_bit());\n    tim7.psc.write(|w| w.psc().bits(7_999));\n    tim7.arr.write(|w| w.arr().bits(50));\n\n    tim7.dier.modify(|_, w| w.uie().set_bit());\n    // enable the counter\n    tim7.cr1.modify(|_, w| w.cen().set_bit());\n    loop {}\n}\n\n#[interrupt]\nfn TIM7() {\n    let dp = unsafe { get_peripheral() };\n    let tim7 = &dp.TIM7;\n    // clear the update interrupt flag of TIM7\n    tim7.sr.modify(|_, w| w.uif().clear_bit());\n\n    let gpioe = &dp.GPIOE;\n    unsafe {\n        if INDEX == 0 {\n            gpioe.odr.modify(|_, w| w.odr9().set_bit());\n            gpioe.odr.modify(|_, w| w.odr8().clear_bit());\n        } else if INDEX == 1 {\n            gpioe.odr.modify(|_, w| w.odr10().set_bit());\n            gpioe.odr.modify(|_, w| w.odr9().clear_bit());\n        } else if INDEX == 2 {\n            gpioe.odr.modify(|_, w| w.odr11().set_bit());\n            gpioe.odr.modify(|_, w| w.odr10().clear_bit());\n        } else if INDEX == 3 {\n            gpioe.odr.modify(|_, w| w.odr12().set_bit());\n            gpioe.odr.modify(|_, w| w.odr11().clear_bit());\n        } else if INDEX == 4 {\n            gpioe.odr.modify(|_, w| w.odr13().set_bit());\n            gpioe.odr.modify(|_, w| w.odr12().clear_bit());\n        } else if INDEX == 5 {\n            gpioe.odr.modify(|_, w| w.odr14().set_bit());\n            gpioe.odr.modify(|_, w| w.odr13().clear_bit());\n        } else if INDEX == 6 {\n            gpioe.odr.modify(|_, w| w.odr15().set_bit());\n            gpioe.odr.modify(|_, w| w.odr14().clear_bit());\n        } else if INDEX == 7 {\n            gpioe.odr.modify(|_, w| w.odr8().set_bit());\n            gpioe.odr.modify(|_, w| w.odr15().clear_bit());\n        }\n        INDEX = if INDEX == 7 { 0 } else { INDEX + 1 };\n    }\n}\n```\n\nThe `get_xxx` function used in previous examples is dangerous, you can wrap them in a `cortex_m::interrupt::Mutex` to make it safer. But I suggest you use RTIC instead in the following examples.\n","slug":"develop-stm32-with-rust-stm32f303-horse-race-lamp-with-timer-in-interrupt-mode","published":1,"updated":"2021-06-19T15:17:27.822Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9c70015dbiz6k7rg4nz","content":"<h1 id=\"-rust--stm32-stm32f303-horse-race-lamp-with-timer-in-interrupt-mode\"><a href=\"#-rust--stm32-stm32f303-horse-race-lamp-with-timer-in-interrupt-mode\" class=\"headerlink\" title=\" rust  stm32 stm32f303-horse-race-lamp-with-timer-in-interrupt-mode\"></a> rust  stm32 stm32f303-horse-race-lamp-with-timer-in-interrupt-mode</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_rt<span class=\"token punctuation\">::</span></span>entry<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_halt <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f3<span class=\"token punctuation\">::</span></span>stm32f303<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>interrupt<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Interrupt</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NVIC</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// since peripherals is in singleton mode, we need to use static variables</span>\n<span class=\"token comment\">// to share peripheral register structs with interrupt handles.</span>\n<span class=\"token keyword\">static</span> <span class=\"token keyword\">mut</span> <span class=\"token constant\">TIMER</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token constant\">TIM7</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token class-name\">None</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">static</span> <span class=\"token keyword\">mut</span> <span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token constant\">GPIOE</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token class-name\">None</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">static</span> <span class=\"token keyword\">mut</span> <span class=\"token constant\">INDEX</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">u8</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">unsafe</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">get_gpioe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">&amp;</span><span class=\"token lifetime-annotation symbol\">'static</span> <span class=\"token keyword\">mut</span> <span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token constant\">GPIOE</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">ref</span> <span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token constant\">GPIOE</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> <span class=\"token operator\">*</span>gpioe\n    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token macro property\">panic!</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">unsafe</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">get_timer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">&amp;</span><span class=\"token lifetime-annotation symbol\">'static</span> <span class=\"token keyword\">mut</span> <span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token constant\">TIM7</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">ref</span> <span class=\"token keyword\">mut</span> timer<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token constant\">TIMER</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> <span class=\"token operator\">*</span>timer\n    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token macro property\">panic!</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token attribute attr-name\">#[entry]</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">!</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> dp <span class=\"token operator\">=</span> <span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span><span class=\"token punctuation\">::</span><span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> rcc <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// enable TIM7 interrupt</span>\n    <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token constant\">NVIC</span><span class=\"token punctuation\">::</span><span class=\"token function\">unmask</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Interrupt</span><span class=\"token punctuation\">::</span><span class=\"token constant\">TIM7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token comment\">// init LED</span>\n    rcc<span class=\"token punctuation\">.</span>ahbenr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">iopeen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// we will assign gpioe and tim7 to the static variables later</span>\n    <span class=\"token comment\">// so these variables need to be freed before the assign operation</span>\n    <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> gpioe <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">;</span>\n        gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> <span class=\"token punctuation\">&#123;</span>\n            w<span class=\"token punctuation\">.</span><span class=\"token function\">moder8</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">moder9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">moder10</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">moder11</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">moder12</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">moder13</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">moder14</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">moder15</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token comment\">// init TIM7 timer</span>\n    <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> tim7 <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">TIM7</span><span class=\"token punctuation\">;</span>\n        rcc<span class=\"token punctuation\">.</span>apb1enr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">tim7en</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        tim7<span class=\"token punctuation\">.</span>cr1<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">cen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        tim7<span class=\"token punctuation\">.</span>psc<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">psc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">bits</span><span class=\"token punctuation\">(</span><span class=\"token number\">7_999</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        tim7<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">arr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">bits</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        tim7<span class=\"token punctuation\">.</span>dier<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">uie</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// enable the counter</span>\n        tim7<span class=\"token punctuation\">.</span>cr1<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">cen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token comment\">// set the value of static TIMER and GPIOE</span>\n    <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token constant\">GPIOE</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token constant\">TIMER</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">TIM7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token attribute attr-name\">#[interrupt]</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">TIM7</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> tim7 <span class=\"token operator\">=</span> <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token function\">get_timer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// clear the update interrupt flag of TIM7</span>\n    tim7<span class=\"token punctuation\">.</span>sr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">uif</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> gpioe <span class=\"token operator\">=</span> <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token function\">get_gpioe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr8</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr10</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr11</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr10</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr12</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr11</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr13</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr12</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">5</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr14</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr13</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">6</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr15</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr14</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">7</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr8</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr15</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token constant\">INDEX</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">7</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>You can also use the code below. In this example, we define <code>Peripherals</code> as a static variable.</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_rt<span class=\"token punctuation\">::</span></span>entry<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_halt <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f3<span class=\"token punctuation\">::</span></span>stm32f303<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>interrupt<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Interrupt</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NVIC</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">static</span> <span class=\"token keyword\">mut</span> <span class=\"token constant\">PERIPHERALS</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token class-name\">None</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">static</span> <span class=\"token keyword\">mut</span> <span class=\"token constant\">INDEX</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">u8</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">unsafe</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">get_peripheral</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">&amp;</span><span class=\"token lifetime-annotation symbol\">'static</span> <span class=\"token keyword\">mut</span> <span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">ref</span> <span class=\"token keyword\">mut</span> peripheral<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token constant\">PERIPHERALS</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> <span class=\"token operator\">*</span>peripheral\n    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token macro property\">panic!</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token attribute attr-name\">#[entry]</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">!</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> dp <span class=\"token operator\">=</span> <span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span><span class=\"token punctuation\">::</span><span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token constant\">PERIPHERALS</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">let</span> dp <span class=\"token operator\">=</span> <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token function\">get_peripheral</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> rcc <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// enable TIM7 interrupt</span>\n    <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token constant\">NVIC</span><span class=\"token punctuation\">::</span><span class=\"token function\">unmask</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Interrupt</span><span class=\"token punctuation\">::</span><span class=\"token constant\">TIM7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token comment\">// init LED</span>\n    rcc<span class=\"token punctuation\">.</span>ahbenr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">iopeen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> gpioe <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">;</span>\n    gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> <span class=\"token punctuation\">&#123;</span>\n        w<span class=\"token punctuation\">.</span><span class=\"token function\">moder8</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder10</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder11</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder12</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder13</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder14</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder15</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// init TIM7 timer</span>\n    <span class=\"token keyword\">let</span> tim7 <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">TIM7</span><span class=\"token punctuation\">;</span>\n    rcc<span class=\"token punctuation\">.</span>apb1enr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">tim7en</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    tim7<span class=\"token punctuation\">.</span>cr1<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">cen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    tim7<span class=\"token punctuation\">.</span>psc<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">psc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">bits</span><span class=\"token punctuation\">(</span><span class=\"token number\">7_999</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    tim7<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">arr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">bits</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    tim7<span class=\"token punctuation\">.</span>dier<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">uie</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// enable the counter</span>\n    tim7<span class=\"token punctuation\">.</span>cr1<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">cen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token attribute attr-name\">#[interrupt]</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">TIM7</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> dp <span class=\"token operator\">=</span> <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token function\">get_peripheral</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> tim7 <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">TIM7</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// clear the update interrupt flag of TIM7</span>\n    tim7<span class=\"token punctuation\">.</span>sr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">uif</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> gpioe <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr8</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr10</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr11</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr10</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr12</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr11</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr13</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr12</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">5</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr14</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr13</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">6</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr15</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr14</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">7</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr8</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr15</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token constant\">INDEX</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">7</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>The <code>get_xxx</code> function used in previous examples is dangerous, you can wrap them in a <code>cortex_m::interrupt::Mutex</code> to make it safer. But I suggest you use RTIC instead in the following examples.</p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-rust--stm32-stm32f303-horse-race-lamp-with-timer-in-interrupt-mode\"><a href=\"#-rust--stm32-stm32f303-horse-race-lamp-with-timer-in-interrupt-mode\" class=\"headerlink\" title=\" rust  stm32 stm32f303-horse-race-lamp-with-timer-in-interrupt-mode\"></a> rust  stm32 stm32f303-horse-race-lamp-with-timer-in-interrupt-mode</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_rt<span class=\"token punctuation\">::</span></span>entry<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_halt <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f3<span class=\"token punctuation\">::</span></span>stm32f303<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>interrupt<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Interrupt</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NVIC</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// since peripherals is in singleton mode, we need to use static variables</span>\n<span class=\"token comment\">// to share peripheral register structs with interrupt handles.</span>\n<span class=\"token keyword\">static</span> <span class=\"token keyword\">mut</span> <span class=\"token constant\">TIMER</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token constant\">TIM7</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token class-name\">None</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">static</span> <span class=\"token keyword\">mut</span> <span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token constant\">GPIOE</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token class-name\">None</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">static</span> <span class=\"token keyword\">mut</span> <span class=\"token constant\">INDEX</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">u8</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">unsafe</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">get_gpioe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">&amp;</span><span class=\"token lifetime-annotation symbol\">'static</span> <span class=\"token keyword\">mut</span> <span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token constant\">GPIOE</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">ref</span> <span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token constant\">GPIOE</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> <span class=\"token operator\">*</span>gpioe\n    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token macro property\">panic!</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">unsafe</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">get_timer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">&amp;</span><span class=\"token lifetime-annotation symbol\">'static</span> <span class=\"token keyword\">mut</span> <span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token constant\">TIM7</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">ref</span> <span class=\"token keyword\">mut</span> timer<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token constant\">TIMER</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> <span class=\"token operator\">*</span>timer\n    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token macro property\">panic!</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token attribute attr-name\">#[entry]</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">!</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> dp <span class=\"token operator\">=</span> <span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span><span class=\"token punctuation\">::</span><span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> rcc <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// enable TIM7 interrupt</span>\n    <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token constant\">NVIC</span><span class=\"token punctuation\">::</span><span class=\"token function\">unmask</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Interrupt</span><span class=\"token punctuation\">::</span><span class=\"token constant\">TIM7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token comment\">// init LED</span>\n    rcc<span class=\"token punctuation\">.</span>ahbenr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">iopeen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// we will assign gpioe and tim7 to the static variables later</span>\n    <span class=\"token comment\">// so these variables need to be freed before the assign operation</span>\n    <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> gpioe <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">;</span>\n        gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> <span class=\"token punctuation\">&#123;</span>\n            w<span class=\"token punctuation\">.</span><span class=\"token function\">moder8</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">moder9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">moder10</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">moder11</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">moder12</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">moder13</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">moder14</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">moder15</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token comment\">// init TIM7 timer</span>\n    <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> tim7 <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">TIM7</span><span class=\"token punctuation\">;</span>\n        rcc<span class=\"token punctuation\">.</span>apb1enr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">tim7en</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        tim7<span class=\"token punctuation\">.</span>cr1<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">cen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        tim7<span class=\"token punctuation\">.</span>psc<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">psc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">bits</span><span class=\"token punctuation\">(</span><span class=\"token number\">7_999</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        tim7<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">arr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">bits</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        tim7<span class=\"token punctuation\">.</span>dier<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">uie</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// enable the counter</span>\n        tim7<span class=\"token punctuation\">.</span>cr1<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">cen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token comment\">// set the value of static TIMER and GPIOE</span>\n    <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token constant\">GPIOE</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token constant\">TIMER</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">TIM7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token attribute attr-name\">#[interrupt]</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">TIM7</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> tim7 <span class=\"token operator\">=</span> <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token function\">get_timer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// clear the update interrupt flag of TIM7</span>\n    tim7<span class=\"token punctuation\">.</span>sr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">uif</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> gpioe <span class=\"token operator\">=</span> <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token function\">get_gpioe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr8</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr10</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr11</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr10</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr12</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr11</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr13</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr12</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">5</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr14</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr13</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">6</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr15</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr14</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">7</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr8</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr15</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token constant\">INDEX</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">7</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>You can also use the code below. In this example, we define <code>Peripherals</code> as a static variable.</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_rt<span class=\"token punctuation\">::</span></span>entry<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_halt <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f3<span class=\"token punctuation\">::</span></span>stm32f303<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>interrupt<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Interrupt</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NVIC</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">static</span> <span class=\"token keyword\">mut</span> <span class=\"token constant\">PERIPHERALS</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token class-name\">None</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">static</span> <span class=\"token keyword\">mut</span> <span class=\"token constant\">INDEX</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">u8</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">unsafe</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">get_peripheral</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">&amp;</span><span class=\"token lifetime-annotation symbol\">'static</span> <span class=\"token keyword\">mut</span> <span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">ref</span> <span class=\"token keyword\">mut</span> peripheral<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token constant\">PERIPHERALS</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> <span class=\"token operator\">*</span>peripheral\n    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token macro property\">panic!</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token attribute attr-name\">#[entry]</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">!</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> dp <span class=\"token operator\">=</span> <span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span><span class=\"token punctuation\">::</span><span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token constant\">PERIPHERALS</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">let</span> dp <span class=\"token operator\">=</span> <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token function\">get_peripheral</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> rcc <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// enable TIM7 interrupt</span>\n    <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token constant\">NVIC</span><span class=\"token punctuation\">::</span><span class=\"token function\">unmask</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Interrupt</span><span class=\"token punctuation\">::</span><span class=\"token constant\">TIM7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token comment\">// init LED</span>\n    rcc<span class=\"token punctuation\">.</span>ahbenr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">iopeen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> gpioe <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">;</span>\n    gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> <span class=\"token punctuation\">&#123;</span>\n        w<span class=\"token punctuation\">.</span><span class=\"token function\">moder8</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder10</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder11</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder12</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder13</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder14</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder15</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// init TIM7 timer</span>\n    <span class=\"token keyword\">let</span> tim7 <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">TIM7</span><span class=\"token punctuation\">;</span>\n    rcc<span class=\"token punctuation\">.</span>apb1enr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">tim7en</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    tim7<span class=\"token punctuation\">.</span>cr1<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">cen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    tim7<span class=\"token punctuation\">.</span>psc<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">psc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">bits</span><span class=\"token punctuation\">(</span><span class=\"token number\">7_999</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    tim7<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">arr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">bits</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    tim7<span class=\"token punctuation\">.</span>dier<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">uie</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// enable the counter</span>\n    tim7<span class=\"token punctuation\">.</span>cr1<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">cen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token attribute attr-name\">#[interrupt]</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">TIM7</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> dp <span class=\"token operator\">=</span> <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token function\">get_peripheral</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> tim7 <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">TIM7</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// clear the update interrupt flag of TIM7</span>\n    tim7<span class=\"token punctuation\">.</span>sr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">uif</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> gpioe <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr8</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr10</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr11</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr10</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr12</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr11</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr13</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr12</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">5</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr14</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr13</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">6</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr15</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr14</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">7</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr8</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr15</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token constant\">INDEX</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">==</span> <span class=\"token number\">7</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token constant\">INDEX</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>The <code>get_xxx</code> function used in previous examples is dangerous, you can wrap them in a <code>cortex_m::interrupt::Mutex</code> to make it safer. But I suggest you use RTIC instead in the following examples.</p>\n"},{"title":"Develop Stm32 with Rust stm32f303-horse-race-lamp-with-timer-in-pulling-mode","date":"2021-06-19T14:17:14.000Z","_content":"\n#  rust  stm32 stm32f303-horse-race-lamp-with-timer-in-pulling-mode\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\n```rust\n#![no_main]\n#![no_std]\n\nuse cortex_m_rt::entry;\nuse panic_halt as _;\nuse stm32f3::stm32f303;\n\n#[entry]\nfn main() -> ! {\n    let peripherals = stm32f303::Peripherals::take().unwrap();\n    let rcc = &peripherals.RCC;\n\n    // init leds\n    rcc.ahbenr.modify(|_, w| w.iopeen().set_bit());\n    let gpioe = &peripherals.GPIOE;\n    gpioe.moder.modify(|_, w| {\n        w.moder8()\n            .output()\n            .moder9()\n            .output()\n            .moder10()\n            .output()\n            .moder11()\n            .output()\n            .moder12()\n            .output()\n            .moder13()\n            .output()\n            .moder14()\n            .output()\n            .moder15()\n            .output()\n    });\n\n    // init TIM6 timer\n    // power on TIM6 timer\n    rcc.apb1enr.modify(|_, w| w.tim6en().set_bit());\n    let tim6 = &peripherals.TIM6;\n    // opm : set the timer mode to one pulse mode\n    // cen : disable the counter during the configuration\n    tim6.cr1.modify(|_, w| w.opm().set_bit().cen().clear_bit());\n    // the default clock APB1_CLOCK = 8 MHz\n    // PSC = 7999\n    // 8 M / (7999 + 1) = 1 k\n    // configure the prescaler to have the counter operate at 1 kHz\n    // that means the counter will increase on every millisecond\n    tim6.psc.write(|w| w.psc().bits(7_999));\n    // set counter period\n    tim6.arr.write(|w| w.arr().bits(1000));\n    // enable the counter\n    tim6.cr1.modify(|_, w| w.cen().set_bit());\n    let mut i = 0;\n    loop {\n        if i == 0 {\n            gpioe.odr.modify(|_, w| w.odr9().set_bit());\n            gpioe.odr.modify(|_, w| w.odr8().clear_bit());\n        } else if i == 1 {\n            gpioe.odr.modify(|_, w| w.odr10().set_bit());\n            gpioe.odr.modify(|_, w| w.odr9().clear_bit());\n        } else if i == 2 {\n            gpioe.odr.modify(|_, w| w.odr11().set_bit());\n            gpioe.odr.modify(|_, w| w.odr10().clear_bit());\n        } else if i == 3 {\n            gpioe.odr.modify(|_, w| w.odr12().set_bit());\n            gpioe.odr.modify(|_, w| w.odr11().clear_bit());\n        } else if i == 4 {\n            gpioe.odr.modify(|_, w| w.odr13().set_bit());\n            gpioe.odr.modify(|_, w| w.odr12().clear_bit());\n        } else if i == 5 {\n            gpioe.odr.modify(|_, w| w.odr14().set_bit());\n            gpioe.odr.modify(|_, w| w.odr13().clear_bit());\n        } else if i == 6 {\n            gpioe.odr.modify(|_, w| w.odr15().set_bit());\n            gpioe.odr.modify(|_, w| w.odr14().clear_bit());\n        } else if i == 7 {\n            gpioe.odr.modify(|_, w| w.odr8().set_bit());\n            gpioe.odr.modify(|_, w| w.odr15().clear_bit());\n        }\n        // wait until the counter completes one period\n        while !tim6.sr.read().uif().bit_is_set() {}\n        // clear the update event flag\n        tim6.sr.modify(|_, w| w.uif().clear_bit());\n        i = if i == 7 { 0 } else { i + 1 };\n        // since we select one pulse mode, it's necessary to restart the timer\n        tim6.cr1.modify(|_, w| w.cen().set_bit());\n    }\n}\n```\n","source":"_posts/develop-stm32-with-rust-stm32f303-horse-race-lamp-with-timer-in-pulling-mode.md","raw":"---\ntitle: Develop Stm32 with Rust stm32f303-horse-race-lamp-with-timer-in-pulling-mode\ndate: 2021-06-19 22:17:14\ntags:\n  - Rust\n  - Stm32\ncategories:\n  - [Embedded]\n  - [Rust]\n  - [Stm32]\n---\n\n#  rust  stm32 stm32f303-horse-race-lamp-with-timer-in-pulling-mode\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\n```rust\n#![no_main]\n#![no_std]\n\nuse cortex_m_rt::entry;\nuse panic_halt as _;\nuse stm32f3::stm32f303;\n\n#[entry]\nfn main() -> ! {\n    let peripherals = stm32f303::Peripherals::take().unwrap();\n    let rcc = &peripherals.RCC;\n\n    // init leds\n    rcc.ahbenr.modify(|_, w| w.iopeen().set_bit());\n    let gpioe = &peripherals.GPIOE;\n    gpioe.moder.modify(|_, w| {\n        w.moder8()\n            .output()\n            .moder9()\n            .output()\n            .moder10()\n            .output()\n            .moder11()\n            .output()\n            .moder12()\n            .output()\n            .moder13()\n            .output()\n            .moder14()\n            .output()\n            .moder15()\n            .output()\n    });\n\n    // init TIM6 timer\n    // power on TIM6 timer\n    rcc.apb1enr.modify(|_, w| w.tim6en().set_bit());\n    let tim6 = &peripherals.TIM6;\n    // opm : set the timer mode to one pulse mode\n    // cen : disable the counter during the configuration\n    tim6.cr1.modify(|_, w| w.opm().set_bit().cen().clear_bit());\n    // the default clock APB1_CLOCK = 8 MHz\n    // PSC = 7999\n    // 8 M / (7999 + 1) = 1 k\n    // configure the prescaler to have the counter operate at 1 kHz\n    // that means the counter will increase on every millisecond\n    tim6.psc.write(|w| w.psc().bits(7_999));\n    // set counter period\n    tim6.arr.write(|w| w.arr().bits(1000));\n    // enable the counter\n    tim6.cr1.modify(|_, w| w.cen().set_bit());\n    let mut i = 0;\n    loop {\n        if i == 0 {\n            gpioe.odr.modify(|_, w| w.odr9().set_bit());\n            gpioe.odr.modify(|_, w| w.odr8().clear_bit());\n        } else if i == 1 {\n            gpioe.odr.modify(|_, w| w.odr10().set_bit());\n            gpioe.odr.modify(|_, w| w.odr9().clear_bit());\n        } else if i == 2 {\n            gpioe.odr.modify(|_, w| w.odr11().set_bit());\n            gpioe.odr.modify(|_, w| w.odr10().clear_bit());\n        } else if i == 3 {\n            gpioe.odr.modify(|_, w| w.odr12().set_bit());\n            gpioe.odr.modify(|_, w| w.odr11().clear_bit());\n        } else if i == 4 {\n            gpioe.odr.modify(|_, w| w.odr13().set_bit());\n            gpioe.odr.modify(|_, w| w.odr12().clear_bit());\n        } else if i == 5 {\n            gpioe.odr.modify(|_, w| w.odr14().set_bit());\n            gpioe.odr.modify(|_, w| w.odr13().clear_bit());\n        } else if i == 6 {\n            gpioe.odr.modify(|_, w| w.odr15().set_bit());\n            gpioe.odr.modify(|_, w| w.odr14().clear_bit());\n        } else if i == 7 {\n            gpioe.odr.modify(|_, w| w.odr8().set_bit());\n            gpioe.odr.modify(|_, w| w.odr15().clear_bit());\n        }\n        // wait until the counter completes one period\n        while !tim6.sr.read().uif().bit_is_set() {}\n        // clear the update event flag\n        tim6.sr.modify(|_, w| w.uif().clear_bit());\n        i = if i == 7 { 0 } else { i + 1 };\n        // since we select one pulse mode, it's necessary to restart the timer\n        tim6.cr1.modify(|_, w| w.cen().set_bit());\n    }\n}\n```\n","slug":"develop-stm32-with-rust-stm32f303-horse-race-lamp-with-timer-in-pulling-mode","published":1,"updated":"2021-06-19T15:17:32.699Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9cb0018dbizf7qr6j2b","content":"<h1 id=\"-rust--stm32-stm32f303-horse-race-lamp-with-timer-in-pulling-mode\"><a href=\"#-rust--stm32-stm32f303-horse-race-lamp-with-timer-in-pulling-mode\" class=\"headerlink\" title=\" rust  stm32 stm32f303-horse-race-lamp-with-timer-in-pulling-mode\"></a> rust  stm32 stm32f303-horse-race-lamp-with-timer-in-pulling-mode</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_rt<span class=\"token punctuation\">::</span></span>entry<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_halt <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f3<span class=\"token punctuation\">::</span></span>stm32f303<span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[entry]</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">!</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> peripherals <span class=\"token operator\">=</span> <span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span><span class=\"token punctuation\">::</span><span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> rcc <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>peripherals<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// init leds</span>\n    rcc<span class=\"token punctuation\">.</span>ahbenr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">iopeen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> gpioe <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>peripherals<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">;</span>\n    gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> <span class=\"token punctuation\">&#123;</span>\n        w<span class=\"token punctuation\">.</span><span class=\"token function\">moder8</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder10</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder11</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder12</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder13</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder14</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder15</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// init TIM6 timer</span>\n    <span class=\"token comment\">// power on TIM6 timer</span>\n    rcc<span class=\"token punctuation\">.</span>apb1enr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">tim6en</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> tim6 <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>peripherals<span class=\"token punctuation\">.</span><span class=\"token constant\">TIM6</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// opm : set the timer mode to one pulse mode</span>\n    <span class=\"token comment\">// cen : disable the counter during the configuration</span>\n    tim6<span class=\"token punctuation\">.</span>cr1<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">opm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">cen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// the default clock APB1_CLOCK = 8 MHz</span>\n    <span class=\"token comment\">// PSC = 7999</span>\n    <span class=\"token comment\">// 8 M / (7999 + 1) = 1 k</span>\n    <span class=\"token comment\">// configure the prescaler to have the counter operate at 1 kHz</span>\n    <span class=\"token comment\">// that means the counter will increase on every millisecond</span>\n    tim6<span class=\"token punctuation\">.</span>psc<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">psc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">bits</span><span class=\"token punctuation\">(</span><span class=\"token number\">7_999</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// set counter period</span>\n    tim6<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">arr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">bits</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// enable the counter</span>\n    tim6<span class=\"token punctuation\">.</span>cr1<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">cen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr8</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr10</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr11</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr10</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr12</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr11</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr13</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr12</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token number\">5</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr14</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr13</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token number\">6</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr15</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr14</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token number\">7</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr8</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr15</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token comment\">// wait until the counter completes one period</span>\n        <span class=\"token keyword\">while</span> <span class=\"token operator\">!</span>tim6<span class=\"token punctuation\">.</span>sr<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">uif</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">bit_is_set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n        <span class=\"token comment\">// clear the update event flag</span>\n        tim6<span class=\"token punctuation\">.</span>sr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">uif</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        i <span class=\"token operator\">=</span> <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token number\">7</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// since we select one pulse mode, it's necessary to restart the timer</span>\n        tim6<span class=\"token punctuation\">.</span>cr1<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">cen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-rust--stm32-stm32f303-horse-race-lamp-with-timer-in-pulling-mode\"><a href=\"#-rust--stm32-stm32f303-horse-race-lamp-with-timer-in-pulling-mode\" class=\"headerlink\" title=\" rust  stm32 stm32f303-horse-race-lamp-with-timer-in-pulling-mode\"></a> rust  stm32 stm32f303-horse-race-lamp-with-timer-in-pulling-mode</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_rt<span class=\"token punctuation\">::</span></span>entry<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_halt <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f3<span class=\"token punctuation\">::</span></span>stm32f303<span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[entry]</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">!</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> peripherals <span class=\"token operator\">=</span> <span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span><span class=\"token punctuation\">::</span><span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> rcc <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>peripherals<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// init leds</span>\n    rcc<span class=\"token punctuation\">.</span>ahbenr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">iopeen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> gpioe <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>peripherals<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">;</span>\n    gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> <span class=\"token punctuation\">&#123;</span>\n        w<span class=\"token punctuation\">.</span><span class=\"token function\">moder8</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder10</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder11</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder12</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder13</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder14</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">moder15</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// init TIM6 timer</span>\n    <span class=\"token comment\">// power on TIM6 timer</span>\n    rcc<span class=\"token punctuation\">.</span>apb1enr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">tim6en</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> tim6 <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>peripherals<span class=\"token punctuation\">.</span><span class=\"token constant\">TIM6</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// opm : set the timer mode to one pulse mode</span>\n    <span class=\"token comment\">// cen : disable the counter during the configuration</span>\n    tim6<span class=\"token punctuation\">.</span>cr1<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">opm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">cen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// the default clock APB1_CLOCK = 8 MHz</span>\n    <span class=\"token comment\">// PSC = 7999</span>\n    <span class=\"token comment\">// 8 M / (7999 + 1) = 1 k</span>\n    <span class=\"token comment\">// configure the prescaler to have the counter operate at 1 kHz</span>\n    <span class=\"token comment\">// that means the counter will increase on every millisecond</span>\n    tim6<span class=\"token punctuation\">.</span>psc<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">psc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">bits</span><span class=\"token punctuation\">(</span><span class=\"token number\">7_999</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// set counter period</span>\n    tim6<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">arr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">bits</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// enable the counter</span>\n    tim6<span class=\"token punctuation\">.</span>cr1<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">cen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr8</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr10</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr11</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr10</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr12</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr11</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr13</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr12</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token number\">5</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr14</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr13</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token number\">6</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr15</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr14</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token number\">7</span> <span class=\"token punctuation\">&#123;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr8</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr15</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token comment\">// wait until the counter completes one period</span>\n        <span class=\"token keyword\">while</span> <span class=\"token operator\">!</span>tim6<span class=\"token punctuation\">.</span>sr<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">uif</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">bit_is_set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n        <span class=\"token comment\">// clear the update event flag</span>\n        tim6<span class=\"token punctuation\">.</span>sr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">uif</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        i <span class=\"token operator\">=</span> <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> <span class=\"token number\">7</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// since we select one pulse mode, it's necessary to restart the timer</span>\n        tim6<span class=\"token punctuation\">.</span>cr1<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">cen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Develop Stm32 with Rust stm32f303-light-a-LED","date":"2021-06-19T14:13:27.000Z","_content":"\n#  rust  stm32 stm32f303-light-a-LED\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\n```rust\n#![no_main]\n#![no_std]\n\nuse cortex_m_rt::entry;\nuse panic_halt as _;\nuse stm32f3::stm32f303;\n\n#[entry]\nfn main() -> ! {\n    let peripherals = stm32f303::Peripherals::take().unwrap();\n    // RCC is the reset and clock control\n    // It is used to power on or off every other peripheral\n    let rcc = peripherals.RCC;\n    // ahbenr is the AHB Peripheral Clock enable register\n    // iopeen is the io port e enable control\n    rcc.ahbenr.modify(|_, w| w.iopeen().set_bit());\n    // write and modify can both work\n    // rcc.ahbenr.write(|w| w.iopeen().set_bit());\n    let gpioe = &peripherals.GPIOE;\n    // moder is the GPIO port mode register\n    // we set gpioe9 to output mode\n    gpioe.moder.modify(|_, w| w.moder9().output());\n    // odr is the GPIO port output data register\n    // we set the output of gpioe9\n    // now, the north LED is lighting\n    gpioe.odr.modify(|_, w| w.odr9().set_bit());\n    loop {}\n}\n```\n","source":"_posts/develop-stm32-with-rust-stm32f303-light-a-LED.md","raw":"---\ntitle: Develop Stm32 with Rust stm32f303-light-a-LED\ndate: 2021-06-19 22:13:27\ntags:\n  - Rust\n  - Stm32\ncategories:\n  - [Embedded]\n  - [Rust]\n  - [Stm32]\n---\n\n#  rust  stm32 stm32f303-light-a-LED\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\n```rust\n#![no_main]\n#![no_std]\n\nuse cortex_m_rt::entry;\nuse panic_halt as _;\nuse stm32f3::stm32f303;\n\n#[entry]\nfn main() -> ! {\n    let peripherals = stm32f303::Peripherals::take().unwrap();\n    // RCC is the reset and clock control\n    // It is used to power on or off every other peripheral\n    let rcc = peripherals.RCC;\n    // ahbenr is the AHB Peripheral Clock enable register\n    // iopeen is the io port e enable control\n    rcc.ahbenr.modify(|_, w| w.iopeen().set_bit());\n    // write and modify can both work\n    // rcc.ahbenr.write(|w| w.iopeen().set_bit());\n    let gpioe = &peripherals.GPIOE;\n    // moder is the GPIO port mode register\n    // we set gpioe9 to output mode\n    gpioe.moder.modify(|_, w| w.moder9().output());\n    // odr is the GPIO port output data register\n    // we set the output of gpioe9\n    // now, the north LED is lighting\n    gpioe.odr.modify(|_, w| w.odr9().set_bit());\n    loop {}\n}\n```\n","slug":"develop-stm32-with-rust-stm32f303-light-a-LED","published":1,"updated":"2021-06-19T15:17:38.392Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9cd001bdbiz957o7k5j","content":"<h1 id=\"-rust--stm32-stm32f303-light-a-LED\"><a href=\"#-rust--stm32-stm32f303-light-a-LED\" class=\"headerlink\" title=\" rust  stm32 stm32f303-light-a-LED\"></a> rust  stm32 stm32f303-light-a-LED</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_rt<span class=\"token punctuation\">::</span></span>entry<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_halt <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f3<span class=\"token punctuation\">::</span></span>stm32f303<span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[entry]</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">!</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> peripherals <span class=\"token operator\">=</span> <span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span><span class=\"token punctuation\">::</span><span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// RCC is the reset and clock control</span>\n    <span class=\"token comment\">// It is used to power on or off every other peripheral</span>\n    <span class=\"token keyword\">let</span> rcc <span class=\"token operator\">=</span> peripherals<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// ahbenr is the AHB Peripheral Clock enable register</span>\n    <span class=\"token comment\">// iopeen is the io port e enable control</span>\n    rcc<span class=\"token punctuation\">.</span>ahbenr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">iopeen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// write and modify can both work</span>\n    <span class=\"token comment\">// rcc.ahbenr.write(|w| w.iopeen().set_bit());</span>\n    <span class=\"token keyword\">let</span> gpioe <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>peripherals<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// moder is the GPIO port mode register</span>\n    <span class=\"token comment\">// we set gpioe9 to output mode</span>\n    gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">moder9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// odr is the GPIO port output data register</span>\n    <span class=\"token comment\">// we set the output of gpioe9</span>\n    <span class=\"token comment\">// now, the north LED is lighting</span>\n    gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-rust--stm32-stm32f303-light-a-LED\"><a href=\"#-rust--stm32-stm32f303-light-a-LED\" class=\"headerlink\" title=\" rust  stm32 stm32f303-light-a-LED\"></a> rust  stm32 stm32f303-light-a-LED</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_rt<span class=\"token punctuation\">::</span></span>entry<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_halt <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f3<span class=\"token punctuation\">::</span></span>stm32f303<span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[entry]</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">!</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> peripherals <span class=\"token operator\">=</span> <span class=\"token namespace\">stm32f303<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span><span class=\"token punctuation\">::</span><span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// RCC is the reset and clock control</span>\n    <span class=\"token comment\">// It is used to power on or off every other peripheral</span>\n    <span class=\"token keyword\">let</span> rcc <span class=\"token operator\">=</span> peripherals<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// ahbenr is the AHB Peripheral Clock enable register</span>\n    <span class=\"token comment\">// iopeen is the io port e enable control</span>\n    rcc<span class=\"token punctuation\">.</span>ahbenr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">iopeen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// write and modify can both work</span>\n    <span class=\"token comment\">// rcc.ahbenr.write(|w| w.iopeen().set_bit());</span>\n    <span class=\"token keyword\">let</span> gpioe <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>peripherals<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// moder is the GPIO port mode register</span>\n    <span class=\"token comment\">// we set gpioe9 to output mode</span>\n    gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">moder9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// odr is the GPIO port output data register</span>\n    <span class=\"token comment\">// we set the output of gpioe9</span>\n    <span class=\"token comment\">// now, the north LED is lighting</span>\n    gpioe<span class=\"token punctuation\">.</span>odr<span class=\"token punctuation\">.</span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token punctuation\">,</span> w<span class=\"token closure-punctuation punctuation\">|</span></span> w<span class=\"token punctuation\">.</span><span class=\"token function\">odr9</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set_bit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Develop Stm32 with Rust stm32f3discovery-adc-rtic","date":"2021-06-19T14:36:19.000Z","_content":"\n#  rust  stm32 stm32f3discovery-adc-rtic\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\nPress the user button on stm32f3discovery board, and you will see the voltage changing.\n\n```rust\n#![no_main]\n#![no_std]\n\nuse cortex_m::asm::delay;\nuse cortex_m_semihosting::hprintln;\nuse panic_semihosting as _;\nuse rtic::app;\nuse stm32f3xx_hal::{\n    adc::{self, Adc},\n    gpio::{gpioa::PA0, Analog},\n    pac::{self, ADC1},\n    prelude::*,\n    rcc::RccExt,\n};\n\n#[app(device = stm32f3xx_hal::pac, peripherals = true)]\nconst APP: () = {\n    struct Resources {\n        adc1: Adc<ADC1>,\n        adc1_in1_pin: PA0<Analog>,\n    }\n\n    #[init]\n    fn init(cx: init::Context) -> init::LateResources {\n        let mut dp: pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n\n        let mut flash = dp.FLASH.constrain();\n        let clocks = rcc.cfgr.freeze(&mut flash.acr);\n\n        let adc1 = adc::Adc::adc1(\n            dp.ADC1,\n            &mut dp.ADC1_2,\n            &mut rcc.ahb,\n            adc::CkMode::default(),\n            clocks,\n        );\n\n        let mut gpioa = dp.GPIOA.split(&mut rcc.ahb);\n        let adc1_in1_pin = gpioa.pa0.into_analog(&mut gpioa.moder, &mut gpioa.pupdr);\n\n        init::LateResources { adc1, adc1_in1_pin }\n    }\n\n    #[idle(resources=[adc1,adc1_in1_pin])]\n    fn idle(cx: idle::Context) -> ! {\n        loop {\n            let adc1_in1_data: u16 = cx\n                .resources\n                .adc1\n                .read(cx.resources.adc1_in1_pin)\n                .expect(\"Error reading adc1.\");\n            hprintln!(\"PA0 reads {}\", adc1_in1_data).unwrap();\n            delay(2_000_000);\n        }\n    }\n};\n```\n","source":"_posts/develop-stm32-with-rust-stm32f3discovery-adc-rtic.md","raw":"---\ntitle: Develop Stm32 with Rust stm32f3discovery-adc-rtic\ndate: 2021-06-19 22:36:19\ntags:\n  - Rust\n  - Stm32\ncategories:\n  - [Embedded]\n  - [Rust]\n  - [Stm32]\n---\n\n#  rust  stm32 stm32f3discovery-adc-rtic\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\nPress the user button on stm32f3discovery board, and you will see the voltage changing.\n\n```rust\n#![no_main]\n#![no_std]\n\nuse cortex_m::asm::delay;\nuse cortex_m_semihosting::hprintln;\nuse panic_semihosting as _;\nuse rtic::app;\nuse stm32f3xx_hal::{\n    adc::{self, Adc},\n    gpio::{gpioa::PA0, Analog},\n    pac::{self, ADC1},\n    prelude::*,\n    rcc::RccExt,\n};\n\n#[app(device = stm32f3xx_hal::pac, peripherals = true)]\nconst APP: () = {\n    struct Resources {\n        adc1: Adc<ADC1>,\n        adc1_in1_pin: PA0<Analog>,\n    }\n\n    #[init]\n    fn init(cx: init::Context) -> init::LateResources {\n        let mut dp: pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n\n        let mut flash = dp.FLASH.constrain();\n        let clocks = rcc.cfgr.freeze(&mut flash.acr);\n\n        let adc1 = adc::Adc::adc1(\n            dp.ADC1,\n            &mut dp.ADC1_2,\n            &mut rcc.ahb,\n            adc::CkMode::default(),\n            clocks,\n        );\n\n        let mut gpioa = dp.GPIOA.split(&mut rcc.ahb);\n        let adc1_in1_pin = gpioa.pa0.into_analog(&mut gpioa.moder, &mut gpioa.pupdr);\n\n        init::LateResources { adc1, adc1_in1_pin }\n    }\n\n    #[idle(resources=[adc1,adc1_in1_pin])]\n    fn idle(cx: idle::Context) -> ! {\n        loop {\n            let adc1_in1_data: u16 = cx\n                .resources\n                .adc1\n                .read(cx.resources.adc1_in1_pin)\n                .expect(\"Error reading adc1.\");\n            hprintln!(\"PA0 reads {}\", adc1_in1_data).unwrap();\n            delay(2_000_000);\n        }\n    }\n};\n```\n","slug":"develop-stm32-with-rust-stm32f3discovery-adc-rtic","published":1,"updated":"2021-06-19T15:17:44.493Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9ce001cdbiz20ju3nq3","content":"<h1 id=\"-rust--stm32-stm32f3discovery-adc-rtic\"><a href=\"#-rust--stm32-stm32f3discovery-adc-rtic\" class=\"headerlink\" title=\" rust  stm32 stm32f3discovery-adc-rtic\"></a> rust  stm32 stm32f3discovery-adc-rtic</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<p>Press the user button on stm32f3discovery board, and you will see the voltage changing.</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span>asm<span class=\"token punctuation\">::</span></span>delay<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_semihosting<span class=\"token punctuation\">::</span></span>hprintln<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">rtic<span class=\"token punctuation\">::</span></span>app<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f3xx_hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token namespace\">adc<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Adc</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">gpio<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token namespace\">gpioa<span class=\"token punctuation\">::</span></span><span class=\"token constant\">PA0</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Analog</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">pac<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">ADC1</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">rcc<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">RccExt</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[app(device = stm32f3xx_hal::pac, peripherals = true)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span>\n        adc1<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Adc</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">ADC1</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n        adc1_in1_pin<span class=\"token punctuation\">:</span> <span class=\"token constant\">PA0</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Analog</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[init]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">LateResources</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> flash <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> clocks <span class=\"token operator\">=</span> rcc<span class=\"token punctuation\">.</span>cfgr<span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> flash<span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> adc1 <span class=\"token operator\">=</span> <span class=\"token namespace\">adc<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Adc</span><span class=\"token punctuation\">::</span><span class=\"token function\">adc1</span><span class=\"token punctuation\">(</span>\n            dp<span class=\"token punctuation\">.</span><span class=\"token constant\">ADC1</span><span class=\"token punctuation\">,</span>\n            <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">ADC1_2</span><span class=\"token punctuation\">,</span>\n            <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">,</span>\n            <span class=\"token namespace\">adc<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">CkMode</span><span class=\"token punctuation\">::</span><span class=\"token function\">default</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            clocks<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioa <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOA</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> adc1_in1_pin <span class=\"token operator\">=</span> gpioa<span class=\"token punctuation\">.</span>pa0<span class=\"token punctuation\">.</span><span class=\"token function\">into_analog</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>pupdr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">LateResources</span> <span class=\"token punctuation\">&#123;</span> adc1<span class=\"token punctuation\">,</span> adc1_in1_pin <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    #<span class=\"token punctuation\">[</span><span class=\"token function\">idle</span><span class=\"token punctuation\">(</span>resources<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>adc1<span class=\"token punctuation\">,</span>adc1_in1_pin<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">idle</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">idle<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">!</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">let</span> adc1_in1_data<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u16</span> <span class=\"token operator\">=</span> cx\n                <span class=\"token punctuation\">.</span>resources\n                <span class=\"token punctuation\">.</span>adc1\n                <span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">.</span>resources<span class=\"token punctuation\">.</span>adc1_in1_pin<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Error reading adc1.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"PA0 reads &#123;&#125;\"</span><span class=\"token punctuation\">,</span> adc1_in1_data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">2_000_000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-rust--stm32-stm32f3discovery-adc-rtic\"><a href=\"#-rust--stm32-stm32f3discovery-adc-rtic\" class=\"headerlink\" title=\" rust  stm32 stm32f3discovery-adc-rtic\"></a> rust  stm32 stm32f3discovery-adc-rtic</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<p>Press the user button on stm32f3discovery board, and you will see the voltage changing.</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span>asm<span class=\"token punctuation\">::</span></span>delay<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_semihosting<span class=\"token punctuation\">::</span></span>hprintln<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">rtic<span class=\"token punctuation\">::</span></span>app<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f3xx_hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token namespace\">adc<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Adc</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">gpio<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token namespace\">gpioa<span class=\"token punctuation\">::</span></span><span class=\"token constant\">PA0</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Analog</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">pac<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">ADC1</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">rcc<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">RccExt</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[app(device = stm32f3xx_hal::pac, peripherals = true)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span>\n        adc1<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Adc</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">ADC1</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n        adc1_in1_pin<span class=\"token punctuation\">:</span> <span class=\"token constant\">PA0</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Analog</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[init]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">LateResources</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> flash <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> clocks <span class=\"token operator\">=</span> rcc<span class=\"token punctuation\">.</span>cfgr<span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> flash<span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> adc1 <span class=\"token operator\">=</span> <span class=\"token namespace\">adc<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Adc</span><span class=\"token punctuation\">::</span><span class=\"token function\">adc1</span><span class=\"token punctuation\">(</span>\n            dp<span class=\"token punctuation\">.</span><span class=\"token constant\">ADC1</span><span class=\"token punctuation\">,</span>\n            <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">ADC1_2</span><span class=\"token punctuation\">,</span>\n            <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">,</span>\n            <span class=\"token namespace\">adc<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">CkMode</span><span class=\"token punctuation\">::</span><span class=\"token function\">default</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            clocks<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioa <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOA</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> adc1_in1_pin <span class=\"token operator\">=</span> gpioa<span class=\"token punctuation\">.</span>pa0<span class=\"token punctuation\">.</span><span class=\"token function\">into_analog</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>pupdr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">LateResources</span> <span class=\"token punctuation\">&#123;</span> adc1<span class=\"token punctuation\">,</span> adc1_in1_pin <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    #<span class=\"token punctuation\">[</span><span class=\"token function\">idle</span><span class=\"token punctuation\">(</span>resources<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>adc1<span class=\"token punctuation\">,</span>adc1_in1_pin<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">idle</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">idle<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">!</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">let</span> adc1_in1_data<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u16</span> <span class=\"token operator\">=</span> cx\n                <span class=\"token punctuation\">.</span>resources\n                <span class=\"token punctuation\">.</span>adc1\n                <span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">.</span>resources<span class=\"token punctuation\">.</span>adc1_in1_pin<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Error reading adc1.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"PA0 reads &#123;&#125;\"</span><span class=\"token punctuation\">,</span> adc1_in1_data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">2_000_000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Develop Stm32 with Rust stm32f3discovery-blink-rtic","date":"2021-06-19T14:26:17.000Z","_content":"\n#  rust  stm32 stm32f3discovery-blink-rtic\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\n```rust\n#![no_main]\n#![no_std]\n\n// Use panic_semihosting instead of panic_halt.\nuse panic_semihosting as _;\nuse rtic::{app, cyccnt::U32Ext};\nuse stm32f3xx_hal::{\n    gpio::{gpioe::PE10, Output, PushPull},\n    prelude::*,\n};\n\nconst PERIOD: u32 = 10_000_000;\n\n\n// This is the entry of the program.\n// monotonic is needed for schedule API\n#[app(device=stm32f3xx_hal::pac,peripherals=true, monotonic=rtic::cyccnt::CYCCNT)]\nconst APP: () = {\n    // This is the resource which will be shared in interrupt functions.\n    struct Resources {\n        led: PE10<Output<PushPull>>,\n    }\n\n    // The init function will be executed first with interrupts disabled.\n    // The idle function will be executed after init function with interrupts enabled.\n    // We don't use the function here.\n    // When no idle function is declared, the runtime sets the SLEEPONEXIT bit and then\n    // sends the microcontroller to sleep after running init.\n\n    #[init(schedule = [blinker])]\n    fn init(cx: init::Context) -> init::LateResources {\n        let mut core = cx.core;\n        core.DWT.enable_cycle_counter();\n\n        // Do not use pac::Peripherals::take().unwrap() to create the device handle.\n        let dp: stm32f3xx_hal::pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n\n        let mut gpioe = dp.GPIOE.split(&mut rcc.ahb);\n        let mut pe10 = gpioe\n            .pe10\n            .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper);\n\n        pe10.set_high().unwrap();\n\n        cx.schedule.blinker(cx.start + PERIOD.cycles()).unwrap();\n        init::LateResources { led: pe10 }\n    }\n\n    #[task(resources=[led],schedule=[blinker])]\n    fn blinker(cx: blinker::Context) {\n        cx.resources.led.toggle().unwrap();\n        cx.schedule.blinker(cx.scheduled + PERIOD.cycles()).unwrap();\n    }\n\n    extern \"C\" {\n        fn EXTI0();\n    }\n};\n```\n","source":"_posts/develop-stm32-with-rust-stm32f3discovery-blink-rtic.md","raw":"---\ntitle: Develop Stm32 with Rust stm32f3discovery-blink-rtic\ndate: 2021-06-19 22:26:17\ntags:\n  - Rust\n  - Stm32\ncategories:\n  - [Embedded]\n  - [Rust]\n  - [Stm32]\n---\n\n#  rust  stm32 stm32f3discovery-blink-rtic\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\n```rust\n#![no_main]\n#![no_std]\n\n// Use panic_semihosting instead of panic_halt.\nuse panic_semihosting as _;\nuse rtic::{app, cyccnt::U32Ext};\nuse stm32f3xx_hal::{\n    gpio::{gpioe::PE10, Output, PushPull},\n    prelude::*,\n};\n\nconst PERIOD: u32 = 10_000_000;\n\n\n// This is the entry of the program.\n// monotonic is needed for schedule API\n#[app(device=stm32f3xx_hal::pac,peripherals=true, monotonic=rtic::cyccnt::CYCCNT)]\nconst APP: () = {\n    // This is the resource which will be shared in interrupt functions.\n    struct Resources {\n        led: PE10<Output<PushPull>>,\n    }\n\n    // The init function will be executed first with interrupts disabled.\n    // The idle function will be executed after init function with interrupts enabled.\n    // We don't use the function here.\n    // When no idle function is declared, the runtime sets the SLEEPONEXIT bit and then\n    // sends the microcontroller to sleep after running init.\n\n    #[init(schedule = [blinker])]\n    fn init(cx: init::Context) -> init::LateResources {\n        let mut core = cx.core;\n        core.DWT.enable_cycle_counter();\n\n        // Do not use pac::Peripherals::take().unwrap() to create the device handle.\n        let dp: stm32f3xx_hal::pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n\n        let mut gpioe = dp.GPIOE.split(&mut rcc.ahb);\n        let mut pe10 = gpioe\n            .pe10\n            .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper);\n\n        pe10.set_high().unwrap();\n\n        cx.schedule.blinker(cx.start + PERIOD.cycles()).unwrap();\n        init::LateResources { led: pe10 }\n    }\n\n    #[task(resources=[led],schedule=[blinker])]\n    fn blinker(cx: blinker::Context) {\n        cx.resources.led.toggle().unwrap();\n        cx.schedule.blinker(cx.scheduled + PERIOD.cycles()).unwrap();\n    }\n\n    extern \"C\" {\n        fn EXTI0();\n    }\n};\n```\n","slug":"develop-stm32-with-rust-stm32f3discovery-blink-rtic","published":1,"updated":"2021-06-19T15:17:49.403Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9cg001fdbiz5mcz7vin","content":"<h1 id=\"-rust--stm32-stm32f3discovery-blink-rtic\"><a href=\"#-rust--stm32-stm32f3discovery-blink-rtic\" class=\"headerlink\" title=\" rust  stm32 stm32f3discovery-blink-rtic\"></a> rust  stm32 stm32f3discovery-blink-rtic</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token comment\">// Use panic_semihosting instead of panic_halt.</span>\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">rtic<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>app<span class=\"token punctuation\">,</span> <span class=\"token namespace\">cyccnt<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">U32Ext</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f3xx_hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token namespace\">gpio<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token namespace\">gpioe<span class=\"token punctuation\">::</span></span><span class=\"token constant\">PE10</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Output</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">PushPull</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">PERIOD</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">u32</span> <span class=\"token operator\">=</span> <span class=\"token number\">10_000_000</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token comment\">// This is the entry of the program.</span>\n<span class=\"token comment\">// monotonic is needed for schedule API</span>\n<span class=\"token attribute attr-name\">#[app(device=stm32f3xx_hal::pac,peripherals=true, monotonic=rtic::cyccnt::CYCCNT)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// This is the resource which will be shared in interrupt functions.</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span>\n        led<span class=\"token punctuation\">:</span> <span class=\"token constant\">PE10</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Output</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">PushPull</span><span class=\"token operator\">>></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token comment\">// The init function will be executed first with interrupts disabled.</span>\n    <span class=\"token comment\">// The idle function will be executed after init function with interrupts enabled.</span>\n    <span class=\"token comment\">// We don't use the function here.</span>\n    <span class=\"token comment\">// When no idle function is declared, the runtime sets the SLEEPONEXIT bit and then</span>\n    <span class=\"token comment\">// sends the microcontroller to sleep after running init.</span>\n\n    #<span class=\"token punctuation\">[</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span>schedule <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>blinker<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">LateResources</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> core <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">;</span>\n        core<span class=\"token punctuation\">.</span><span class=\"token constant\">DWT</span><span class=\"token punctuation\">.</span><span class=\"token function\">enable_cycle_counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Do not use pac::Peripherals::take().unwrap() to create the device handle.</span>\n        <span class=\"token keyword\">let</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">stm32f3xx_hal<span class=\"token punctuation\">::</span>pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioe <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> pe10 <span class=\"token operator\">=</span> gpioe\n            <span class=\"token punctuation\">.</span>pe10\n            <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        pe10<span class=\"token punctuation\">.</span><span class=\"token function\">set_high</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        cx<span class=\"token punctuation\">.</span>schedule<span class=\"token punctuation\">.</span><span class=\"token function\">blinker</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">.</span>start <span class=\"token operator\">+</span> <span class=\"token constant\">PERIOD</span><span class=\"token punctuation\">.</span><span class=\"token function\">cycles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">LateResources</span> <span class=\"token punctuation\">&#123;</span> led<span class=\"token punctuation\">:</span> pe10 <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    #<span class=\"token punctuation\">[</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span>resources<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>led<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>schedule<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>blinker<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">blinker</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">blinker<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        cx<span class=\"token punctuation\">.</span>resources<span class=\"token punctuation\">.</span>led<span class=\"token punctuation\">.</span><span class=\"token function\">toggle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        cx<span class=\"token punctuation\">.</span>schedule<span class=\"token punctuation\">.</span><span class=\"token function\">blinker</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">.</span>scheduled <span class=\"token operator\">+</span> <span class=\"token constant\">PERIOD</span><span class=\"token punctuation\">.</span><span class=\"token function\">cycles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">EXTI0</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-rust--stm32-stm32f3discovery-blink-rtic\"><a href=\"#-rust--stm32-stm32f3discovery-blink-rtic\" class=\"headerlink\" title=\" rust  stm32 stm32f3discovery-blink-rtic\"></a> rust  stm32 stm32f3discovery-blink-rtic</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token comment\">// Use panic_semihosting instead of panic_halt.</span>\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">rtic<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>app<span class=\"token punctuation\">,</span> <span class=\"token namespace\">cyccnt<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">U32Ext</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f3xx_hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token namespace\">gpio<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token namespace\">gpioe<span class=\"token punctuation\">::</span></span><span class=\"token constant\">PE10</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Output</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">PushPull</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">PERIOD</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">u32</span> <span class=\"token operator\">=</span> <span class=\"token number\">10_000_000</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token comment\">// This is the entry of the program.</span>\n<span class=\"token comment\">// monotonic is needed for schedule API</span>\n<span class=\"token attribute attr-name\">#[app(device=stm32f3xx_hal::pac,peripherals=true, monotonic=rtic::cyccnt::CYCCNT)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// This is the resource which will be shared in interrupt functions.</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span>\n        led<span class=\"token punctuation\">:</span> <span class=\"token constant\">PE10</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Output</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">PushPull</span><span class=\"token operator\">>></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token comment\">// The init function will be executed first with interrupts disabled.</span>\n    <span class=\"token comment\">// The idle function will be executed after init function with interrupts enabled.</span>\n    <span class=\"token comment\">// We don't use the function here.</span>\n    <span class=\"token comment\">// When no idle function is declared, the runtime sets the SLEEPONEXIT bit and then</span>\n    <span class=\"token comment\">// sends the microcontroller to sleep after running init.</span>\n\n    #<span class=\"token punctuation\">[</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span>schedule <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>blinker<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">LateResources</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> core <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">;</span>\n        core<span class=\"token punctuation\">.</span><span class=\"token constant\">DWT</span><span class=\"token punctuation\">.</span><span class=\"token function\">enable_cycle_counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Do not use pac::Peripherals::take().unwrap() to create the device handle.</span>\n        <span class=\"token keyword\">let</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">stm32f3xx_hal<span class=\"token punctuation\">::</span>pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioe <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> pe10 <span class=\"token operator\">=</span> gpioe\n            <span class=\"token punctuation\">.</span>pe10\n            <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        pe10<span class=\"token punctuation\">.</span><span class=\"token function\">set_high</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        cx<span class=\"token punctuation\">.</span>schedule<span class=\"token punctuation\">.</span><span class=\"token function\">blinker</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">.</span>start <span class=\"token operator\">+</span> <span class=\"token constant\">PERIOD</span><span class=\"token punctuation\">.</span><span class=\"token function\">cycles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">LateResources</span> <span class=\"token punctuation\">&#123;</span> led<span class=\"token punctuation\">:</span> pe10 <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    #<span class=\"token punctuation\">[</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span>resources<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>led<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>schedule<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>blinker<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">blinker</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">blinker<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        cx<span class=\"token punctuation\">.</span>resources<span class=\"token punctuation\">.</span>led<span class=\"token punctuation\">.</span><span class=\"token function\">toggle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        cx<span class=\"token punctuation\">.</span>schedule<span class=\"token punctuation\">.</span><span class=\"token function\">blinker</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">.</span>scheduled <span class=\"token operator\">+</span> <span class=\"token constant\">PERIOD</span><span class=\"token punctuation\">.</span><span class=\"token function\">cycles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">EXTI0</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Develop Stm32 with Rust stm32f3discovery-can-rtic","date":"2021-06-20T00:21:29.000Z","_content":"\n#  rust  stm32 stm32f3discovery-can-rtic\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\nDon't forget to enable `can` feature of `stm32f3xx_hal` crate.\n\n```rust\n#![no_main]\n#![no_std]\n\nuse cortex_m::asm;\nuse hal::{\n    can::{Can, CanFilter, CanFrame, CanId, Filter, Frame, Receiver, Transmitter},\n    prelude::*,\n    rcc::RccExt,\n    watchdog::IndependentWatchDog,\n};\nuse nb::block;\nuse panic_semihosting as _;\nuse stm32f3xx_hal as hal;\n\nconst ID: u16 = 0b100;\n\n#[rtic::app(device = stm32f3xx_hal::pac, peripherals = true)]\nconst APP: () = {\n    struct Resources {}\n\n    #[init]\n    fn init(cx: init::Context) {\n        let dp: hal::pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n        let mut gpioe = dp.GPIOE.split(&mut rcc.ahb);\n        let mut gpioa = dp.GPIOA.split(&mut rcc.ahb);\n        let _clocks = rcc\n            .cfgr\n            .use_hse(32.MHz())\n            .sysclk(32.MHz())\n            .pclk1(16.MHz())\n            .pclk2(16.MHz())\n            .freeze(&mut dp.FLASH.constrain().acr);\n\n        // Configure CAN RX and TX pins.\n        let rx =\n            gpioa\n                .pa11\n                .into_af9_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrh);\n        let tx =\n            gpioa\n                .pa12\n                .into_af9_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrh);\n\n        // Initialize the CAN peripheral\n        let can = Can::new(dp.CAN, rx, tx, &mut rcc.apb1);\n\n        // Uncomment the following line to enable CAN interrupts\n        // can.listen(Event::Fifo0Fmp);\n\n        let (mut tx, mut rx0, _rx1) = can.split();\n\n        let mut led0 = gpioe\n            .pe9\n            .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper);\n        led0.set_high().unwrap();\n\n        let filter = CanFilter::from_mask(0b100, ID.into());\n        rx0.set_filter(filter);\n\n        // Watchdog makes sure this gets restarted periodically if nothing happens\n        let mut iwdg = IndependentWatchDog::new(dp.IWDG);\n        iwdg.stop_on_debug(&dp.DBGMCU, true);\n        iwdg.start(100.milliseconds());\n\n        // Send an initial message!\n        asm::delay(100_000);\n        let data: [u8; 1] = [0];\n\n        let frame = CanFrame::new_data(CanId::BaseId(ID), &data);\n\n        block!(tx.transmit(&frame)).expect(\"Cannot send first CAN frame\");\n\n        loop {\n            let rcv_frame = block!(rx0.receive()).expect(\"Cannot receive CAN frame\");\n\n            if let Some(d) = rcv_frame.data() {\n                let counter = d[0].wrapping_add(1);\n\n                if counter % 3 == 0 {\n                    led0.toggle().unwrap();\n                }\n\n                let data: [u8; 1] = [counter];\n                let frame = CanFrame::new_data(CanId::BaseId(ID), &data);\n\n                block!(tx.transmit(&frame)).expect(\"Cannot send CAN frame\");\n            }\n\n            iwdg.feed();\n\n            asm::delay(1_000_000);\n        }\n    }\n};\n```\n","source":"_posts/develop-stm32-with-rust-stm32f3discovery-can-rtic.md","raw":"---\ntitle: Develop Stm32 with Rust stm32f3discovery-can-rtic\ndate: 2021-06-20 08:21:29\ntags:\n  - Rust\n  - Stm32\ncategories:\n  - [Embedded]\n  - [Rust]\n  - [Stm32]\n---\n\n#  rust  stm32 stm32f3discovery-can-rtic\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\nDon't forget to enable `can` feature of `stm32f3xx_hal` crate.\n\n```rust\n#![no_main]\n#![no_std]\n\nuse cortex_m::asm;\nuse hal::{\n    can::{Can, CanFilter, CanFrame, CanId, Filter, Frame, Receiver, Transmitter},\n    prelude::*,\n    rcc::RccExt,\n    watchdog::IndependentWatchDog,\n};\nuse nb::block;\nuse panic_semihosting as _;\nuse stm32f3xx_hal as hal;\n\nconst ID: u16 = 0b100;\n\n#[rtic::app(device = stm32f3xx_hal::pac, peripherals = true)]\nconst APP: () = {\n    struct Resources {}\n\n    #[init]\n    fn init(cx: init::Context) {\n        let dp: hal::pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n        let mut gpioe = dp.GPIOE.split(&mut rcc.ahb);\n        let mut gpioa = dp.GPIOA.split(&mut rcc.ahb);\n        let _clocks = rcc\n            .cfgr\n            .use_hse(32.MHz())\n            .sysclk(32.MHz())\n            .pclk1(16.MHz())\n            .pclk2(16.MHz())\n            .freeze(&mut dp.FLASH.constrain().acr);\n\n        // Configure CAN RX and TX pins.\n        let rx =\n            gpioa\n                .pa11\n                .into_af9_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrh);\n        let tx =\n            gpioa\n                .pa12\n                .into_af9_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrh);\n\n        // Initialize the CAN peripheral\n        let can = Can::new(dp.CAN, rx, tx, &mut rcc.apb1);\n\n        // Uncomment the following line to enable CAN interrupts\n        // can.listen(Event::Fifo0Fmp);\n\n        let (mut tx, mut rx0, _rx1) = can.split();\n\n        let mut led0 = gpioe\n            .pe9\n            .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper);\n        led0.set_high().unwrap();\n\n        let filter = CanFilter::from_mask(0b100, ID.into());\n        rx0.set_filter(filter);\n\n        // Watchdog makes sure this gets restarted periodically if nothing happens\n        let mut iwdg = IndependentWatchDog::new(dp.IWDG);\n        iwdg.stop_on_debug(&dp.DBGMCU, true);\n        iwdg.start(100.milliseconds());\n\n        // Send an initial message!\n        asm::delay(100_000);\n        let data: [u8; 1] = [0];\n\n        let frame = CanFrame::new_data(CanId::BaseId(ID), &data);\n\n        block!(tx.transmit(&frame)).expect(\"Cannot send first CAN frame\");\n\n        loop {\n            let rcv_frame = block!(rx0.receive()).expect(\"Cannot receive CAN frame\");\n\n            if let Some(d) = rcv_frame.data() {\n                let counter = d[0].wrapping_add(1);\n\n                if counter % 3 == 0 {\n                    led0.toggle().unwrap();\n                }\n\n                let data: [u8; 1] = [counter];\n                let frame = CanFrame::new_data(CanId::BaseId(ID), &data);\n\n                block!(tx.transmit(&frame)).expect(\"Cannot send CAN frame\");\n            }\n\n            iwdg.feed();\n\n            asm::delay(1_000_000);\n        }\n    }\n};\n```\n","slug":"develop-stm32-with-rust-stm32f3discovery-can-rtic","published":1,"updated":"2021-06-20T00:23:07.035Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9ch001idbiz4bd5f5xe","content":"<h1 id=\"-rust--stm32-stm32f3discovery-can-rtic\"><a href=\"#-rust--stm32-stm32f3discovery-can-rtic\" class=\"headerlink\" title=\" rust  stm32 stm32f3discovery-can-rtic\"></a> rust  stm32 stm32f3discovery-can-rtic</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<p>Dont forget to enable <code>can</code> feature of <code>stm32f3xx_hal</code> crate.</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span></span>asm<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token namespace\">can<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token class-name\">Can</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">CanFilter</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">CanFrame</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">CanId</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Filter</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Frame</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Receiver</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Transmitter</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">rcc<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">RccExt</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">watchdog<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">IndependentWatchDog</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">nb<span class=\"token punctuation\">::</span></span>block<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> stm32f3xx_hal <span class=\"token keyword\">as</span> hal<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">ID</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">u16</span> <span class=\"token operator\">=</span> <span class=\"token number\">0b100</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[rtic::app(device = stm32f3xx_hal::pac, peripherals = true)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[init]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span>pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioe <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioa <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOA</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> _clocks <span class=\"token operator\">=</span> rcc\n            <span class=\"token punctuation\">.</span>cfgr\n            <span class=\"token punctuation\">.</span><span class=\"token function\">use_hse</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">sysclk</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">pclk1</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">pclk2</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Configure CAN RX and TX pins.</span>\n        <span class=\"token keyword\">let</span> rx <span class=\"token operator\">=</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa11\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af9_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> tx <span class=\"token operator\">=</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa12\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af9_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Initialize the CAN peripheral</span>\n        <span class=\"token keyword\">let</span> can <span class=\"token operator\">=</span> <span class=\"token class-name\">Can</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">CAN</span><span class=\"token punctuation\">,</span> rx<span class=\"token punctuation\">,</span> tx<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>apb1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Uncomment the following line to enable CAN interrupts</span>\n        <span class=\"token comment\">// can.listen(Event::Fifo0Fmp);</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">mut</span> tx<span class=\"token punctuation\">,</span> <span class=\"token keyword\">mut</span> rx0<span class=\"token punctuation\">,</span> _rx1<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> can<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> led0 <span class=\"token operator\">=</span> gpioe\n            <span class=\"token punctuation\">.</span>pe9\n            <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        led0<span class=\"token punctuation\">.</span><span class=\"token function\">set_high</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> filter <span class=\"token operator\">=</span> <span class=\"token class-name\">CanFilter</span><span class=\"token punctuation\">::</span><span class=\"token function\">from_mask</span><span class=\"token punctuation\">(</span><span class=\"token number\">0b100</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">ID</span><span class=\"token punctuation\">.</span><span class=\"token function\">into</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        rx0<span class=\"token punctuation\">.</span><span class=\"token function\">set_filter</span><span class=\"token punctuation\">(</span>filter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Watchdog makes sure this gets restarted periodically if nothing happens</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> iwdg <span class=\"token operator\">=</span> <span class=\"token class-name\">IndependentWatchDog</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">IWDG</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        iwdg<span class=\"token punctuation\">.</span><span class=\"token function\">stop_on_debug</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">DBGMCU</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        iwdg<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">.</span><span class=\"token function\">milliseconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Send an initial message!</span>\n        <span class=\"token namespace\">asm<span class=\"token punctuation\">::</span></span><span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">100_000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> data<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">u8</span><span class=\"token punctuation\">;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> frame <span class=\"token operator\">=</span> <span class=\"token class-name\">CanFrame</span><span class=\"token punctuation\">::</span><span class=\"token function\">new_data</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CanId</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">BaseId</span><span class=\"token punctuation\">(</span><span class=\"token constant\">ID</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token macro property\">block!</span><span class=\"token punctuation\">(</span>tx<span class=\"token punctuation\">.</span><span class=\"token function\">transmit</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>frame<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cannot send first CAN frame\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">let</span> rcv_frame <span class=\"token operator\">=</span> <span class=\"token macro property\">block!</span><span class=\"token punctuation\">(</span>rx0<span class=\"token punctuation\">.</span><span class=\"token function\">receive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cannot receive CAN frame\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> rcv_frame<span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token keyword\">let</span> counter <span class=\"token operator\">=</span> d<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">wrapping_add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n                <span class=\"token keyword\">if</span> counter <span class=\"token operator\">%</span> <span class=\"token number\">3</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span>\n                    led0<span class=\"token punctuation\">.</span><span class=\"token function\">toggle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">&#125;</span>\n\n                <span class=\"token keyword\">let</span> data<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">u8</span><span class=\"token punctuation\">;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>counter<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">let</span> frame <span class=\"token operator\">=</span> <span class=\"token class-name\">CanFrame</span><span class=\"token punctuation\">::</span><span class=\"token function\">new_data</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CanId</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">BaseId</span><span class=\"token punctuation\">(</span><span class=\"token constant\">ID</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n                <span class=\"token macro property\">block!</span><span class=\"token punctuation\">(</span>tx<span class=\"token punctuation\">.</span><span class=\"token function\">transmit</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>frame<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cannot send CAN frame\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">&#125;</span>\n\n            iwdg<span class=\"token punctuation\">.</span><span class=\"token function\">feed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token namespace\">asm<span class=\"token punctuation\">::</span></span><span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">1_000_000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-rust--stm32-stm32f3discovery-can-rtic\"><a href=\"#-rust--stm32-stm32f3discovery-can-rtic\" class=\"headerlink\" title=\" rust  stm32 stm32f3discovery-can-rtic\"></a> rust  stm32 stm32f3discovery-can-rtic</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<p>Dont forget to enable <code>can</code> feature of <code>stm32f3xx_hal</code> crate.</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span></span>asm<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token namespace\">can<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token class-name\">Can</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">CanFilter</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">CanFrame</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">CanId</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Filter</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Frame</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Receiver</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Transmitter</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">rcc<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">RccExt</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">watchdog<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">IndependentWatchDog</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">nb<span class=\"token punctuation\">::</span></span>block<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> stm32f3xx_hal <span class=\"token keyword\">as</span> hal<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">ID</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">u16</span> <span class=\"token operator\">=</span> <span class=\"token number\">0b100</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[rtic::app(device = stm32f3xx_hal::pac, peripherals = true)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[init]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span>pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioe <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioa <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOA</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> _clocks <span class=\"token operator\">=</span> rcc\n            <span class=\"token punctuation\">.</span>cfgr\n            <span class=\"token punctuation\">.</span><span class=\"token function\">use_hse</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">sysclk</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">pclk1</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">pclk2</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Configure CAN RX and TX pins.</span>\n        <span class=\"token keyword\">let</span> rx <span class=\"token operator\">=</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa11\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af9_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> tx <span class=\"token operator\">=</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa12\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af9_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Initialize the CAN peripheral</span>\n        <span class=\"token keyword\">let</span> can <span class=\"token operator\">=</span> <span class=\"token class-name\">Can</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">CAN</span><span class=\"token punctuation\">,</span> rx<span class=\"token punctuation\">,</span> tx<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>apb1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Uncomment the following line to enable CAN interrupts</span>\n        <span class=\"token comment\">// can.listen(Event::Fifo0Fmp);</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">mut</span> tx<span class=\"token punctuation\">,</span> <span class=\"token keyword\">mut</span> rx0<span class=\"token punctuation\">,</span> _rx1<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> can<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> led0 <span class=\"token operator\">=</span> gpioe\n            <span class=\"token punctuation\">.</span>pe9\n            <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        led0<span class=\"token punctuation\">.</span><span class=\"token function\">set_high</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> filter <span class=\"token operator\">=</span> <span class=\"token class-name\">CanFilter</span><span class=\"token punctuation\">::</span><span class=\"token function\">from_mask</span><span class=\"token punctuation\">(</span><span class=\"token number\">0b100</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">ID</span><span class=\"token punctuation\">.</span><span class=\"token function\">into</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        rx0<span class=\"token punctuation\">.</span><span class=\"token function\">set_filter</span><span class=\"token punctuation\">(</span>filter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Watchdog makes sure this gets restarted periodically if nothing happens</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> iwdg <span class=\"token operator\">=</span> <span class=\"token class-name\">IndependentWatchDog</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">IWDG</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        iwdg<span class=\"token punctuation\">.</span><span class=\"token function\">stop_on_debug</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">DBGMCU</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        iwdg<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">.</span><span class=\"token function\">milliseconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Send an initial message!</span>\n        <span class=\"token namespace\">asm<span class=\"token punctuation\">::</span></span><span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">100_000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> data<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">u8</span><span class=\"token punctuation\">;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> frame <span class=\"token operator\">=</span> <span class=\"token class-name\">CanFrame</span><span class=\"token punctuation\">::</span><span class=\"token function\">new_data</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CanId</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">BaseId</span><span class=\"token punctuation\">(</span><span class=\"token constant\">ID</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token macro property\">block!</span><span class=\"token punctuation\">(</span>tx<span class=\"token punctuation\">.</span><span class=\"token function\">transmit</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>frame<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cannot send first CAN frame\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">let</span> rcv_frame <span class=\"token operator\">=</span> <span class=\"token macro property\">block!</span><span class=\"token punctuation\">(</span>rx0<span class=\"token punctuation\">.</span><span class=\"token function\">receive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cannot receive CAN frame\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> rcv_frame<span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token keyword\">let</span> counter <span class=\"token operator\">=</span> d<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">wrapping_add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n                <span class=\"token keyword\">if</span> counter <span class=\"token operator\">%</span> <span class=\"token number\">3</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span>\n                    led0<span class=\"token punctuation\">.</span><span class=\"token function\">toggle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">&#125;</span>\n\n                <span class=\"token keyword\">let</span> data<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">u8</span><span class=\"token punctuation\">;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>counter<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">let</span> frame <span class=\"token operator\">=</span> <span class=\"token class-name\">CanFrame</span><span class=\"token punctuation\">::</span><span class=\"token function\">new_data</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CanId</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">BaseId</span><span class=\"token punctuation\">(</span><span class=\"token constant\">ID</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n                <span class=\"token macro property\">block!</span><span class=\"token punctuation\">(</span>tx<span class=\"token punctuation\">.</span><span class=\"token function\">transmit</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>frame<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cannot send CAN frame\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">&#125;</span>\n\n            iwdg<span class=\"token punctuation\">.</span><span class=\"token function\">feed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token namespace\">asm<span class=\"token punctuation\">::</span></span><span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">1_000_000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Develop Stm32 with Rust stm32f3discovery-horse-race-lamp-rtic","date":"2021-06-19T14:31:19.000Z","_content":"\n#  rust  stm32 stm32f3discovery-horse-race-lamp-rtic\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\nThe example below has an error that `*const (dyn gpio::private::GpioRegExt + 'static)` cannot be sent between threads safely. This is caused by the field `leds` in struct `Resources`. If you want to fix the error, you have to give up erasing GPIOs, and use the way used in the previous example instead.\n\nIf you want to use a value in different tasks with different priority, it must implement `Send` trait to keep the transfer safe. But if you use a value in different tasks with the same priority, there is no need for the value to implement `Send` trait. Here, the `leds` is assigned in `init` in LateResources struct who has the lowest priority and is used in a task named `blinker` whose priority is 1.\n\n```rust\n#![no_main]\n#![no_std]\n\nuse panic_semihosting as _;\nuse rtic::{app, cyccnt::U32Ext};\nuse stm32f3xx_hal::{\n    gpio::{Gpiox, Output, Pin, PushPull, Ux},\n    prelude::*,\n};\n\nconst PERIOD: u32 = 10_000_000;\n\n#[app(device=stm32f3xx_hal::pac,peripherals=true, monotonic=rtic::cyccnt::CYCCNT)]\nconst APP: () = {\n    struct Resources {\n        leds: [Pin<Gpiox, Ux, Output<PushPull>>; 8],\n        index: u32,\n    }\n\n    #[init(schedule = [blinker])]\n    fn init(cx: init::Context) -> init::LateResources {\n        let mut core = cx.core;\n        core.DWT.enable_cycle_counter();\n\n        let dp: stm32f3xx_hal::pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n\n        let mut gpioe = dp.GPIOE.split(&mut rcc.ahb);\n        let mut leds = [\n            gpioe\n                .pe8\n                .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper)\n                .downgrade()\n                .downgrade(),\n            gpioe\n                .pe9\n                .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper)\n                .downgrade()\n                .downgrade(),\n            gpioe\n                .pe10\n                .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper)\n                .downgrade()\n                .downgrade(),\n            gpioe\n                .pe11\n                .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper)\n                .downgrade()\n                .downgrade(),\n            gpioe\n                .pe12\n                .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper)\n                .downgrade()\n                .downgrade(),\n            gpioe\n                .pe13\n                .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper)\n                .downgrade()\n                .downgrade(),\n            gpioe\n                .pe14\n                .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper)\n                .downgrade()\n                .downgrade(),\n            gpioe\n                .pe15\n                .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper)\n                .downgrade()\n                .downgrade(),\n        ];\n\n        cx.schedule.blinker(cx.start + PERIOD.cycles()).unwrap();\n        init::LateResources { leds, index: 0 }\n    }\n\n    #[task(resources=[leds,index],schedule=[blinker])]\n    fn blinker(cx: blinker::Context) {\n        let mut index = cx.resources.index;\n        cx.resources.leds[*index as usize].toggle().unwrap();\n        *index = if *index == 0 { 7 } else { *index + 1 };\n        cx.resources.leds[*index as usize].toggle().unwrap();\n        cx.schedule.blinker(cx.scheduled + PERIOD.cycles()).unwrap();\n    }\n\n    extern \"C\" {\n        fn EXTI0();\n    }\n};\n```\n","source":"_posts/develop-stm32-with-rust-stm32f3discovery-horse-race-lamp-rtic.md","raw":"---\ntitle: Develop Stm32 with Rust stm32f3discovery-horse-race-lamp-rtic\ndate: 2021-06-19 22:31:19\ntags:\n  - Rust\n  - Stm32\ncategories:\n  - [Embedded]\n  - [Rust]\n  - [Stm32]\n---\n\n#  rust  stm32 stm32f3discovery-horse-race-lamp-rtic\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\nThe example below has an error that `*const (dyn gpio::private::GpioRegExt + 'static)` cannot be sent between threads safely. This is caused by the field `leds` in struct `Resources`. If you want to fix the error, you have to give up erasing GPIOs, and use the way used in the previous example instead.\n\nIf you want to use a value in different tasks with different priority, it must implement `Send` trait to keep the transfer safe. But if you use a value in different tasks with the same priority, there is no need for the value to implement `Send` trait. Here, the `leds` is assigned in `init` in LateResources struct who has the lowest priority and is used in a task named `blinker` whose priority is 1.\n\n```rust\n#![no_main]\n#![no_std]\n\nuse panic_semihosting as _;\nuse rtic::{app, cyccnt::U32Ext};\nuse stm32f3xx_hal::{\n    gpio::{Gpiox, Output, Pin, PushPull, Ux},\n    prelude::*,\n};\n\nconst PERIOD: u32 = 10_000_000;\n\n#[app(device=stm32f3xx_hal::pac,peripherals=true, monotonic=rtic::cyccnt::CYCCNT)]\nconst APP: () = {\n    struct Resources {\n        leds: [Pin<Gpiox, Ux, Output<PushPull>>; 8],\n        index: u32,\n    }\n\n    #[init(schedule = [blinker])]\n    fn init(cx: init::Context) -> init::LateResources {\n        let mut core = cx.core;\n        core.DWT.enable_cycle_counter();\n\n        let dp: stm32f3xx_hal::pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n\n        let mut gpioe = dp.GPIOE.split(&mut rcc.ahb);\n        let mut leds = [\n            gpioe\n                .pe8\n                .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper)\n                .downgrade()\n                .downgrade(),\n            gpioe\n                .pe9\n                .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper)\n                .downgrade()\n                .downgrade(),\n            gpioe\n                .pe10\n                .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper)\n                .downgrade()\n                .downgrade(),\n            gpioe\n                .pe11\n                .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper)\n                .downgrade()\n                .downgrade(),\n            gpioe\n                .pe12\n                .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper)\n                .downgrade()\n                .downgrade(),\n            gpioe\n                .pe13\n                .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper)\n                .downgrade()\n                .downgrade(),\n            gpioe\n                .pe14\n                .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper)\n                .downgrade()\n                .downgrade(),\n            gpioe\n                .pe15\n                .into_push_pull_output(&mut gpioe.moder, &mut gpioe.otyper)\n                .downgrade()\n                .downgrade(),\n        ];\n\n        cx.schedule.blinker(cx.start + PERIOD.cycles()).unwrap();\n        init::LateResources { leds, index: 0 }\n    }\n\n    #[task(resources=[leds,index],schedule=[blinker])]\n    fn blinker(cx: blinker::Context) {\n        let mut index = cx.resources.index;\n        cx.resources.leds[*index as usize].toggle().unwrap();\n        *index = if *index == 0 { 7 } else { *index + 1 };\n        cx.resources.leds[*index as usize].toggle().unwrap();\n        cx.schedule.blinker(cx.scheduled + PERIOD.cycles()).unwrap();\n    }\n\n    extern \"C\" {\n        fn EXTI0();\n    }\n};\n```\n","slug":"develop-stm32-with-rust-stm32f3discovery-horse-race-lamp-rtic","published":1,"updated":"2021-06-19T15:17:54.197Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9ci001kdbizdri58777","content":"<h1 id=\"-rust--stm32-stm32f3discovery-horse-race-lamp-rtic\"><a href=\"#-rust--stm32-stm32f3discovery-horse-race-lamp-rtic\" class=\"headerlink\" title=\" rust  stm32 stm32f3discovery-horse-race-lamp-rtic\"></a> rust  stm32 stm32f3discovery-horse-race-lamp-rtic</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<p>The example below has an error that <code>*const (dyn gpio::private::GpioRegExt + &#39;static)</code> cannot be sent between threads safely. This is caused by the field <code>leds</code> in struct <code>Resources</code>. If you want to fix the error, you have to give up erasing GPIOs, and use the way used in the previous example instead.</p>\n<p>If you want to use a value in different tasks with different priority, it must implement <code>Send</code> trait to keep the transfer safe. But if you use a value in different tasks with the same priority, there is no need for the value to implement <code>Send</code> trait. Here, the <code>leds</code> is assigned in <code>init</code> in LateResources struct who has the lowest priority and is used in a task named <code>blinker</code> whose priority is 1.</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">rtic<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>app<span class=\"token punctuation\">,</span> <span class=\"token namespace\">cyccnt<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">U32Ext</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f3xx_hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token namespace\">gpio<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token class-name\">Gpiox</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Output</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Pin</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">PushPull</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Ux</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">PERIOD</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">u32</span> <span class=\"token operator\">=</span> <span class=\"token number\">10_000_000</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[app(device=stm32f3xx_hal::pac,peripherals=true, monotonic=rtic::cyccnt::CYCCNT)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span>\n        leds<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">Pin</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Gpiox</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Ux</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Output</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">PushPull</span><span class=\"token operator\">>></span><span class=\"token punctuation\">;</span> <span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        index<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u32</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    #<span class=\"token punctuation\">[</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span>schedule <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>blinker<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">LateResources</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> core <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">;</span>\n        core<span class=\"token punctuation\">.</span><span class=\"token constant\">DWT</span><span class=\"token punctuation\">.</span><span class=\"token function\">enable_cycle_counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">stm32f3xx_hal<span class=\"token punctuation\">::</span>pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioe <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> leds <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n            gpioe\n                <span class=\"token punctuation\">.</span>pe8\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioe\n                <span class=\"token punctuation\">.</span>pe9\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioe\n                <span class=\"token punctuation\">.</span>pe10\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioe\n                <span class=\"token punctuation\">.</span>pe11\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioe\n                <span class=\"token punctuation\">.</span>pe12\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioe\n                <span class=\"token punctuation\">.</span>pe13\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioe\n                <span class=\"token punctuation\">.</span>pe14\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioe\n                <span class=\"token punctuation\">.</span>pe15\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n        cx<span class=\"token punctuation\">.</span>schedule<span class=\"token punctuation\">.</span><span class=\"token function\">blinker</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">.</span>start <span class=\"token operator\">+</span> <span class=\"token constant\">PERIOD</span><span class=\"token punctuation\">.</span><span class=\"token function\">cycles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">LateResources</span> <span class=\"token punctuation\">&#123;</span> leds<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    #<span class=\"token punctuation\">[</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span>resources<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>leds<span class=\"token punctuation\">,</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>schedule<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>blinker<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">blinker</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">blinker<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> index <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>resources<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">;</span>\n        cx<span class=\"token punctuation\">.</span>resources<span class=\"token punctuation\">.</span>leds<span class=\"token punctuation\">[</span><span class=\"token operator\">*</span>index <span class=\"token keyword\">as</span> <span class=\"token keyword\">usize</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">toggle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token operator\">*</span>index <span class=\"token operator\">=</span> <span class=\"token keyword\">if</span> <span class=\"token operator\">*</span>index <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token number\">7</span> <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token operator\">*</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n        cx<span class=\"token punctuation\">.</span>resources<span class=\"token punctuation\">.</span>leds<span class=\"token punctuation\">[</span><span class=\"token operator\">*</span>index <span class=\"token keyword\">as</span> <span class=\"token keyword\">usize</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">toggle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        cx<span class=\"token punctuation\">.</span>schedule<span class=\"token punctuation\">.</span><span class=\"token function\">blinker</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">.</span>scheduled <span class=\"token operator\">+</span> <span class=\"token constant\">PERIOD</span><span class=\"token punctuation\">.</span><span class=\"token function\">cycles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">EXTI0</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-rust--stm32-stm32f3discovery-horse-race-lamp-rtic\"><a href=\"#-rust--stm32-stm32f3discovery-horse-race-lamp-rtic\" class=\"headerlink\" title=\" rust  stm32 stm32f3discovery-horse-race-lamp-rtic\"></a> rust  stm32 stm32f3discovery-horse-race-lamp-rtic</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<p>The example below has an error that <code>*const (dyn gpio::private::GpioRegExt + &#39;static)</code> cannot be sent between threads safely. This is caused by the field <code>leds</code> in struct <code>Resources</code>. If you want to fix the error, you have to give up erasing GPIOs, and use the way used in the previous example instead.</p>\n<p>If you want to use a value in different tasks with different priority, it must implement <code>Send</code> trait to keep the transfer safe. But if you use a value in different tasks with the same priority, there is no need for the value to implement <code>Send</code> trait. Here, the <code>leds</code> is assigned in <code>init</code> in LateResources struct who has the lowest priority and is used in a task named <code>blinker</code> whose priority is 1.</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">rtic<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>app<span class=\"token punctuation\">,</span> <span class=\"token namespace\">cyccnt<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">U32Ext</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f3xx_hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token namespace\">gpio<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token class-name\">Gpiox</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Output</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Pin</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">PushPull</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Ux</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">PERIOD</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">u32</span> <span class=\"token operator\">=</span> <span class=\"token number\">10_000_000</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[app(device=stm32f3xx_hal::pac,peripherals=true, monotonic=rtic::cyccnt::CYCCNT)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span>\n        leds<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">Pin</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Gpiox</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Ux</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Output</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">PushPull</span><span class=\"token operator\">>></span><span class=\"token punctuation\">;</span> <span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        index<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u32</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    #<span class=\"token punctuation\">[</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span>schedule <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>blinker<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">LateResources</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> core <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">;</span>\n        core<span class=\"token punctuation\">.</span><span class=\"token constant\">DWT</span><span class=\"token punctuation\">.</span><span class=\"token function\">enable_cycle_counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">stm32f3xx_hal<span class=\"token punctuation\">::</span>pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioe <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOE</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> leds <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n            gpioe\n                <span class=\"token punctuation\">.</span>pe8\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioe\n                <span class=\"token punctuation\">.</span>pe9\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioe\n                <span class=\"token punctuation\">.</span>pe10\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioe\n                <span class=\"token punctuation\">.</span>pe11\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioe\n                <span class=\"token punctuation\">.</span>pe12\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioe\n                <span class=\"token punctuation\">.</span>pe13\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioe\n                <span class=\"token punctuation\">.</span>pe14\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioe\n                <span class=\"token punctuation\">.</span>pe15\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_push_pull_output</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioe<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">downgrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n        cx<span class=\"token punctuation\">.</span>schedule<span class=\"token punctuation\">.</span><span class=\"token function\">blinker</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">.</span>start <span class=\"token operator\">+</span> <span class=\"token constant\">PERIOD</span><span class=\"token punctuation\">.</span><span class=\"token function\">cycles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">LateResources</span> <span class=\"token punctuation\">&#123;</span> leds<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    #<span class=\"token punctuation\">[</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span>resources<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>leds<span class=\"token punctuation\">,</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>schedule<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>blinker<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">blinker</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">blinker<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> index <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>resources<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">;</span>\n        cx<span class=\"token punctuation\">.</span>resources<span class=\"token punctuation\">.</span>leds<span class=\"token punctuation\">[</span><span class=\"token operator\">*</span>index <span class=\"token keyword\">as</span> <span class=\"token keyword\">usize</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">toggle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token operator\">*</span>index <span class=\"token operator\">=</span> <span class=\"token keyword\">if</span> <span class=\"token operator\">*</span>index <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token number\">7</span> <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token operator\">*</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n        cx<span class=\"token punctuation\">.</span>resources<span class=\"token punctuation\">.</span>leds<span class=\"token punctuation\">[</span><span class=\"token operator\">*</span>index <span class=\"token keyword\">as</span> <span class=\"token keyword\">usize</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">toggle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        cx<span class=\"token punctuation\">.</span>schedule<span class=\"token punctuation\">.</span><span class=\"token function\">blinker</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">.</span>scheduled <span class=\"token operator\">+</span> <span class=\"token constant\">PERIOD</span><span class=\"token punctuation\">.</span><span class=\"token function\">cycles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">EXTI0</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Develop Stm32 with Rust stm32f3discovery-i2c-rtic","date":"2021-06-19T15:00:58.000Z","_content":"\n#  rust  stm32 stm32f3discovery-i2c-rtic\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\n```rust\n#![no_main]\n#![no_std]\n\nuse core::ops::Range;\nuse cortex_m::asm;\nuse cortex_m_semihosting::{hprint, hprintln};\nuse hal::{prelude::*, rcc::RccExt};\nuse panic_semihosting as _;\nuse stm32f3xx_hal as hal;\n\nconst VALID_ADDR_RANGE: Range<u8> = 0x08..0x78;\n\n#[rtic::app(device = stm32f3xx_hal::pac, peripherals = true)]\nconst APP: () = {\n    struct Resources {}\n\n    #[init]\n    fn init(cx: init::Context) {\n        let dp: hal::pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n        let clocks = rcc.cfgr.freeze(&mut dp.FLASH.constrain().acr);\n        let mut gpiob = dp.GPIOB.split(&mut rcc.ahb);\n\n        // Configure I2C\n        let mut scl =\n            gpiob\n                .pb6\n                .into_af4_open_drain(&mut gpiob.moder, &mut gpiob.otyper, &mut gpiob.afrl);\n        let mut sda =\n            gpiob\n                .pb7\n                .into_af4_open_drain(&mut gpiob.moder, &mut gpiob.otyper, &mut gpiob.afrl);\n\n        scl.internal_pull_up(&mut gpiob.pupdr, true);\n        sda.internal_pull_up(&mut gpiob.pupdr, true);\n\n        let mut i2c =\n            hal::i2c::I2c::new(dp.I2C1, (scl, sda), 100_000_u32.Hz(), clocks, &mut rcc.apb1);\n\n        hprintln!(\"Start I2C scanning\").unwrap();\n        hprintln!(\"\").unwrap();\n\n        // Travers the address, try to write data to the address, test whether the address is\n        // writable.\n        for addr in 0x00_u8..0x80 {\n            if VALID_ADDR_RANGE.contains(&addr) && i2c.write(addr, &[]).is_ok() {\n                // If the address is writable, print it.\n                hprint!(\"{:02x}\", addr).unwrap();\n            } else {\n                hprint!(\"..\").unwrap();\n            }\n            if addr % 0x10 == 0x0f {\n                hprintln!(\"\").unwrap();\n            }\n        }\n        hprintln!().unwrap();\n        hprintln!(\"Done!\").unwrap();\n        loop {\n            asm::wfi();\n        }\n    }\n};\n```\n","source":"_posts/develop-stm32-with-rust-stm32f3discovery-i2c-rtic.md","raw":"---\ntitle: Develop Stm32 with Rust stm32f3discovery-i2c-rtic\ndate: 2021-06-19 23:00:58\ntags:\n  - Rust\n  - Stm32\ncategories:\n  - [Embedded]\n  - [Rust]\n  - [Stm32]\n---\n\n#  rust  stm32 stm32f3discovery-i2c-rtic\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\n```rust\n#![no_main]\n#![no_std]\n\nuse core::ops::Range;\nuse cortex_m::asm;\nuse cortex_m_semihosting::{hprint, hprintln};\nuse hal::{prelude::*, rcc::RccExt};\nuse panic_semihosting as _;\nuse stm32f3xx_hal as hal;\n\nconst VALID_ADDR_RANGE: Range<u8> = 0x08..0x78;\n\n#[rtic::app(device = stm32f3xx_hal::pac, peripherals = true)]\nconst APP: () = {\n    struct Resources {}\n\n    #[init]\n    fn init(cx: init::Context) {\n        let dp: hal::pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n        let clocks = rcc.cfgr.freeze(&mut dp.FLASH.constrain().acr);\n        let mut gpiob = dp.GPIOB.split(&mut rcc.ahb);\n\n        // Configure I2C\n        let mut scl =\n            gpiob\n                .pb6\n                .into_af4_open_drain(&mut gpiob.moder, &mut gpiob.otyper, &mut gpiob.afrl);\n        let mut sda =\n            gpiob\n                .pb7\n                .into_af4_open_drain(&mut gpiob.moder, &mut gpiob.otyper, &mut gpiob.afrl);\n\n        scl.internal_pull_up(&mut gpiob.pupdr, true);\n        sda.internal_pull_up(&mut gpiob.pupdr, true);\n\n        let mut i2c =\n            hal::i2c::I2c::new(dp.I2C1, (scl, sda), 100_000_u32.Hz(), clocks, &mut rcc.apb1);\n\n        hprintln!(\"Start I2C scanning\").unwrap();\n        hprintln!(\"\").unwrap();\n\n        // Travers the address, try to write data to the address, test whether the address is\n        // writable.\n        for addr in 0x00_u8..0x80 {\n            if VALID_ADDR_RANGE.contains(&addr) && i2c.write(addr, &[]).is_ok() {\n                // If the address is writable, print it.\n                hprint!(\"{:02x}\", addr).unwrap();\n            } else {\n                hprint!(\"..\").unwrap();\n            }\n            if addr % 0x10 == 0x0f {\n                hprintln!(\"\").unwrap();\n            }\n        }\n        hprintln!().unwrap();\n        hprintln!(\"Done!\").unwrap();\n        loop {\n            asm::wfi();\n        }\n    }\n};\n```\n","slug":"develop-stm32-with-rust-stm32f3discovery-i2c-rtic","published":1,"updated":"2021-06-19T15:16:50.025Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9ck001odbizch14a7j3","content":"<h1 id=\"-rust--stm32-stm32f3discovery-i2c-rtic\"><a href=\"#-rust--stm32-stm32f3discovery-i2c-rtic\" class=\"headerlink\" title=\" rust  stm32 stm32f3discovery-i2c-rtic\"></a> rust  stm32 stm32f3discovery-i2c-rtic</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">core<span class=\"token punctuation\">::</span>ops<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Range</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span></span>asm<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_semihosting<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>hprint<span class=\"token punctuation\">,</span> hprintln<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token namespace\">rcc<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">RccExt</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> stm32f3xx_hal <span class=\"token keyword\">as</span> hal<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">VALID_ADDR_RANGE</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Range</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">u8</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token number\">0x08</span><span class=\"token punctuation\">..</span><span class=\"token number\">0x78</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[rtic::app(device = stm32f3xx_hal::pac, peripherals = true)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[init]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span>pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> clocks <span class=\"token operator\">=</span> rcc<span class=\"token punctuation\">.</span>cfgr<span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpiob <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOB</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Configure I2C</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> scl <span class=\"token operator\">=</span>\n            gpiob\n                <span class=\"token punctuation\">.</span>pb6\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af4_open_drain</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>afrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> sda <span class=\"token operator\">=</span>\n            gpiob\n                <span class=\"token punctuation\">.</span>pb7\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af4_open_drain</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>afrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        scl<span class=\"token punctuation\">.</span><span class=\"token function\">internal_pull_up</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>pupdr<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        sda<span class=\"token punctuation\">.</span><span class=\"token function\">internal_pull_up</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>pupdr<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> i2c <span class=\"token operator\">=</span>\n            <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span>i2c<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">I2c</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">I2C1</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>scl<span class=\"token punctuation\">,</span> sda<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100_000_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">Hz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> clocks<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>apb1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Start I2C scanning\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Travers the address, try to write data to the address, test whether the address is</span>\n        <span class=\"token comment\">// writable.</span>\n        <span class=\"token keyword\">for</span> addr <span class=\"token keyword\">in</span> <span class=\"token number\">0x00_u8</span><span class=\"token punctuation\">..</span><span class=\"token number\">0x80</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token constant\">VALID_ADDR_RANGE</span><span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>addr<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> i2c<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>addr<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">is_ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token comment\">// If the address is writable, print it.</span>\n                <span class=\"token macro property\">hprint!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;:02x&#125;\"</span><span class=\"token punctuation\">,</span> addr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token macro property\">hprint!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"..\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token keyword\">if</span> addr <span class=\"token operator\">%</span> <span class=\"token number\">0x10</span> <span class=\"token operator\">==</span> <span class=\"token number\">0x0f</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Done!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token namespace\">asm<span class=\"token punctuation\">::</span></span><span class=\"token function\">wfi</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-rust--stm32-stm32f3discovery-i2c-rtic\"><a href=\"#-rust--stm32-stm32f3discovery-i2c-rtic\" class=\"headerlink\" title=\" rust  stm32 stm32f3discovery-i2c-rtic\"></a> rust  stm32 stm32f3discovery-i2c-rtic</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">core<span class=\"token punctuation\">::</span>ops<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Range</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span></span>asm<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_semihosting<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>hprint<span class=\"token punctuation\">,</span> hprintln<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token namespace\">rcc<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">RccExt</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> stm32f3xx_hal <span class=\"token keyword\">as</span> hal<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">VALID_ADDR_RANGE</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Range</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">u8</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token number\">0x08</span><span class=\"token punctuation\">..</span><span class=\"token number\">0x78</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[rtic::app(device = stm32f3xx_hal::pac, peripherals = true)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[init]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span>pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> clocks <span class=\"token operator\">=</span> rcc<span class=\"token punctuation\">.</span>cfgr<span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpiob <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOB</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Configure I2C</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> scl <span class=\"token operator\">=</span>\n            gpiob\n                <span class=\"token punctuation\">.</span>pb6\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af4_open_drain</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>afrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> sda <span class=\"token operator\">=</span>\n            gpiob\n                <span class=\"token punctuation\">.</span>pb7\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af4_open_drain</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>afrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        scl<span class=\"token punctuation\">.</span><span class=\"token function\">internal_pull_up</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>pupdr<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        sda<span class=\"token punctuation\">.</span><span class=\"token function\">internal_pull_up</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>pupdr<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> i2c <span class=\"token operator\">=</span>\n            <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span>i2c<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">I2c</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">I2C1</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>scl<span class=\"token punctuation\">,</span> sda<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100_000_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">Hz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> clocks<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>apb1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Start I2C scanning\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Travers the address, try to write data to the address, test whether the address is</span>\n        <span class=\"token comment\">// writable.</span>\n        <span class=\"token keyword\">for</span> addr <span class=\"token keyword\">in</span> <span class=\"token number\">0x00_u8</span><span class=\"token punctuation\">..</span><span class=\"token number\">0x80</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token constant\">VALID_ADDR_RANGE</span><span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>addr<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> i2c<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>addr<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">is_ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token comment\">// If the address is writable, print it.</span>\n                <span class=\"token macro property\">hprint!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;:02x&#125;\"</span><span class=\"token punctuation\">,</span> addr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token macro property\">hprint!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"..\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token keyword\">if</span> addr <span class=\"token operator\">%</span> <span class=\"token number\">0x10</span> <span class=\"token operator\">==</span> <span class=\"token number\">0x0f</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Done!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token namespace\">asm<span class=\"token punctuation\">::</span></span><span class=\"token function\">wfi</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Develop Stm32 with Rust stm32f3discovery-pwm-rtic","date":"2021-06-19T14:38:50.000Z","_content":"\n#  rust  stm32 stm32f3discovery-pwm-rtic\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\n```rust\n#![no_main]\n#![no_std]\n\nuse panic_semihosting as _;\nuse rtic::app;\nuse stm32f3xx_hal::{pac, prelude::*, pwm::tim2, rcc::RccExt};\n\n#[app(device = stm32f3xx_hal::pac, peripherals = true)]\nconst APP: () = {\n    struct Resources {}\n\n    #[init]\n    fn init(cx: init::Context) {\n        let dp: pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n\n        let mut flash = dp.FLASH.constrain();\n        let clocks = rcc.cfgr.sysclk(16_u32.MHz()).freeze(&mut flash.acr);\n\n        let mut gpiob = dp.GPIOB.split(&mut rcc.ahb);\n        let pb10 =\n            gpiob\n                .pb10\n                .into_af1_push_pull(&mut gpiob.moder, &mut gpiob.otyper, &mut gpiob.afrh);\n\n        let tim2_channels = tim2(dp.TIM2, 160_000, 50_u32.Hz(), &clocks);\n\n        let mut tim2_ch3 = tim2_channels.2.output_to_pb10(pb10);\n        tim2_ch3.set_duty(tim2_ch3.get_max_duty() / 4); // 25% duty cycle\n        tim2_ch3.enable();\n    }\n};\n```\n","source":"_posts/develop-stm32-with-rust-stm32f3discovery-pwm-rtic.md","raw":"---\ntitle: Develop Stm32 with Rust stm32f3discovery-pwm-rtic\ndate: 2021-06-19 22:38:50\ntags:\n  - Rust\n  - Stm32\ncategories:\n  - [Embedded]\n  - [Rust]\n  - [Stm32]\n---\n\n#  rust  stm32 stm32f3discovery-pwm-rtic\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\n```rust\n#![no_main]\n#![no_std]\n\nuse panic_semihosting as _;\nuse rtic::app;\nuse stm32f3xx_hal::{pac, prelude::*, pwm::tim2, rcc::RccExt};\n\n#[app(device = stm32f3xx_hal::pac, peripherals = true)]\nconst APP: () = {\n    struct Resources {}\n\n    #[init]\n    fn init(cx: init::Context) {\n        let dp: pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n\n        let mut flash = dp.FLASH.constrain();\n        let clocks = rcc.cfgr.sysclk(16_u32.MHz()).freeze(&mut flash.acr);\n\n        let mut gpiob = dp.GPIOB.split(&mut rcc.ahb);\n        let pb10 =\n            gpiob\n                .pb10\n                .into_af1_push_pull(&mut gpiob.moder, &mut gpiob.otyper, &mut gpiob.afrh);\n\n        let tim2_channels = tim2(dp.TIM2, 160_000, 50_u32.Hz(), &clocks);\n\n        let mut tim2_ch3 = tim2_channels.2.output_to_pb10(pb10);\n        tim2_ch3.set_duty(tim2_ch3.get_max_duty() / 4); // 25% duty cycle\n        tim2_ch3.enable();\n    }\n};\n```\n","slug":"develop-stm32-with-rust-stm32f3discovery-pwm-rtic","published":1,"updated":"2021-06-19T15:18:04.368Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9cl001qdbizdvz1az3q","content":"<h1 id=\"-rust--stm32-stm32f3discovery-pwm-rtic\"><a href=\"#-rust--stm32-stm32f3discovery-pwm-rtic\" class=\"headerlink\" title=\" rust  stm32 stm32f3discovery-pwm-rtic\"></a> rust  stm32 stm32f3discovery-pwm-rtic</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">rtic<span class=\"token punctuation\">::</span></span>app<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f3xx_hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>pac<span class=\"token punctuation\">,</span> <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token namespace\">pwm<span class=\"token punctuation\">::</span></span>tim2<span class=\"token punctuation\">,</span> <span class=\"token namespace\">rcc<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">RccExt</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[app(device = stm32f3xx_hal::pac, peripherals = true)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[init]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> flash <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> clocks <span class=\"token operator\">=</span> rcc<span class=\"token punctuation\">.</span>cfgr<span class=\"token punctuation\">.</span><span class=\"token function\">sysclk</span><span class=\"token punctuation\">(</span><span class=\"token number\">16_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> flash<span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpiob <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOB</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> pb10 <span class=\"token operator\">=</span>\n            gpiob\n                <span class=\"token punctuation\">.</span>pb10\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af1_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>afrh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> tim2_channels <span class=\"token operator\">=</span> <span class=\"token function\">tim2</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">TIM2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">160_000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">Hz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>clocks<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> tim2_ch3 <span class=\"token operator\">=</span> tim2_channels<span class=\"token number\">.2</span><span class=\"token punctuation\">.</span><span class=\"token function\">output_to_pb10</span><span class=\"token punctuation\">(</span>pb10<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        tim2_ch3<span class=\"token punctuation\">.</span><span class=\"token function\">set_duty</span><span class=\"token punctuation\">(</span>tim2_ch3<span class=\"token punctuation\">.</span><span class=\"token function\">get_max_duty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 25% duty cycle</span>\n        tim2_ch3<span class=\"token punctuation\">.</span><span class=\"token function\">enable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-rust--stm32-stm32f3discovery-pwm-rtic\"><a href=\"#-rust--stm32-stm32f3discovery-pwm-rtic\" class=\"headerlink\" title=\" rust  stm32 stm32f3discovery-pwm-rtic\"></a> rust  stm32 stm32f3discovery-pwm-rtic</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">rtic<span class=\"token punctuation\">::</span></span>app<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">stm32f3xx_hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>pac<span class=\"token punctuation\">,</span> <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token namespace\">pwm<span class=\"token punctuation\">::</span></span>tim2<span class=\"token punctuation\">,</span> <span class=\"token namespace\">rcc<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">RccExt</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[app(device = stm32f3xx_hal::pac, peripherals = true)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[init]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> flash <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> clocks <span class=\"token operator\">=</span> rcc<span class=\"token punctuation\">.</span>cfgr<span class=\"token punctuation\">.</span><span class=\"token function\">sysclk</span><span class=\"token punctuation\">(</span><span class=\"token number\">16_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> flash<span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpiob <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOB</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> pb10 <span class=\"token operator\">=</span>\n            gpiob\n                <span class=\"token punctuation\">.</span>pb10\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af1_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpiob<span class=\"token punctuation\">.</span>afrh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> tim2_channels <span class=\"token operator\">=</span> <span class=\"token function\">tim2</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">TIM2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">160_000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">Hz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>clocks<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> tim2_ch3 <span class=\"token operator\">=</span> tim2_channels<span class=\"token number\">.2</span><span class=\"token punctuation\">.</span><span class=\"token function\">output_to_pb10</span><span class=\"token punctuation\">(</span>pb10<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        tim2_ch3<span class=\"token punctuation\">.</span><span class=\"token function\">set_duty</span><span class=\"token punctuation\">(</span>tim2_ch3<span class=\"token punctuation\">.</span><span class=\"token function\">get_max_duty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 25% duty cycle</span>\n        tim2_ch3<span class=\"token punctuation\">.</span><span class=\"token function\">enable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Develop Stm32 with Rust stm32f3discovery-serial-rtic","date":"2021-06-19T14:55:04.000Z","_content":"\n#  rust  stm32 stm32f3discovery-serial-rtic\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\nSince `tx`, `tx_buf`, `tx_channel` will be moved in use, I have not found a way to use USART with DMA and Interrupt.\n\n## Serial\n\n```rust\n#![no_main]\n#![no_std]\n\nuse hal::{pac, prelude::*, serial::Serial};\nuse panic_semihosting as _;\nuse rtic::app;\nuse stm32f3xx_hal as hal;\n\n#[app(device = stm32f3xx_hal::pac, peripherals = true)]\nconst APP: () = {\n    struct Resources {}\n\n    #[init]\n    fn init(cx: init::Context) {\n        let dp: pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n        let clock = rcc\n            .cfgr\n            .sysclk(48_u32.MHz())\n            .freeze(&mut dp.FLASH.constrain().acr);\n        let mut gpioa = dp.GPIOA.split(&mut rcc.ahb);\n\n        let pins = (\n            gpioa\n                .pa9\n                .into_af7_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrh),\n            gpioa\n                .pa10\n                .into_af7_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrh),\n        );\n\n        let mut serial = Serial::usart1(dp.USART1, pins, 9600_u32.Bd(), clock, &mut rcc.apb2);\n\n        let mut send: u8 = 'a' as u8;\n\n        serial.write(send).unwrap();\n\n        send = 'b' as u8;\n\n        // Wait for the first send operation complete.\n        cortex_m::asm::delay(10000000);\n\n        // serial can be used multiple times.\n        serial.write(send).unwrap();\n\n        let (mut tx, _rx) = serial.split();\n\n        cortex_m::asm::delay(10000000);\n\n        // tx can also be used multiple times.\n        tx.write(send).unwrap();\n\n        cortex_m::asm::delay(10000000);\n\n        tx.write(send).unwrap();\n    }\n\n    #[idle]\n    fn idle(_cx: idle::Context) -> ! {\n        loop {\n            cortex_m::asm::nop();\n        }\n    }\n};\n```\n\n## Serial with DMA\n\n```rust\n#![no_main]\n#![no_std]\n\nuse cortex_m::singleton;\nuse cortex_m_semihosting::hprintln;\nuse hal::{pac, prelude::*, serial::Serial};\nuse panic_semihosting as _;\nuse rtic::app;\nuse stm32f3xx_hal as hal;\n\n#[app(device = stm32f3xx_hal::pac, peripherals = true)]\nconst APP: () = {\n    struct Resources {}\n\n    #[init]\n    fn init(cx: init::Context) {\n        let dp: pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n        let clock = rcc\n            .cfgr\n            .sysclk(48_u32.MHz())\n            .freeze(&mut dp.FLASH.constrain().acr);\n        let mut gpioa = dp.GPIOA.split(&mut rcc.ahb);\n\n        let pins = (\n            gpioa\n                .pa9\n                .into_af7_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrh),\n            gpioa\n                .pa10\n                .into_af7_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrh),\n        );\n\n        let serial = Serial::usart1(dp.USART1, pins, 9600_u32.Bd(), clock, &mut rcc.apb2);\n\n        let (tx, rx) = serial.split();\n\n        let dma1 = dp.DMA1.split(&mut rcc.ahb);\n\n        let tx_buf = singleton!(:[u8;8]=*b\"hello321\").unwrap();\n\n        let rx_buf = singleton!(:[u8;8]=[0;8]).unwrap();\n\n        let (tx_channel, rx_channel) = (dma1.ch4, dma1.ch5);\n\n        // tx, tx_buf, tx_channel will be moved here.\n        // The data will be sent here.\n        let sending = tx.write_all(tx_buf, tx_channel);\n        // The data will not be read here.\n        let receiving = rx.read_exact(rx_buf, rx_channel);\n\n        // tx, tx_buf, tx_channel are regenerated here.\n        // Method `wait` waits for the send operation complete.\n        let (_tx_buf, _tx_channel, _tx) = sending.wait();\n        // Wait for data to be received.\n        let (rx_buf, _rx_channel, _rx) = receiving.wait();\n\n        for i in 0..rx_buf.len() {\n            hprintln!(\"{}\", rx_buf[i] as char).unwrap();\n        }\n    }\n\n    #[idle]\n    fn idle(_cx: idle::Context) -> ! {\n        loop {\n            cortex_m::asm::nop();\n        }\n    }\n};\n```\n\n## Serial with Interrupt\n\n```rust\n#![no_main]\n#![no_std]\n\nuse cortex_m_semihosting::hprintln;\nuse hal::{\n    gpio::{self, PushPull, AF7},\n    pac::USART1,\n    prelude::*,\n    rcc::RccExt,\n    serial::{Event, Serial},\n};\n\nuse panic_semihosting as _;\nuse stm32f3xx_hal as hal;\n\ntype SerialType = Serial<\n    USART1,\n    (\n        gpio::gpioa::PA9<AF7<PushPull>>,\n        gpio::gpioa::PA10<AF7<PushPull>>,\n    ),\n>;\n\n#[rtic::app(device = stm32f3xx_hal::pac, peripherals = true)]\nconst APP: () = {\n    struct Resources {\n        serial: SerialType,\n    }\n\n    #[init]\n    fn init(cx: init::Context) -> init::LateResources {\n        let dp: hal::pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n        let clocks = rcc\n            .cfgr\n            .sysclk(48_u32.MHz())\n            .freeze(&mut dp.FLASH.constrain().acr);\n        let mut gpioa = dp.GPIOA.split(&mut rcc.ahb);\n\n        let pins = (\n            gpioa\n                .pa9\n                .into_af7_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrh),\n            gpioa\n                .pa10\n                .into_af7_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrh),\n        );\n\n        let mut serial = Serial::usart1(dp.USART1, pins, 9600_u32.Bd(), clocks, &mut rcc.apb2);\n\n        serial.listen(Event::Rxne);\n\n        init::LateResources { serial }\n    }\n\n    #[task(binds = USART1_EXTI25, resources = [serial])]\n    fn serial(cx: serial::Context) {\n        let serial: &mut SerialType = cx.resources.serial;\n\n        if serial.is_rxne() {\n            serial.unlisten(Event::Rxne);\n            match serial.read() {\n                Ok(byte) => {\n                    serial.write(byte).unwrap();\n                    serial.listen(Event::Tc);\n                    // This will cause a few millisecond to execute the function.\n                    // And this will result in partial data not being received.\n                    // hprintln!(\"{}\", byte as char).unwrap();\n                }\n\n                Err(_error) => {\n                    hprintln!(\"read error\").unwrap();\n                }\n            }\n        }\n\n        if serial.is_tc() {\n            serial.unlisten(Event::Tc);\n            serial.listen(Event::Rxne);\n        }\n    }\n};\n```\n","source":"_posts/develop-stm32-with-rust-stm32f3discovery-serial-rtic.md","raw":"---\ntitle: Develop Stm32 with Rust stm32f3discovery-serial-rtic\ndate: 2021-06-19 22:55:04\ntags:\n  - Rust\n  - Stm32\ncategories:\n  - [Embedded]\n  - [Rust]\n  - [Stm32]\n---\n\n#  rust  stm32 stm32f3discovery-serial-rtic\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\nSince `tx`, `tx_buf`, `tx_channel` will be moved in use, I have not found a way to use USART with DMA and Interrupt.\n\n## Serial\n\n```rust\n#![no_main]\n#![no_std]\n\nuse hal::{pac, prelude::*, serial::Serial};\nuse panic_semihosting as _;\nuse rtic::app;\nuse stm32f3xx_hal as hal;\n\n#[app(device = stm32f3xx_hal::pac, peripherals = true)]\nconst APP: () = {\n    struct Resources {}\n\n    #[init]\n    fn init(cx: init::Context) {\n        let dp: pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n        let clock = rcc\n            .cfgr\n            .sysclk(48_u32.MHz())\n            .freeze(&mut dp.FLASH.constrain().acr);\n        let mut gpioa = dp.GPIOA.split(&mut rcc.ahb);\n\n        let pins = (\n            gpioa\n                .pa9\n                .into_af7_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrh),\n            gpioa\n                .pa10\n                .into_af7_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrh),\n        );\n\n        let mut serial = Serial::usart1(dp.USART1, pins, 9600_u32.Bd(), clock, &mut rcc.apb2);\n\n        let mut send: u8 = 'a' as u8;\n\n        serial.write(send).unwrap();\n\n        send = 'b' as u8;\n\n        // Wait for the first send operation complete.\n        cortex_m::asm::delay(10000000);\n\n        // serial can be used multiple times.\n        serial.write(send).unwrap();\n\n        let (mut tx, _rx) = serial.split();\n\n        cortex_m::asm::delay(10000000);\n\n        // tx can also be used multiple times.\n        tx.write(send).unwrap();\n\n        cortex_m::asm::delay(10000000);\n\n        tx.write(send).unwrap();\n    }\n\n    #[idle]\n    fn idle(_cx: idle::Context) -> ! {\n        loop {\n            cortex_m::asm::nop();\n        }\n    }\n};\n```\n\n## Serial with DMA\n\n```rust\n#![no_main]\n#![no_std]\n\nuse cortex_m::singleton;\nuse cortex_m_semihosting::hprintln;\nuse hal::{pac, prelude::*, serial::Serial};\nuse panic_semihosting as _;\nuse rtic::app;\nuse stm32f3xx_hal as hal;\n\n#[app(device = stm32f3xx_hal::pac, peripherals = true)]\nconst APP: () = {\n    struct Resources {}\n\n    #[init]\n    fn init(cx: init::Context) {\n        let dp: pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n        let clock = rcc\n            .cfgr\n            .sysclk(48_u32.MHz())\n            .freeze(&mut dp.FLASH.constrain().acr);\n        let mut gpioa = dp.GPIOA.split(&mut rcc.ahb);\n\n        let pins = (\n            gpioa\n                .pa9\n                .into_af7_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrh),\n            gpioa\n                .pa10\n                .into_af7_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrh),\n        );\n\n        let serial = Serial::usart1(dp.USART1, pins, 9600_u32.Bd(), clock, &mut rcc.apb2);\n\n        let (tx, rx) = serial.split();\n\n        let dma1 = dp.DMA1.split(&mut rcc.ahb);\n\n        let tx_buf = singleton!(:[u8;8]=*b\"hello321\").unwrap();\n\n        let rx_buf = singleton!(:[u8;8]=[0;8]).unwrap();\n\n        let (tx_channel, rx_channel) = (dma1.ch4, dma1.ch5);\n\n        // tx, tx_buf, tx_channel will be moved here.\n        // The data will be sent here.\n        let sending = tx.write_all(tx_buf, tx_channel);\n        // The data will not be read here.\n        let receiving = rx.read_exact(rx_buf, rx_channel);\n\n        // tx, tx_buf, tx_channel are regenerated here.\n        // Method `wait` waits for the send operation complete.\n        let (_tx_buf, _tx_channel, _tx) = sending.wait();\n        // Wait for data to be received.\n        let (rx_buf, _rx_channel, _rx) = receiving.wait();\n\n        for i in 0..rx_buf.len() {\n            hprintln!(\"{}\", rx_buf[i] as char).unwrap();\n        }\n    }\n\n    #[idle]\n    fn idle(_cx: idle::Context) -> ! {\n        loop {\n            cortex_m::asm::nop();\n        }\n    }\n};\n```\n\n## Serial with Interrupt\n\n```rust\n#![no_main]\n#![no_std]\n\nuse cortex_m_semihosting::hprintln;\nuse hal::{\n    gpio::{self, PushPull, AF7},\n    pac::USART1,\n    prelude::*,\n    rcc::RccExt,\n    serial::{Event, Serial},\n};\n\nuse panic_semihosting as _;\nuse stm32f3xx_hal as hal;\n\ntype SerialType = Serial<\n    USART1,\n    (\n        gpio::gpioa::PA9<AF7<PushPull>>,\n        gpio::gpioa::PA10<AF7<PushPull>>,\n    ),\n>;\n\n#[rtic::app(device = stm32f3xx_hal::pac, peripherals = true)]\nconst APP: () = {\n    struct Resources {\n        serial: SerialType,\n    }\n\n    #[init]\n    fn init(cx: init::Context) -> init::LateResources {\n        let dp: hal::pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n        let clocks = rcc\n            .cfgr\n            .sysclk(48_u32.MHz())\n            .freeze(&mut dp.FLASH.constrain().acr);\n        let mut gpioa = dp.GPIOA.split(&mut rcc.ahb);\n\n        let pins = (\n            gpioa\n                .pa9\n                .into_af7_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrh),\n            gpioa\n                .pa10\n                .into_af7_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrh),\n        );\n\n        let mut serial = Serial::usart1(dp.USART1, pins, 9600_u32.Bd(), clocks, &mut rcc.apb2);\n\n        serial.listen(Event::Rxne);\n\n        init::LateResources { serial }\n    }\n\n    #[task(binds = USART1_EXTI25, resources = [serial])]\n    fn serial(cx: serial::Context) {\n        let serial: &mut SerialType = cx.resources.serial;\n\n        if serial.is_rxne() {\n            serial.unlisten(Event::Rxne);\n            match serial.read() {\n                Ok(byte) => {\n                    serial.write(byte).unwrap();\n                    serial.listen(Event::Tc);\n                    // This will cause a few millisecond to execute the function.\n                    // And this will result in partial data not being received.\n                    // hprintln!(\"{}\", byte as char).unwrap();\n                }\n\n                Err(_error) => {\n                    hprintln!(\"read error\").unwrap();\n                }\n            }\n        }\n\n        if serial.is_tc() {\n            serial.unlisten(Event::Tc);\n            serial.listen(Event::Rxne);\n        }\n    }\n};\n```\n","slug":"develop-stm32-with-rust-stm32f3discovery-serial-rtic","published":1,"updated":"2021-06-19T15:18:09.615Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9cm001tdbiz3lcd0st8","content":"<h1 id=\"-rust--stm32-stm32f3discovery-serial-rtic\"><a href=\"#-rust--stm32-stm32f3discovery-serial-rtic\" class=\"headerlink\" title=\" rust  stm32 stm32f3discovery-serial-rtic\"></a> rust  stm32 stm32f3discovery-serial-rtic</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<p>Since <code>tx</code>, <code>tx_buf</code>, <code>tx_channel</code> will be moved in use, I have not found a way to use USART with DMA and Interrupt.</p>\n<h2 id=\"Serial\"><a href=\"#Serial\" class=\"headerlink\" title=\"Serial\"></a>Serial</h2><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>pac<span class=\"token punctuation\">,</span> <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token namespace\">serial<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Serial</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">rtic<span class=\"token punctuation\">::</span></span>app<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> stm32f3xx_hal <span class=\"token keyword\">as</span> hal<span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[app(device = stm32f3xx_hal::pac, peripherals = true)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[init]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> clock <span class=\"token operator\">=</span> rcc\n            <span class=\"token punctuation\">.</span>cfgr\n            <span class=\"token punctuation\">.</span><span class=\"token function\">sysclk</span><span class=\"token punctuation\">(</span><span class=\"token number\">48_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioa <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOA</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> pins <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa9\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af7_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa10\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af7_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> serial <span class=\"token operator\">=</span> <span class=\"token class-name\">Serial</span><span class=\"token punctuation\">::</span><span class=\"token function\">usart1</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">USART1</span><span class=\"token punctuation\">,</span> pins<span class=\"token punctuation\">,</span> <span class=\"token number\">9600_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">Bd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> clock<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>apb2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> send<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u8</span> <span class=\"token operator\">=</span> <span class=\"token char string\">'a'</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">u8</span><span class=\"token punctuation\">;</span>\n\n        serial<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>send<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        send <span class=\"token operator\">=</span> <span class=\"token char string\">'b'</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">u8</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Wait for the first send operation complete.</span>\n        <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span>asm<span class=\"token punctuation\">::</span></span><span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">10000000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// serial can be used multiple times.</span>\n        serial<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>send<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">mut</span> tx<span class=\"token punctuation\">,</span> _rx<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> serial<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span>asm<span class=\"token punctuation\">::</span></span><span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">10000000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// tx can also be used multiple times.</span>\n        tx<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>send<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span>asm<span class=\"token punctuation\">::</span></span><span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">10000000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        tx<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>send<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[idle]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">idle</span><span class=\"token punctuation\">(</span>_cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">idle<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">!</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span>asm<span class=\"token punctuation\">::</span></span><span class=\"token function\">nop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"Serial-with-DMA\"><a href=\"#Serial-with-DMA\" class=\"headerlink\" title=\"Serial with DMA\"></a>Serial with DMA</h2><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span></span>singleton<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_semihosting<span class=\"token punctuation\">::</span></span>hprintln<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>pac<span class=\"token punctuation\">,</span> <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token namespace\">serial<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Serial</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">rtic<span class=\"token punctuation\">::</span></span>app<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> stm32f3xx_hal <span class=\"token keyword\">as</span> hal<span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[app(device = stm32f3xx_hal::pac, peripherals = true)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[init]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> clock <span class=\"token operator\">=</span> rcc\n            <span class=\"token punctuation\">.</span>cfgr\n            <span class=\"token punctuation\">.</span><span class=\"token function\">sysclk</span><span class=\"token punctuation\">(</span><span class=\"token number\">48_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioa <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOA</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> pins <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa9\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af7_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa10\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af7_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> serial <span class=\"token operator\">=</span> <span class=\"token class-name\">Serial</span><span class=\"token punctuation\">::</span><span class=\"token function\">usart1</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">USART1</span><span class=\"token punctuation\">,</span> pins<span class=\"token punctuation\">,</span> <span class=\"token number\">9600_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">Bd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> clock<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>apb2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token punctuation\">(</span>tx<span class=\"token punctuation\">,</span> rx<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> serial<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> dma1 <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">DMA1</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> tx_buf <span class=\"token operator\">=</span> <span class=\"token macro property\">singleton!</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">[</span><span class=\"token keyword\">u8</span><span class=\"token punctuation\">;</span><span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token operator\">*</span><span class=\"token string\">b\"hello321\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> rx_buf <span class=\"token operator\">=</span> <span class=\"token macro property\">singleton!</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">[</span><span class=\"token keyword\">u8</span><span class=\"token punctuation\">;</span><span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token punctuation\">(</span>tx_channel<span class=\"token punctuation\">,</span> rx_channel<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>dma1<span class=\"token punctuation\">.</span>ch4<span class=\"token punctuation\">,</span> dma1<span class=\"token punctuation\">.</span>ch5<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// tx, tx_buf, tx_channel will be moved here.</span>\n        <span class=\"token comment\">// The data will be sent here.</span>\n        <span class=\"token keyword\">let</span> sending <span class=\"token operator\">=</span> tx<span class=\"token punctuation\">.</span><span class=\"token function\">write_all</span><span class=\"token punctuation\">(</span>tx_buf<span class=\"token punctuation\">,</span> tx_channel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// The data will not be read here.</span>\n        <span class=\"token keyword\">let</span> receiving <span class=\"token operator\">=</span> rx<span class=\"token punctuation\">.</span><span class=\"token function\">read_exact</span><span class=\"token punctuation\">(</span>rx_buf<span class=\"token punctuation\">,</span> rx_channel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// tx, tx_buf, tx_channel are regenerated here.</span>\n        <span class=\"token comment\">// Method `wait` waits for the send operation complete.</span>\n        <span class=\"token keyword\">let</span> <span class=\"token punctuation\">(</span>_tx_buf<span class=\"token punctuation\">,</span> _tx_channel<span class=\"token punctuation\">,</span> _tx<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> sending<span class=\"token punctuation\">.</span><span class=\"token function\">wait</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// Wait for data to be received.</span>\n        <span class=\"token keyword\">let</span> <span class=\"token punctuation\">(</span>rx_buf<span class=\"token punctuation\">,</span> _rx_channel<span class=\"token punctuation\">,</span> _rx<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> receiving<span class=\"token punctuation\">.</span><span class=\"token function\">wait</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token number\">0</span><span class=\"token punctuation\">..</span>rx_buf<span class=\"token punctuation\">.</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;&#125;\"</span><span class=\"token punctuation\">,</span> rx_buf<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">char</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[idle]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">idle</span><span class=\"token punctuation\">(</span>_cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">idle<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">!</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span>asm<span class=\"token punctuation\">::</span></span><span class=\"token function\">nop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"Serial-with-Interrupt\"><a href=\"#Serial-with-Interrupt\" class=\"headerlink\" title=\"Serial with Interrupt\"></a>Serial with Interrupt</h2><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_semihosting<span class=\"token punctuation\">::</span></span>hprintln<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token namespace\">gpio<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">PushPull</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">AF7</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">pac<span class=\"token punctuation\">::</span></span><span class=\"token constant\">USART1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">rcc<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">RccExt</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">serial<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token class-name\">Event</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Serial</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> stm32f3xx_hal <span class=\"token keyword\">as</span> hal<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">SerialType</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Serial</span><span class=\"token operator\">&lt;</span>\n    <span class=\"token constant\">USART1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">(</span>\n        <span class=\"token namespace\">gpio<span class=\"token punctuation\">::</span>gpioa<span class=\"token punctuation\">::</span></span><span class=\"token constant\">PA9</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">AF7</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">PushPull</span><span class=\"token operator\">>></span><span class=\"token punctuation\">,</span>\n        <span class=\"token namespace\">gpio<span class=\"token punctuation\">::</span>gpioa<span class=\"token punctuation\">::</span></span><span class=\"token constant\">PA10</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">AF7</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">PushPull</span><span class=\"token operator\">>></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[rtic::app(device = stm32f3xx_hal::pac, peripherals = true)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span>\n        serial<span class=\"token punctuation\">:</span> <span class=\"token class-name\">SerialType</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[init]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">LateResources</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span>pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> clocks <span class=\"token operator\">=</span> rcc\n            <span class=\"token punctuation\">.</span>cfgr\n            <span class=\"token punctuation\">.</span><span class=\"token function\">sysclk</span><span class=\"token punctuation\">(</span><span class=\"token number\">48_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioa <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOA</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> pins <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa9\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af7_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa10\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af7_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> serial <span class=\"token operator\">=</span> <span class=\"token class-name\">Serial</span><span class=\"token punctuation\">::</span><span class=\"token function\">usart1</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">USART1</span><span class=\"token punctuation\">,</span> pins<span class=\"token punctuation\">,</span> <span class=\"token number\">9600_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">Bd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> clocks<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>apb2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        serial<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Event</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Rxne</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">LateResources</span> <span class=\"token punctuation\">&#123;</span> serial <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    #<span class=\"token punctuation\">[</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span>binds <span class=\"token operator\">=</span> <span class=\"token constant\">USART1_EXTI25</span><span class=\"token punctuation\">,</span> resources <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>serial<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">serial</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">serial<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> serial<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> <span class=\"token class-name\">SerialType</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>resources<span class=\"token punctuation\">.</span>serial<span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">if</span> serial<span class=\"token punctuation\">.</span><span class=\"token function\">is_rxne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            serial<span class=\"token punctuation\">.</span><span class=\"token function\">unlisten</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Event</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Rxne</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">match</span> serial<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span>byte<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n                    serial<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>byte<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    serial<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Event</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Tc</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token comment\">// This will cause a few millisecond to execute the function.</span>\n                    <span class=\"token comment\">// And this will result in partial data not being received.</span>\n                    <span class=\"token comment\">// hprintln!(\"&#123;&#125;\", byte as char).unwrap();</span>\n                <span class=\"token punctuation\">&#125;</span>\n\n                <span class=\"token class-name\">Err</span><span class=\"token punctuation\">(</span>_error<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n                    <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"read error\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span>\n\n        <span class=\"token keyword\">if</span> serial<span class=\"token punctuation\">.</span><span class=\"token function\">is_tc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            serial<span class=\"token punctuation\">.</span><span class=\"token function\">unlisten</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Event</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Tc</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            serial<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Event</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Rxne</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-rust--stm32-stm32f3discovery-serial-rtic\"><a href=\"#-rust--stm32-stm32f3discovery-serial-rtic\" class=\"headerlink\" title=\" rust  stm32 stm32f3discovery-serial-rtic\"></a> rust  stm32 stm32f3discovery-serial-rtic</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<p>Since <code>tx</code>, <code>tx_buf</code>, <code>tx_channel</code> will be moved in use, I have not found a way to use USART with DMA and Interrupt.</p>\n<h2 id=\"Serial\"><a href=\"#Serial\" class=\"headerlink\" title=\"Serial\"></a>Serial</h2><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>pac<span class=\"token punctuation\">,</span> <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token namespace\">serial<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Serial</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">rtic<span class=\"token punctuation\">::</span></span>app<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> stm32f3xx_hal <span class=\"token keyword\">as</span> hal<span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[app(device = stm32f3xx_hal::pac, peripherals = true)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[init]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> clock <span class=\"token operator\">=</span> rcc\n            <span class=\"token punctuation\">.</span>cfgr\n            <span class=\"token punctuation\">.</span><span class=\"token function\">sysclk</span><span class=\"token punctuation\">(</span><span class=\"token number\">48_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioa <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOA</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> pins <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa9\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af7_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa10\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af7_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> serial <span class=\"token operator\">=</span> <span class=\"token class-name\">Serial</span><span class=\"token punctuation\">::</span><span class=\"token function\">usart1</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">USART1</span><span class=\"token punctuation\">,</span> pins<span class=\"token punctuation\">,</span> <span class=\"token number\">9600_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">Bd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> clock<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>apb2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> send<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u8</span> <span class=\"token operator\">=</span> <span class=\"token char string\">'a'</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">u8</span><span class=\"token punctuation\">;</span>\n\n        serial<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>send<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        send <span class=\"token operator\">=</span> <span class=\"token char string\">'b'</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">u8</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Wait for the first send operation complete.</span>\n        <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span>asm<span class=\"token punctuation\">::</span></span><span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">10000000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// serial can be used multiple times.</span>\n        serial<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>send<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">mut</span> tx<span class=\"token punctuation\">,</span> _rx<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> serial<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span>asm<span class=\"token punctuation\">::</span></span><span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">10000000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// tx can also be used multiple times.</span>\n        tx<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>send<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span>asm<span class=\"token punctuation\">::</span></span><span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">10000000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        tx<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>send<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[idle]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">idle</span><span class=\"token punctuation\">(</span>_cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">idle<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">!</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span>asm<span class=\"token punctuation\">::</span></span><span class=\"token function\">nop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"Serial-with-DMA\"><a href=\"#Serial-with-DMA\" class=\"headerlink\" title=\"Serial with DMA\"></a>Serial with DMA</h2><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span></span>singleton<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_semihosting<span class=\"token punctuation\">::</span></span>hprintln<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>pac<span class=\"token punctuation\">,</span> <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token namespace\">serial<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Serial</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">rtic<span class=\"token punctuation\">::</span></span>app<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> stm32f3xx_hal <span class=\"token keyword\">as</span> hal<span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[app(device = stm32f3xx_hal::pac, peripherals = true)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[init]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> clock <span class=\"token operator\">=</span> rcc\n            <span class=\"token punctuation\">.</span>cfgr\n            <span class=\"token punctuation\">.</span><span class=\"token function\">sysclk</span><span class=\"token punctuation\">(</span><span class=\"token number\">48_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioa <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOA</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> pins <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa9\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af7_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa10\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af7_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> serial <span class=\"token operator\">=</span> <span class=\"token class-name\">Serial</span><span class=\"token punctuation\">::</span><span class=\"token function\">usart1</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">USART1</span><span class=\"token punctuation\">,</span> pins<span class=\"token punctuation\">,</span> <span class=\"token number\">9600_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">Bd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> clock<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>apb2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token punctuation\">(</span>tx<span class=\"token punctuation\">,</span> rx<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> serial<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> dma1 <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">DMA1</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> tx_buf <span class=\"token operator\">=</span> <span class=\"token macro property\">singleton!</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">[</span><span class=\"token keyword\">u8</span><span class=\"token punctuation\">;</span><span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token operator\">*</span><span class=\"token string\">b\"hello321\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> rx_buf <span class=\"token operator\">=</span> <span class=\"token macro property\">singleton!</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">[</span><span class=\"token keyword\">u8</span><span class=\"token punctuation\">;</span><span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token punctuation\">(</span>tx_channel<span class=\"token punctuation\">,</span> rx_channel<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>dma1<span class=\"token punctuation\">.</span>ch4<span class=\"token punctuation\">,</span> dma1<span class=\"token punctuation\">.</span>ch5<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// tx, tx_buf, tx_channel will be moved here.</span>\n        <span class=\"token comment\">// The data will be sent here.</span>\n        <span class=\"token keyword\">let</span> sending <span class=\"token operator\">=</span> tx<span class=\"token punctuation\">.</span><span class=\"token function\">write_all</span><span class=\"token punctuation\">(</span>tx_buf<span class=\"token punctuation\">,</span> tx_channel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// The data will not be read here.</span>\n        <span class=\"token keyword\">let</span> receiving <span class=\"token operator\">=</span> rx<span class=\"token punctuation\">.</span><span class=\"token function\">read_exact</span><span class=\"token punctuation\">(</span>rx_buf<span class=\"token punctuation\">,</span> rx_channel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// tx, tx_buf, tx_channel are regenerated here.</span>\n        <span class=\"token comment\">// Method `wait` waits for the send operation complete.</span>\n        <span class=\"token keyword\">let</span> <span class=\"token punctuation\">(</span>_tx_buf<span class=\"token punctuation\">,</span> _tx_channel<span class=\"token punctuation\">,</span> _tx<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> sending<span class=\"token punctuation\">.</span><span class=\"token function\">wait</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// Wait for data to be received.</span>\n        <span class=\"token keyword\">let</span> <span class=\"token punctuation\">(</span>rx_buf<span class=\"token punctuation\">,</span> _rx_channel<span class=\"token punctuation\">,</span> _rx<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> receiving<span class=\"token punctuation\">.</span><span class=\"token function\">wait</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token number\">0</span><span class=\"token punctuation\">..</span>rx_buf<span class=\"token punctuation\">.</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;&#125;\"</span><span class=\"token punctuation\">,</span> rx_buf<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">char</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[idle]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">idle</span><span class=\"token punctuation\">(</span>_cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">idle<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">!</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token namespace\">cortex_m<span class=\"token punctuation\">::</span>asm<span class=\"token punctuation\">::</span></span><span class=\"token function\">nop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"Serial-with-Interrupt\"><a href=\"#Serial-with-Interrupt\" class=\"headerlink\" title=\"Serial with Interrupt\"></a>Serial with Interrupt</h2><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_semihosting<span class=\"token punctuation\">::</span></span>hprintln<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token namespace\">gpio<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">PushPull</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">AF7</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">pac<span class=\"token punctuation\">::</span></span><span class=\"token constant\">USART1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">rcc<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">RccExt</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">serial<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token class-name\">Event</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Serial</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> stm32f3xx_hal <span class=\"token keyword\">as</span> hal<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">SerialType</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Serial</span><span class=\"token operator\">&lt;</span>\n    <span class=\"token constant\">USART1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">(</span>\n        <span class=\"token namespace\">gpio<span class=\"token punctuation\">::</span>gpioa<span class=\"token punctuation\">::</span></span><span class=\"token constant\">PA9</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">AF7</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">PushPull</span><span class=\"token operator\">>></span><span class=\"token punctuation\">,</span>\n        <span class=\"token namespace\">gpio<span class=\"token punctuation\">::</span>gpioa<span class=\"token punctuation\">::</span></span><span class=\"token constant\">PA10</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">AF7</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">PushPull</span><span class=\"token operator\">>></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[rtic::app(device = stm32f3xx_hal::pac, peripherals = true)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span>\n        serial<span class=\"token punctuation\">:</span> <span class=\"token class-name\">SerialType</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[init]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">LateResources</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span>pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> clocks <span class=\"token operator\">=</span> rcc\n            <span class=\"token punctuation\">.</span>cfgr\n            <span class=\"token punctuation\">.</span><span class=\"token function\">sysclk</span><span class=\"token punctuation\">(</span><span class=\"token number\">48_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioa <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOA</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> pins <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa9\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af7_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa10\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af7_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> serial <span class=\"token operator\">=</span> <span class=\"token class-name\">Serial</span><span class=\"token punctuation\">::</span><span class=\"token function\">usart1</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">.</span><span class=\"token constant\">USART1</span><span class=\"token punctuation\">,</span> pins<span class=\"token punctuation\">,</span> <span class=\"token number\">9600_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">Bd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> clocks<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>apb2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        serial<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Event</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Rxne</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">LateResources</span> <span class=\"token punctuation\">&#123;</span> serial <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    #<span class=\"token punctuation\">[</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span>binds <span class=\"token operator\">=</span> <span class=\"token constant\">USART1_EXTI25</span><span class=\"token punctuation\">,</span> resources <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>serial<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">serial</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">serial<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> serial<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> <span class=\"token class-name\">SerialType</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>resources<span class=\"token punctuation\">.</span>serial<span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">if</span> serial<span class=\"token punctuation\">.</span><span class=\"token function\">is_rxne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            serial<span class=\"token punctuation\">.</span><span class=\"token function\">unlisten</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Event</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Rxne</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">match</span> serial<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span>byte<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n                    serial<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>byte<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    serial<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Event</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Tc</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token comment\">// This will cause a few millisecond to execute the function.</span>\n                    <span class=\"token comment\">// And this will result in partial data not being received.</span>\n                    <span class=\"token comment\">// hprintln!(\"&#123;&#125;\", byte as char).unwrap();</span>\n                <span class=\"token punctuation\">&#125;</span>\n\n                <span class=\"token class-name\">Err</span><span class=\"token punctuation\">(</span>_error<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n                    <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"read error\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span>\n\n        <span class=\"token keyword\">if</span> serial<span class=\"token punctuation\">.</span><span class=\"token function\">is_tc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            serial<span class=\"token punctuation\">.</span><span class=\"token function\">unlisten</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Event</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Tc</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            serial<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Event</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Rxne</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Develop Stm32 with Rust stm32f3discovery-spi-rtic","date":"2021-06-20T00:18:21.000Z","_content":"\n#  rust  stm32 stm32f3discovery-spi-rtic\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\nSince `tx`, `tx_buf`, `tx_channel` will be moved in use, I have not found a way to use USART with DMA and Interrupt.\n\n```rust\n#![no_main]\n#![no_std]\n\nuse cortex_m_semihosting::hprintln;\nuse hal::{\n    prelude::*,\n    rcc::RccExt,\n    spi::{Mode, Spi},\n};\nuse panic_semihosting as _;\nuse stm32f3xx_hal as hal;\n\n#[rtic::app(device = stm32f3xx_hal::pac, peripherals = true)]\nconst APP: () = {\n    struct Resources {}\n\n    #[init]\n    fn init(cx: init::Context) {\n        let dp: hal::pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n        let clocks = rcc\n            .cfgr\n            .use_hse(8_u32.MHz())\n            .sysclk(48_u32.MHz())\n            .pclk1(24_u32.MHz())\n            .freeze(&mut dp.FLASH.constrain().acr);\n        let mut gpioa = dp.GPIOA.split(&mut rcc.ahb);\n\n        let sck =\n            gpioa\n                .pa5\n                .into_af5_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrl);\n        let miso =\n            gpioa\n                .pa6\n                .into_af5_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrl);\n        let mosi =\n            gpioa\n                .pa7\n                .into_af5_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrl);\n\n        let spi_mode = Mode {\n            polarity: hal::spi::Polarity::IdleLow,\n            phase: hal::spi::Phase::CaptureOnFirstTransition,\n        };\n\n        // The type parameter `WORD` needed by method spi1 is not specified here,\n        // you can just ignore the error, and it will be specified in use.\n        let mut spi = Spi::spi1(\n            dp.SPI1,\n            (sck, miso, mosi),\n            spi_mode,\n            3_000_000_u32.Hz(),\n            clocks,\n            &mut rcc.apb2,\n        );\n\n        let msg_send: [u8; 8] = [0xD, 0xE, 0xA, 0xD, 0xB, 0xE, 0xE, 0xF];\n        let mut msg_sending = msg_send;\n        let msg_received = spi.transfer(&mut msg_sending).unwrap();\n        // Connect pin pa7 and pin pa6 together, you will see the received data is the\n        // same as transmitted data.\n        hprintln!(\"{:?}\", msg_send).unwrap();\n        hprintln!(\"{:?}\", msg_received).unwrap();\n    }\n};\n```\n","source":"_posts/develop-stm32-with-rust-stm32f3discovery-spi-rtic.md","raw":"---\ntitle: Develop Stm32 with Rust stm32f3discovery-spi-rtic\ndate: 2021-06-20 08:18:21\ntags:\n  - Rust\n  - Stm32\ncategories:\n  - [Embedded]\n  - [Rust]\n  - [Stm32]\n---\n\n#  rust  stm32 stm32f3discovery-spi-rtic\n\n stm32 \n\n`stm32fxxx-hal crate``stm32f1xx-hal` stm32 \n\nSince `tx`, `tx_buf`, `tx_channel` will be moved in use, I have not found a way to use USART with DMA and Interrupt.\n\n```rust\n#![no_main]\n#![no_std]\n\nuse cortex_m_semihosting::hprintln;\nuse hal::{\n    prelude::*,\n    rcc::RccExt,\n    spi::{Mode, Spi},\n};\nuse panic_semihosting as _;\nuse stm32f3xx_hal as hal;\n\n#[rtic::app(device = stm32f3xx_hal::pac, peripherals = true)]\nconst APP: () = {\n    struct Resources {}\n\n    #[init]\n    fn init(cx: init::Context) {\n        let dp: hal::pac::Peripherals = cx.device;\n        let mut rcc = dp.RCC.constrain();\n        let clocks = rcc\n            .cfgr\n            .use_hse(8_u32.MHz())\n            .sysclk(48_u32.MHz())\n            .pclk1(24_u32.MHz())\n            .freeze(&mut dp.FLASH.constrain().acr);\n        let mut gpioa = dp.GPIOA.split(&mut rcc.ahb);\n\n        let sck =\n            gpioa\n                .pa5\n                .into_af5_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrl);\n        let miso =\n            gpioa\n                .pa6\n                .into_af5_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrl);\n        let mosi =\n            gpioa\n                .pa7\n                .into_af5_push_pull(&mut gpioa.moder, &mut gpioa.otyper, &mut gpioa.afrl);\n\n        let spi_mode = Mode {\n            polarity: hal::spi::Polarity::IdleLow,\n            phase: hal::spi::Phase::CaptureOnFirstTransition,\n        };\n\n        // The type parameter `WORD` needed by method spi1 is not specified here,\n        // you can just ignore the error, and it will be specified in use.\n        let mut spi = Spi::spi1(\n            dp.SPI1,\n            (sck, miso, mosi),\n            spi_mode,\n            3_000_000_u32.Hz(),\n            clocks,\n            &mut rcc.apb2,\n        );\n\n        let msg_send: [u8; 8] = [0xD, 0xE, 0xA, 0xD, 0xB, 0xE, 0xE, 0xF];\n        let mut msg_sending = msg_send;\n        let msg_received = spi.transfer(&mut msg_sending).unwrap();\n        // Connect pin pa7 and pin pa6 together, you will see the received data is the\n        // same as transmitted data.\n        hprintln!(\"{:?}\", msg_send).unwrap();\n        hprintln!(\"{:?}\", msg_received).unwrap();\n    }\n};\n```\n","slug":"develop-stm32-with-rust-stm32f3discovery-spi-rtic","published":1,"updated":"2021-06-20T00:19:45.669Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9cn001udbizfqfufigo","content":"<h1 id=\"-rust--stm32-stm32f3discovery-spi-rtic\"><a href=\"#-rust--stm32-stm32f3discovery-spi-rtic\" class=\"headerlink\" title=\" rust  stm32 stm32f3discovery-spi-rtic\"></a> rust  stm32 stm32f3discovery-spi-rtic</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<p>Since <code>tx</code>, <code>tx_buf</code>, <code>tx_channel</code> will be moved in use, I have not found a way to use USART with DMA and Interrupt.</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_semihosting<span class=\"token punctuation\">::</span></span>hprintln<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">rcc<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">RccExt</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">spi<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token class-name\">Mode</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Spi</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> stm32f3xx_hal <span class=\"token keyword\">as</span> hal<span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[rtic::app(device = stm32f3xx_hal::pac, peripherals = true)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[init]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span>pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> clocks <span class=\"token operator\">=</span> rcc\n            <span class=\"token punctuation\">.</span>cfgr\n            <span class=\"token punctuation\">.</span><span class=\"token function\">use_hse</span><span class=\"token punctuation\">(</span><span class=\"token number\">8_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">sysclk</span><span class=\"token punctuation\">(</span><span class=\"token number\">48_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">pclk1</span><span class=\"token punctuation\">(</span><span class=\"token number\">24_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioa <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOA</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> sck <span class=\"token operator\">=</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa5\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af5_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> miso <span class=\"token operator\">=</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa6\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af5_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> mosi <span class=\"token operator\">=</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa7\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af5_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> spi_mode <span class=\"token operator\">=</span> <span class=\"token class-name\">Mode</span> <span class=\"token punctuation\">&#123;</span>\n            polarity<span class=\"token punctuation\">:</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span>spi<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Polarity</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">IdleLow</span><span class=\"token punctuation\">,</span>\n            phase<span class=\"token punctuation\">:</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span>spi<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Phase</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">CaptureOnFirstTransition</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// The type parameter `WORD` needed by method spi1 is not specified here,</span>\n        <span class=\"token comment\">// you can just ignore the error, and it will be specified in use.</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> spi <span class=\"token operator\">=</span> <span class=\"token class-name\">Spi</span><span class=\"token punctuation\">::</span><span class=\"token function\">spi1</span><span class=\"token punctuation\">(</span>\n            dp<span class=\"token punctuation\">.</span><span class=\"token constant\">SPI1</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">(</span>sck<span class=\"token punctuation\">,</span> miso<span class=\"token punctuation\">,</span> mosi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            spi_mode<span class=\"token punctuation\">,</span>\n            <span class=\"token number\">3_000_000_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">Hz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            clocks<span class=\"token punctuation\">,</span>\n            <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>apb2<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> msg_send<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">u8</span><span class=\"token punctuation\">;</span> <span class=\"token number\">8</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0xD</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0xE</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0xA</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0xD</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0xB</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0xE</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0xE</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0xF</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> msg_sending <span class=\"token operator\">=</span> msg_send<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> msg_received <span class=\"token operator\">=</span> spi<span class=\"token punctuation\">.</span><span class=\"token function\">transfer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> msg_sending<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// Connect pin pa7 and pin pa6 together, you will see the received data is the</span>\n        <span class=\"token comment\">// same as transmitted data.</span>\n        <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;:?&#125;\"</span><span class=\"token punctuation\">,</span> msg_send<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;:?&#125;\"</span><span class=\"token punctuation\">,</span> msg_received<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-rust--stm32-stm32f3discovery-spi-rtic\"><a href=\"#-rust--stm32-stm32f3discovery-spi-rtic\" class=\"headerlink\" title=\" rust  stm32 stm32f3discovery-spi-rtic\"></a> rust  stm32 stm32f3discovery-spi-rtic</h1><p> stm32 </p>\n<p><code>stm32fxxx-hal crate</code><code>stm32f1xx-hal</code> stm32 </p>\n<p>Since <code>tx</code>, <code>tx_buf</code>, <code>tx_channel</code> will be moved in use, I have not found a way to use USART with DMA and Interrupt.</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![no_main]</span>\n<span class=\"token attribute attr-name\">#![no_std]</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">cortex_m_semihosting<span class=\"token punctuation\">::</span></span>hprintln<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token namespace\">prelude<span class=\"token punctuation\">::</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">rcc<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">RccExt</span><span class=\"token punctuation\">,</span>\n    <span class=\"token namespace\">spi<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token class-name\">Mode</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Spi</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> panic_semihosting <span class=\"token keyword\">as</span> _<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> stm32f3xx_hal <span class=\"token keyword\">as</span> hal<span class=\"token punctuation\">;</span>\n\n<span class=\"token attribute attr-name\">#[rtic::app(device = stm32f3xx_hal::pac, peripherals = true)]</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APP</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Resources</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token attribute attr-name\">#[init]</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">init</span><span class=\"token punctuation\">(</span>cx<span class=\"token punctuation\">:</span> <span class=\"token namespace\">init<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">let</span> dp<span class=\"token punctuation\">:</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span>pac<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Peripherals</span> <span class=\"token operator\">=</span> cx<span class=\"token punctuation\">.</span>device<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> rcc <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">RCC</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> clocks <span class=\"token operator\">=</span> rcc\n            <span class=\"token punctuation\">.</span>cfgr\n            <span class=\"token punctuation\">.</span><span class=\"token function\">use_hse</span><span class=\"token punctuation\">(</span><span class=\"token number\">8_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">sysclk</span><span class=\"token punctuation\">(</span><span class=\"token number\">48_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">pclk1</span><span class=\"token punctuation\">(</span><span class=\"token number\">24_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MHz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">FLASH</span><span class=\"token punctuation\">.</span><span class=\"token function\">constrain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>acr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> gpioa <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">.</span><span class=\"token constant\">GPIOA</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>ahb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> sck <span class=\"token operator\">=</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa5\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af5_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> miso <span class=\"token operator\">=</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa6\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af5_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> mosi <span class=\"token operator\">=</span>\n            gpioa\n                <span class=\"token punctuation\">.</span>pa7\n                <span class=\"token punctuation\">.</span><span class=\"token function\">into_af5_push_pull</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>moder<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>otyper<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> gpioa<span class=\"token punctuation\">.</span>afrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> spi_mode <span class=\"token operator\">=</span> <span class=\"token class-name\">Mode</span> <span class=\"token punctuation\">&#123;</span>\n            polarity<span class=\"token punctuation\">:</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span>spi<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Polarity</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">IdleLow</span><span class=\"token punctuation\">,</span>\n            phase<span class=\"token punctuation\">:</span> <span class=\"token namespace\">hal<span class=\"token punctuation\">::</span>spi<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Phase</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">CaptureOnFirstTransition</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// The type parameter `WORD` needed by method spi1 is not specified here,</span>\n        <span class=\"token comment\">// you can just ignore the error, and it will be specified in use.</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> spi <span class=\"token operator\">=</span> <span class=\"token class-name\">Spi</span><span class=\"token punctuation\">::</span><span class=\"token function\">spi1</span><span class=\"token punctuation\">(</span>\n            dp<span class=\"token punctuation\">.</span><span class=\"token constant\">SPI1</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">(</span>sck<span class=\"token punctuation\">,</span> miso<span class=\"token punctuation\">,</span> mosi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            spi_mode<span class=\"token punctuation\">,</span>\n            <span class=\"token number\">3_000_000_u32</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">Hz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            clocks<span class=\"token punctuation\">,</span>\n            <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> rcc<span class=\"token punctuation\">.</span>apb2<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">let</span> msg_send<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">u8</span><span class=\"token punctuation\">;</span> <span class=\"token number\">8</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0xD</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0xE</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0xA</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0xD</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0xB</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0xE</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0xE</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0xF</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> msg_sending <span class=\"token operator\">=</span> msg_send<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> msg_received <span class=\"token operator\">=</span> spi<span class=\"token punctuation\">.</span><span class=\"token function\">transfer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> msg_sending<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// Connect pin pa7 and pin pa6 together, you will see the received data is the</span>\n        <span class=\"token comment\">// same as transmitted data.</span>\n        <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;:?&#125;\"</span><span class=\"token punctuation\">,</span> msg_send<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token macro property\">hprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;:?&#125;\"</span><span class=\"token punctuation\">,</span> msg_received<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Develop Stm8 on Linux","date":"2021-06-23T07:20:26.000Z","_content":"\n#  linux  stm8\n\n linuxGentoo stm8\n\n## \n\n1. stm8  stm8s105k4 \n\n2. stlinkUSB  20 \n\n3. \n\n>  stlink  4  stm8  20  VCC \n\n## \n\n### sdcc\n\n sdcc \n\n### stm8-gdb\n\n stm8-gdb [](https://stm8-binutils-gdb.sourceforge.io/)\n\n python3.6 python3.7  gdb8.1  python  python3.7 \n\n`configure_binutils.sh``./configure --host=$_HOST --target=stm8-none-elf32 $_PREFIX --program-prefix=stm8- --with-python=python3.6`\n\n README \n\n### openocd\n\n openocd \n\n### \n\n vim  emacs vscode stm8 debugger  windows only\n\n## \n\n### \n\nsdcc  stm8  st \n\n[Library](http://www.st.com/en/embedded-software/stsw-stm8069.html)\n\n\n\n```sh\nwget https://raw.githubusercontent.com/gicking/STM8-SPL_SDCC_patch/master/STM8S_StdPeriph_Lib_V2.3.1_sdcc.patch\npatch -p0 < STM8S_StdPeriph_Lib_V2.3.1_sdcc.patch\n```\n\n\n\n### \n\n st \n\n## \n\n\n\n`main.c`\n\n```c\n#define CLK_CKDIVR *(volatile unsigned char *)0x50C6\n#define PD_ODR *(volatile unsigned char *)0x500F\n#define PD_IDR *(volatile unsigned char *)0x5010\n#define PD_DDR *(volatile unsigned char *)0x5011\n#define PD_CR1 *(volatile unsigned char *)0x5012\n#define PD_CR2 *(volatile unsigned char *)0x5013\n```\n\nsdcc  lsp \n\n`main.c`\n\n```c\n// main.c\n\n#include <stdint.h>\n\n#define setbit(x, n) ((x) |= (1 << (n)));\n#define rstbit(x, n) ((x) &= ~(1 << (n)));\n\n#define CLK_CKDIVR *(volatile unsigned char *)0x50C6\n#define PD_ODR *(volatile unsigned char *)0x500F\n#define PD_IDR *(volatile unsigned char *)0x5010\n#define PD_DDR *(volatile unsigned char *)0x5011\n#define PD_CR1 *(volatile unsigned char *)0x5012\n#define PD_CR2 *(volatile unsigned char *)0x5013\n\nvoid delay(unsigned long count) {\n  while (count--) {\n    __asm__(\"nop\");\n  }\n}\n\nvoid main() {\n  CLK_CKDIVR = 0;\n  setbit(PD_DDR, 7);\n  setbit(PD_CR1, 7);\n  while (1) {\n    setbit(PD_ODR, 7);\n    delay(100000L);\n    rstbit(PD_ODR, 7);\n    delay(300000L);\n  }\n}\n```\n\n cmake  makefile `compile_commands.json` lsp \n\n```cmake\n# CMakeLists.txt\n\ncmake_minimum_required(VERSION 3.20)\n\nset(CMAKE_C_COMPILER sdcc)\nset(CMAKE_SYSTEM_NAME Generic)\nset(CMAKE_C_OUTPUT_EXTENSION \".rel\")\n\n# Prevent default configuration\nset(CMAKE_C_FLAGS_INIT \"\")\nset(CMAKE_EXE_LINKER_FLAGS_INIT \"\")\n\n# Disable C++\nproject(Test C)\n\nset(CMAKE_C_FLAGS \"-mstm8 --std-sdcc11 --debug --out-fmt-elf\")\nadd_executable(main main.c)\n```\n\n`CMAKE_C_FLAGS`\n\n\n\n```sh\nmkdir build\ncd build\ncmake .. -G Ninja -DCMAKE_EXPORT_COMPILE_COMMANDS=on\nninja\n```\n\n make  ninja \n\n```sh\nsudo openocd -f interface/stlink-dap.cfg -f target/stm8s105.cfg\n```\n\n build \n\n```sh\nstm8-gdb\ntarget extended-remote :3333\nmonitor reset halt\nfile main.ihx\nload\n```\n\n gdb `debug.gdb`\n\n```\ntarget extended-remote :3333\nmonitor reset halt\nfile main.ihx\nload\n```\n\n`stm8-gdb -q -x debug.gdb`\n","source":"_posts/develop-stm8-on-linux.md","raw":"---\ntitle: Develop Stm8 on Linux\ndate: 2021-06-23 15:20:26\ntags:\n  - Linux\n  - Stm8\ncategories:\n  - Embedded\n---\n\n#  linux  stm8\n\n linuxGentoo stm8\n\n## \n\n1. stm8  stm8s105k4 \n\n2. stlinkUSB  20 \n\n3. \n\n>  stlink  4  stm8  20  VCC \n\n## \n\n### sdcc\n\n sdcc \n\n### stm8-gdb\n\n stm8-gdb [](https://stm8-binutils-gdb.sourceforge.io/)\n\n python3.6 python3.7  gdb8.1  python  python3.7 \n\n`configure_binutils.sh``./configure --host=$_HOST --target=stm8-none-elf32 $_PREFIX --program-prefix=stm8- --with-python=python3.6`\n\n README \n\n### openocd\n\n openocd \n\n### \n\n vim  emacs vscode stm8 debugger  windows only\n\n## \n\n### \n\nsdcc  stm8  st \n\n[Library](http://www.st.com/en/embedded-software/stsw-stm8069.html)\n\n\n\n```sh\nwget https://raw.githubusercontent.com/gicking/STM8-SPL_SDCC_patch/master/STM8S_StdPeriph_Lib_V2.3.1_sdcc.patch\npatch -p0 < STM8S_StdPeriph_Lib_V2.3.1_sdcc.patch\n```\n\n\n\n### \n\n st \n\n## \n\n\n\n`main.c`\n\n```c\n#define CLK_CKDIVR *(volatile unsigned char *)0x50C6\n#define PD_ODR *(volatile unsigned char *)0x500F\n#define PD_IDR *(volatile unsigned char *)0x5010\n#define PD_DDR *(volatile unsigned char *)0x5011\n#define PD_CR1 *(volatile unsigned char *)0x5012\n#define PD_CR2 *(volatile unsigned char *)0x5013\n```\n\nsdcc  lsp \n\n`main.c`\n\n```c\n// main.c\n\n#include <stdint.h>\n\n#define setbit(x, n) ((x) |= (1 << (n)));\n#define rstbit(x, n) ((x) &= ~(1 << (n)));\n\n#define CLK_CKDIVR *(volatile unsigned char *)0x50C6\n#define PD_ODR *(volatile unsigned char *)0x500F\n#define PD_IDR *(volatile unsigned char *)0x5010\n#define PD_DDR *(volatile unsigned char *)0x5011\n#define PD_CR1 *(volatile unsigned char *)0x5012\n#define PD_CR2 *(volatile unsigned char *)0x5013\n\nvoid delay(unsigned long count) {\n  while (count--) {\n    __asm__(\"nop\");\n  }\n}\n\nvoid main() {\n  CLK_CKDIVR = 0;\n  setbit(PD_DDR, 7);\n  setbit(PD_CR1, 7);\n  while (1) {\n    setbit(PD_ODR, 7);\n    delay(100000L);\n    rstbit(PD_ODR, 7);\n    delay(300000L);\n  }\n}\n```\n\n cmake  makefile `compile_commands.json` lsp \n\n```cmake\n# CMakeLists.txt\n\ncmake_minimum_required(VERSION 3.20)\n\nset(CMAKE_C_COMPILER sdcc)\nset(CMAKE_SYSTEM_NAME Generic)\nset(CMAKE_C_OUTPUT_EXTENSION \".rel\")\n\n# Prevent default configuration\nset(CMAKE_C_FLAGS_INIT \"\")\nset(CMAKE_EXE_LINKER_FLAGS_INIT \"\")\n\n# Disable C++\nproject(Test C)\n\nset(CMAKE_C_FLAGS \"-mstm8 --std-sdcc11 --debug --out-fmt-elf\")\nadd_executable(main main.c)\n```\n\n`CMAKE_C_FLAGS`\n\n\n\n```sh\nmkdir build\ncd build\ncmake .. -G Ninja -DCMAKE_EXPORT_COMPILE_COMMANDS=on\nninja\n```\n\n make  ninja \n\n```sh\nsudo openocd -f interface/stlink-dap.cfg -f target/stm8s105.cfg\n```\n\n build \n\n```sh\nstm8-gdb\ntarget extended-remote :3333\nmonitor reset halt\nfile main.ihx\nload\n```\n\n gdb `debug.gdb`\n\n```\ntarget extended-remote :3333\nmonitor reset halt\nfile main.ihx\nload\n```\n\n`stm8-gdb -q -x debug.gdb`\n","slug":"develop-stm8-on-linux","published":1,"updated":"2021-06-27T04:25:54.323Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9cp001xdbizdiumauc6","content":"<h1 id=\"-linux--stm8\"><a href=\"#-linux--stm8\" class=\"headerlink\" title=\" linux  stm8\"></a> linux  stm8</h1><p> linuxGentoo stm8</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><p>stm8  stm8s105k4 </p>\n</li>\n<li><p>stlinkUSB  20 </p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<blockquote>\n<p> stlink  4  stm8  20  VCC </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"sdcc\"><a href=\"#sdcc\" class=\"headerlink\" title=\"sdcc\"></a>sdcc</h3><p> sdcc </p>\n<h3 id=\"stm8-gdb\"><a href=\"#stm8-gdb\" class=\"headerlink\" title=\"stm8-gdb\"></a>stm8-gdb</h3><p> stm8-gdb <a href=\"https://stm8-binutils-gdb.sourceforge.io/\"></a></p>\n<p> python3.6 python3.7  gdb8.1  python  python3.7 </p>\n<p><code>configure_binutils.sh</code><code>./configure --host=$_HOST --target=stm8-none-elf32 $_PREFIX --program-prefix=stm8- --with-python=python3.6</code></p>\n<p> README </p>\n<h3 id=\"openocd\"><a href=\"#openocd\" class=\"headerlink\" title=\"openocd\"></a>openocd</h3><p> openocd </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> vim  emacs vscode stm8 debugger  windows only</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>sdcc  stm8  st </p>\n<p><a href=\"http://www.st.com/en/embedded-software/stsw-stm8069.html\">Library</a></p>\n<p></p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">wget https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;gicking&#x2F;STM8-SPL_SDCC_patch&#x2F;master&#x2F;STM8S_StdPeriph_Lib_V2.3.1_sdcc.patch\npatch -p0 &lt; STM8S_StdPeriph_Lib_V2.3.1_sdcc.patch<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> st </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><code>main.c</code></p>\n<pre class=\"line-numbers language-c\" data-language=\"c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">CLK_CKDIVR</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x50C6</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_ODR</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x500F</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_IDR</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x5010</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_DDR</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x5011</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_CR1</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x5012</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_CR2</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x5013</span></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>sdcc  lsp </p>\n<p><code>main.c</code></p>\n<pre class=\"line-numbers language-c\" data-language=\"c\"><code class=\"language-c\"><span class=\"token comment\">// main.c</span>\n\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdint.h></span></span>\n\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name function\">setbit</span><span class=\"token expression\"><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">|=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name function\">rstbit</span><span class=\"token expression\"><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;=</span> <span class=\"token operator\">~</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></span>\n\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">CLK_CKDIVR</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x50C6</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_ODR</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x500F</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_IDR</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x5010</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_DDR</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x5011</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_CR1</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x5012</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_CR2</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x5013</span></span></span>\n\n<span class=\"token keyword\">void</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">long</span> count<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>count<span class=\"token operator\">--</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">__asm__</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"nop\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  CLK_CKDIVR <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">setbit</span><span class=\"token punctuation\">(</span>PD_DDR<span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">setbit</span><span class=\"token punctuation\">(</span>PD_CR1<span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">setbit</span><span class=\"token punctuation\">(</span>PD_ODR<span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">100000L</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">rstbit</span><span class=\"token punctuation\">(</span>PD_ODR<span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">300000L</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> cmake  makefile <code>compile_commands.json</code> lsp </p>\n<pre class=\"line-numbers language-cmake\" data-language=\"cmake\"><code class=\"language-cmake\"><span class=\"token comment\"># CMakeLists.txt</span>\n\n<span class=\"token keyword\">cmake_minimum_required</span><span class=\"token punctuation\">(</span><span class=\"token property\">VERSION</span> <span class=\"token number\">3.20</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">CMAKE_C_COMPILER</span> sdcc<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">CMAKE_SYSTEM_NAME</span> Generic<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">CMAKE_C_OUTPUT_EXTENSION</span> <span class=\"token string\">\".rel\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Prevent default configuration</span>\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">CMAKE_C_FLAGS_INIT</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">CMAKE_EXE_LINKER_FLAGS_INIT</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Disable C++</span>\n<span class=\"token keyword\">project</span><span class=\"token punctuation\">(</span>Test C<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">CMAKE_C_FLAGS</span> <span class=\"token string\">\"-mstm8 --std-sdcc11 --debug --out-fmt-elf\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">add_executable</span><span class=\"token punctuation\">(</span>main main.c<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>CMAKE_C_FLAGS</code></p>\n<p></p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">mkdir build\ncd build\ncmake .. -G Ninja -DCMAKE_EXPORT_COMPILE_COMMANDS&#x3D;on\nninja<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> make  ninja </p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">sudo openocd -f interface&#x2F;stlink-dap.cfg -f target&#x2F;stm8s105.cfg<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p> build </p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">stm8-gdb\ntarget extended-remote :3333\nmonitor reset halt\nfile main.ihx\nload<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> gdb <code>debug.gdb</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">target extended-remote :3333\nmonitor reset halt\nfile main.ihx\nload<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>stm8-gdb -q -x debug.gdb</code></p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-linux--stm8\"><a href=\"#-linux--stm8\" class=\"headerlink\" title=\" linux  stm8\"></a> linux  stm8</h1><p> linuxGentoo stm8</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><p>stm8  stm8s105k4 </p>\n</li>\n<li><p>stlinkUSB  20 </p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<blockquote>\n<p> stlink  4  stm8  20  VCC </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"sdcc\"><a href=\"#sdcc\" class=\"headerlink\" title=\"sdcc\"></a>sdcc</h3><p> sdcc </p>\n<h3 id=\"stm8-gdb\"><a href=\"#stm8-gdb\" class=\"headerlink\" title=\"stm8-gdb\"></a>stm8-gdb</h3><p> stm8-gdb <a href=\"https://stm8-binutils-gdb.sourceforge.io/\"></a></p>\n<p> python3.6 python3.7  gdb8.1  python  python3.7 </p>\n<p><code>configure_binutils.sh</code><code>./configure --host=$_HOST --target=stm8-none-elf32 $_PREFIX --program-prefix=stm8- --with-python=python3.6</code></p>\n<p> README </p>\n<h3 id=\"openocd\"><a href=\"#openocd\" class=\"headerlink\" title=\"openocd\"></a>openocd</h3><p> openocd </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> vim  emacs vscode stm8 debugger  windows only</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>sdcc  stm8  st </p>\n<p><a href=\"http://www.st.com/en/embedded-software/stsw-stm8069.html\">Library</a></p>\n<p></p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">wget https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;gicking&#x2F;STM8-SPL_SDCC_patch&#x2F;master&#x2F;STM8S_StdPeriph_Lib_V2.3.1_sdcc.patch\npatch -p0 &lt; STM8S_StdPeriph_Lib_V2.3.1_sdcc.patch<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> st </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><code>main.c</code></p>\n<pre class=\"line-numbers language-c\" data-language=\"c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">CLK_CKDIVR</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x50C6</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_ODR</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x500F</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_IDR</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x5010</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_DDR</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x5011</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_CR1</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x5012</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_CR2</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x5013</span></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>sdcc  lsp </p>\n<p><code>main.c</code></p>\n<pre class=\"line-numbers language-c\" data-language=\"c\"><code class=\"language-c\"><span class=\"token comment\">// main.c</span>\n\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdint.h></span></span>\n\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name function\">setbit</span><span class=\"token expression\"><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">|=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name function\">rstbit</span><span class=\"token expression\"><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;=</span> <span class=\"token operator\">~</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></span>\n\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">CLK_CKDIVR</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x50C6</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_ODR</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x500F</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_IDR</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x5010</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_DDR</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x5011</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_CR1</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x5012</span></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PD_CR2</span> <span class=\"token expression\"><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">volatile</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token number\">0x5013</span></span></span>\n\n<span class=\"token keyword\">void</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">long</span> count<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>count<span class=\"token operator\">--</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">__asm__</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"nop\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  CLK_CKDIVR <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">setbit</span><span class=\"token punctuation\">(</span>PD_DDR<span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">setbit</span><span class=\"token punctuation\">(</span>PD_CR1<span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">setbit</span><span class=\"token punctuation\">(</span>PD_ODR<span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">100000L</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">rstbit</span><span class=\"token punctuation\">(</span>PD_ODR<span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">300000L</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> cmake  makefile <code>compile_commands.json</code> lsp </p>\n<pre class=\"line-numbers language-cmake\" data-language=\"cmake\"><code class=\"language-cmake\"><span class=\"token comment\"># CMakeLists.txt</span>\n\n<span class=\"token keyword\">cmake_minimum_required</span><span class=\"token punctuation\">(</span><span class=\"token property\">VERSION</span> <span class=\"token number\">3.20</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">CMAKE_C_COMPILER</span> sdcc<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">CMAKE_SYSTEM_NAME</span> Generic<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">CMAKE_C_OUTPUT_EXTENSION</span> <span class=\"token string\">\".rel\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Prevent default configuration</span>\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">CMAKE_C_FLAGS_INIT</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">CMAKE_EXE_LINKER_FLAGS_INIT</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Disable C++</span>\n<span class=\"token keyword\">project</span><span class=\"token punctuation\">(</span>Test C<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">CMAKE_C_FLAGS</span> <span class=\"token string\">\"-mstm8 --std-sdcc11 --debug --out-fmt-elf\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">add_executable</span><span class=\"token punctuation\">(</span>main main.c<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>CMAKE_C_FLAGS</code></p>\n<p></p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">mkdir build\ncd build\ncmake .. -G Ninja -DCMAKE_EXPORT_COMPILE_COMMANDS&#x3D;on\nninja<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> make  ninja </p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">sudo openocd -f interface&#x2F;stlink-dap.cfg -f target&#x2F;stm8s105.cfg<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p> build </p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">stm8-gdb\ntarget extended-remote :3333\nmonitor reset halt\nfile main.ihx\nload<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> gdb <code>debug.gdb</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">target extended-remote :3333\nmonitor reset halt\nfile main.ihx\nload<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>stm8-gdb -q -x debug.gdb</code></p>\n"},{"title":"Gentoo Basic System Installation","date":"2020-08-07T07:36:38.000Z","_content":"\n[Gentoo ](https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/)\n\n# Gentoo \n\n gentoo \n\n##  gentoo \n\n[](https://mirrors.tuna.tsinghua.edu.cn/) gentoo \n\n![](1.png)\n\nu \n\n##  ssh\n\n- \n\n`dhcpcd`\n\n- wifi\n\n```\n# \nip a\n\n# \nip link set interface_name up\n\n# wifi\n# wifi\n\n# wifi\nwpa_passphrase   > \n\n# wifi\nwpa_supplicant -c  -i  &\n\n# ip\ndhcpcd &\n```\n\n-  ssh\n\n```\n# ssh\n/etc/init.d/sshd start\n# livecd\npasswd\n# livecdroot\n```\n\n## \n\n\n\n[gentoo wiki](https://wiki.gentoo.org/wiki/Handbook:AMD64/Installation/Disks/zh-cn)\n[gentoo handbook](https://wiki.gentoo.org/wiki/Handbook:X86/Blocks/Disks/zh-cn)\n\n fstab  linux fstab\n\n G CPU \n\n GPT  EFI\n\n```\nfdisk -l\n# nvme0n1\nfdisk /dev/nvme0n1\ng\n# \nw\n# grub\n# \nmkfs.fat -F32 /dev/nvme0n1p1\n# \nmkfs.ext4 /dev/nvme0n1p2\n# \nmkswap /dev/nvme0n1p3\n# \nswapon /dev/nvme0n1p3\n```\n\n livecd \n\n```\nmount /dev/nvme0n1p2 /mnt/gentoo\n```\n\n## \n\n gentoo \n\n gentoo livecd  gentoo \n\n[](https://mirrors.tuna.tsinghua.edu.cn/)\n\nGentoo  stage3  gentoo \n\n![stage3](2.png)\n\nGentoo stage3  gentoo wiki systemd  OpenRCnomultilib  64 \n\n systemd kde `/mnt/gentoo`\n\n![systemd stage3](3.png)\n\n`sha512sum -c stage3-amd64-*.tar.xz.DIGESTS` ok  failed `tar xpvf stage3-*.tar.xz --xattrs-include='*.*' --numeric-owner`\n\n## \n\n`/mnt/gentoo/etc/portage/make.conf`\n\n[Gentoo wiki](https://wiki.gentoo.org/wiki//etc/portage/make.conf)[gentoo doc](https://dev.gentoo.org/~zmedico/portage/doc/man/make.conf.5.html)\n\n gentoo \n\n```\nCOMMON_FLAGS=\"-march=native -O2 -pipe\"\n\nCFLAGS=\"${COMMON_FLAGS}\"\nCXXFLAGS=\"${COMMON_FLAGS}\"\nFCFLAGS=\"${COMMON_FLAGS}\"\nFFLAGS=\"${COMMON_FLAGS}\"\n\nCHOST=\"x86_64-pc-linux-gnu\"\n\nCONFIG_PROTECT=\"/var/bind\"\n\nPORTDIR=\"/var/db/repos/gentoo\"\nDISTDIR=\"/var/cache/distfiles\"\nPKGDIR=\"/var/cache/binpkgs\"\n\nLC_MESSAGES=C\n\nMAKEOPTS=\"-j8\"\n\nGENTOO_MIRRORS=\"https://mirrors.tuna.tsinghua.edu.cn/gentoo\"\n\nPORTAGE_TMPDIR=\"/var/tmp\"\n\nDISTDIR=/var/gentoo/distfiles\n\nACCEPT_LICENSE=\"*\"\n\nVIDEO_CARDS=\"radeon\"\n\nL10N=\"en_US en zh zh_CN\"\n\nLINGUAS=\"en-US zh-CN en zh\"\n\nAUTO_CLEAN=\"yes\"\n\nGRUB_PLATFORMS=\"efi-64\"\n\nEMERGE_DEFAULT_OPTS=\"--with-bdeps=y --ask --verbose=y --load-average --keep-going\"\n\nINPUT_DEVICES=\"libinput synaptics evdev\"\n\nUSE=\"X alsa clang udev dbus polkit udisks vulkan vdpau vaapi glamor nls\"\n\nKEYWORDS=\"amd64\"\n```\n\n\n\n`GENTOO_MIRRORS` gentoo \n\n`EMERGE_DEFAULT_OPTS` emerge \n\n`INPUT_DEVICES`\n\n`KEYWORDS`\n\n`MAKEOPTS` CPU \n\n## \n\n```\nmkdir --parents /mnt/gentoo/etc/portage/repos.conf\ncp /mnt/gentoo/usr/share/portage/config/repos.conf /mnt/gentoo/etc/portage/repos.conf/gentoo.conf\ncp --dereference /etc/resolv.conf /mnt/gentoo/etc/\n```\n\n`/mnt/gentoo/etc/portage/repos.conf/gentoo.conf` portage \n\n```\nsync-uri = rsync://mirrors.tuna.tsinghua.edu.cn/gentoo-portage\n```\n\n## \n\n- \n\n```\nmount --types proc /proc /mnt/gentoo/proc\nmount --rbind /sys /mnt/gentoo/sys\nmount --make-rslave /mnt/gentoo/sys\nmount --rbind /dev /mnt/gentoo/dev\nmount --make-rslave /mnt/gentoo/dev\n```\n\n- chroot \n\n```\nchroot /mnt/gentoo /bin/bash\nsource /etc/profile\nexport PS1=\"(chroot) ${PS1}\"\n```\n\n-  boot \n\n```\nmount /dev/nvme0n1p1 /boot\n```\n\n##  Portage\n\n- \n\n```\nemerge-webrsync\n```\n\n-  profile\n\nprofile  USE flag \n\n```\n# profile\neselect profile list\n# profilegentoo wikikdeprofile\neselect profile set default/linux/amd64/17.1/desktop/plasma/systemd\n```\n\n17.0  17.1 \n\n## \n\n\n\n### \n\n stage3  nano\n\n### git\n\n git  portage\n\n\n\n\n\n git\n\n`/etc/portage/repos.conf/gentoo.conf`\n\n```\n[gentoo]\nsync-type = git\nsync-uri = https://github.com/gentoo-mirror/gentoo\n```\n\n```\n# portage\nrm -rf /mnt/gentoo/var/db/repos/gentoo`\n# portage\n`emerge --sync`\n```\n\n### gentoolkit\n\n gentoolkit\n\n- \n\n```\n# enableUSE flag\neuse -a -geuse -a -l\n# USE flag\neuse -E flagname\n# USE flag\neuse -D flagname\n# euse -Deuse -EUSE flag\n# use\nequery --nocolor uses =gnumeric-1.12.31\n# \neclean-dist\n# \neclean-pkg\n```\n\n- eclean \n\n ebuild \n\n `--deep`  `--package-names`  ebuild \n\n###  layman\n\nlayman  gentoo overlay eix-sync `layman -S`\n\n[gentoo wiki](https://wiki.gentoo.org/wiki/Layman)\n\n- layman \n\n USE flag  gitsync-plugin-portage\n\n```\nemerge --ask app-portage/layman\nmkdir /etc/portage/repos.conf\nlayman-updater -R\n```\n\n- \n\n```\nlayman -L # \nlayman -a <name> # \nlayman -o <url of repository xml file> -f -a <name> # \nlayman -d <name> # \nlayman -s <name> # \nlayman -S # \n```\n\n###  eix\n\n[gentoo wiki](https://wiki.gentoo.org/wiki/Eix)\n\neix \n\n- eix \n\n```\nemerge app-portage/eix\neix-update\neix-sync\n```\n\n`eix-sync``emerge --sync` eix \n\n`/etc/eix-sync.conf``*` ebuild \n\n- \n\n```\n# \neix name\n# \neix -I name\n# -c\neix -S -c name\n# \neix -C name\n# \neix -Cc games-rpg -L \"EULA\"\n# \neix --not -L \"EULA\"\n# \neix-test-obsolete\n```\n\n###  ccache\n\nccache  ccache \n\n- ccache \n\n```\nemerge --ask ccache\nmkdir -p /var/cache/ccache\nchown root:portage /var/cache/ccache/\nchmod 2775 /var/cache/ccache/\n```\n\n`/etc/portage/make.conf`\n\n```\nFEATURES=\"ccache\"\nCCACHE_DIR=\"/var/cache/ccache\"\nCCACHE_SIZE=\"16G\"\n```\n\n###  32 \n\nGentoo  64  32  32 \n\n stage3  nomultilib 32 \n\n```\nemerge --ask --verbose db\n\n# /etc/portage/package.use/abi_x86_32\n\nsys-libs/zlib abi_x86_32\n\n# /etc/portage/make.conf\n\nABI_X86=\"32 64\"\n\nemerge --ask --verbose zlib\n```\n\n### \n\nGentoo \n\n[gentoo handbook](https://wiki.gentoo.org/wiki/Handbook:Parts/Full/Working/zh-cn#.E5.B0.86.E9.A2.84.E6.9E.84.E5.BB.BA.E7.9A.84.E8.BD.AF.E4.BB.B6.E5.8C.85.E5.88.86.E5.8F.91.E7.BB.99.E4.BB.96.E4.BA.BA)[gentoo doc](https://docs.huihoo.com/gentoo/resources/document-listing/distcc.html)[gentoo wiki](https://wiki.gentoo.org/wiki/Distcc/zh-cn)\n\n## \n\n GFW PS\n\n- \n\n```\n\necho Asia/Shanghai > /etc/timezone emerge --config sys-libs/timezone-data\n```\n\n- \n\n```\n\n#  locale.gen\n\necho 'zh_CN.UTF-8 UTF-8' >> /etc/locale.gen\necho 'en_US.UTF-8 UTF-8' >> /etc/locale.gen\nlocale-gen\n\n# \n\neselect locale list\n\n# \n\neselect locale set 3\n\n# \n\nenv-update && source /etc/profile && export PS1=\"(chroot) \\${PS1}\"\n\n```\n\n/usr/bin/git  systemd git \n\n- \n\n```\n# \n\nhwclock\ndate\ndate -s 2020/03/09\ndate -s 11:50:30\nhwclock -w\n\n# \n\ntimedatectl set-ntp true\n```\n\n##  gcc\n\n gcc clang  gcc \n\n gcc \n\n- USE flag\n\n\n\n```\nfortran nls nptl openmp pch sanitize ssp lto\n```\n\n-  gcc\n\n```\n# Portage\neix-sync\n# gcc\nemerge --ask gcc\n# gcc\n# gcc\ngcc-config --list-profiles\n# gcc\ngcc-config 2\nsource /etc/profile\nexport PS1=\"(chroot) ${PS1}\"\nemerge --ask --oneshot --usepkg=n sys-devel/libtool\n# gcc\ngcc -v\n# \nemerge --ask --depclean =sys-devel/gcc-9.3.0\n# \nrevdep-rebuild\n# \nemerge --ask --oneshot --usepkg=n --verbose sys-devel/llvm sys-devel/clang\n# \nemerge --ask --emptytree --usepkg=n @system\n```\n\n##  clang\n\n clang  gcc  clang [Gentoo Compile Error Handling](https://www.niuiic.top/2020/08/06/gentoo-compile-error-handling/)\n\n clang \n\n```\nemerge --ask --emptytree --usepkg=n @system\n```\n\n## \n\n```\n# \neix-sync\nemerge --oneshot sys-apps/portage\n```\n\n\n\n## @world\n\n\n\n```\nemerge sys-kernel/gentoo-sources\nemerge --deep --with-bdeps=y --changed-use --update --ask --verbose --keep-going @world\n```\n\n##  fstab\n\nfstab \n\n fstab \n\n fstab [gentoo wiki](https://wiki.gentoo.org/wiki/Fstab)\n\n linux  copy `/etc/fstab`\n\n\n\n```\nUUID=e5bc0d97-ac5c-400c-b26e-137cefe6ae68       /               ext4            rw,relatime     0 1\n\nUUID=B320-B5C7          /boot           vfat            rw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=iso8859-1,shortname=mixed,utf8,errors=remount-ro       0 2\n\nUUID=c4b396e5-cb87-42dc-b44e-4b26661e5cc0       none            swap            defaults        0 0\n```\n\n`blkid` UUID UUID \n\n## \n\nGentoo \n\n[gentoo wiki](https://wiki.gentoo.org/wiki/Kernel/Gentoo_Kernel_Configuration_Guide)\n\n### \n\n\n\n- \n\n```\nemerge sys-kernel/genkernel\n```\n\n- \n\n```\n# \neselect kernel list\n# \neselect kernel set number\n```\n\n- \n\n```\ngenkernel all\n```\n\n### \n\n- \n\n```\nemerge --ask sys-apps/pciutils\n```\n\n- \n\n`lsmod` Gentoo Live \n\n- \n\n```\n# \ncd /usr/src/linux\n# \nmake menuconfig\n```\n\n\n\n save  exit .config\n\n- \n\n```\nmake\nmake modules_install\nmake install\n```\n\n- \n\n\n\n##  firmware  initrampfs\n\n```\nemerge --ask sys-kernel/linux-firmware\n# \ngenkernel --install initramfs\n```\n\n## \n\n Systemd OpenRC\n\n### \n\n- `/etc/hostname`\n\n\n\n```\nyourname\n```\n\n- `/etc/hosts`\n\n```\n# tux\n127.0.0.1     localhost\n::1 \t\t  localhost\n127.0.1.1 \t  name.localdomain name\n```\n\n- \n\n livecd NetworkManager  wifi \n\n```\nemerge net-wireless/wpa_supplicant dhcpcd\n```\n\n### \n\n```\npasswd\n```\n\n 8 \n\n`/etc/pam.d/system-auth``min=8,8,8,8,8 retry=3` 8  1\n\n### \n\n- \n\n```\nemerge --ask app-admin/syslog-ng\nsystemctl enable syslog-ng@default\n```\n\n- \n\n```\nsystemctl enable sshd\n```\n\n- \n\n```\nemerge --ask sys-fs/dosfstools sys-fs/e2fsprogs\n```\n\n### \n\n```\nuseradd -m -G users,wheel,audio -s /bin/bash username\npasswd username # 8\n```\n\n### \n\n```\nrm /stage3-*.tar.*\n```\n\n## \n\n-  grub\n\n```\nemerge --ask --verbose sys-boot/grub:2\n```\n\n-  grub \n\n efi \n\n```\ngrub-install --target=x86_64-efi --efi-directory=/boot\ngrub-mkconfig -o /boot/grub/grub.cfg\n```\n\n###  sudo\n\n```\nemerge --ask sudo\nnvim /etc/sudoers\n# root ALL=(ALL) ALL\n```\n\n###  sshd\n\n`/etc/ssh/sshd_config`\n\n```\nPort 22\nPermitRootLogin yes\nPasswordAuthentication yes\n```\n\n###  SysRq\n\n`/etc/sysctl.conf`\n\n```\nkernel.sysrq = 1\n```\n\nGentoo  chroot\n\n[Gentoo Kool Desktop Environment Installation](https://www.niuiic.top/2020/08/08/gentoo-kool-desktop-environment-installation/)\n","source":"_posts/gentoo-basic-system-installation.md","raw":"---\ntitle: Gentoo Basic System Installation\ndate: 2020-08-07 15:36:38\ntags:\n\t\t- Gentoo\ncategories:\n\t\t- Gentoo\n---\n\n[Gentoo ](https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/)\n\n# Gentoo \n\n gentoo \n\n##  gentoo \n\n[](https://mirrors.tuna.tsinghua.edu.cn/) gentoo \n\n![](1.png)\n\nu \n\n##  ssh\n\n- \n\n`dhcpcd`\n\n- wifi\n\n```\n# \nip a\n\n# \nip link set interface_name up\n\n# wifi\n# wifi\n\n# wifi\nwpa_passphrase   > \n\n# wifi\nwpa_supplicant -c  -i  &\n\n# ip\ndhcpcd &\n```\n\n-  ssh\n\n```\n# ssh\n/etc/init.d/sshd start\n# livecd\npasswd\n# livecdroot\n```\n\n## \n\n\n\n[gentoo wiki](https://wiki.gentoo.org/wiki/Handbook:AMD64/Installation/Disks/zh-cn)\n[gentoo handbook](https://wiki.gentoo.org/wiki/Handbook:X86/Blocks/Disks/zh-cn)\n\n fstab  linux fstab\n\n G CPU \n\n GPT  EFI\n\n```\nfdisk -l\n# nvme0n1\nfdisk /dev/nvme0n1\ng\n# \nw\n# grub\n# \nmkfs.fat -F32 /dev/nvme0n1p1\n# \nmkfs.ext4 /dev/nvme0n1p2\n# \nmkswap /dev/nvme0n1p3\n# \nswapon /dev/nvme0n1p3\n```\n\n livecd \n\n```\nmount /dev/nvme0n1p2 /mnt/gentoo\n```\n\n## \n\n gentoo \n\n gentoo livecd  gentoo \n\n[](https://mirrors.tuna.tsinghua.edu.cn/)\n\nGentoo  stage3  gentoo \n\n![stage3](2.png)\n\nGentoo stage3  gentoo wiki systemd  OpenRCnomultilib  64 \n\n systemd kde `/mnt/gentoo`\n\n![systemd stage3](3.png)\n\n`sha512sum -c stage3-amd64-*.tar.xz.DIGESTS` ok  failed `tar xpvf stage3-*.tar.xz --xattrs-include='*.*' --numeric-owner`\n\n## \n\n`/mnt/gentoo/etc/portage/make.conf`\n\n[Gentoo wiki](https://wiki.gentoo.org/wiki//etc/portage/make.conf)[gentoo doc](https://dev.gentoo.org/~zmedico/portage/doc/man/make.conf.5.html)\n\n gentoo \n\n```\nCOMMON_FLAGS=\"-march=native -O2 -pipe\"\n\nCFLAGS=\"${COMMON_FLAGS}\"\nCXXFLAGS=\"${COMMON_FLAGS}\"\nFCFLAGS=\"${COMMON_FLAGS}\"\nFFLAGS=\"${COMMON_FLAGS}\"\n\nCHOST=\"x86_64-pc-linux-gnu\"\n\nCONFIG_PROTECT=\"/var/bind\"\n\nPORTDIR=\"/var/db/repos/gentoo\"\nDISTDIR=\"/var/cache/distfiles\"\nPKGDIR=\"/var/cache/binpkgs\"\n\nLC_MESSAGES=C\n\nMAKEOPTS=\"-j8\"\n\nGENTOO_MIRRORS=\"https://mirrors.tuna.tsinghua.edu.cn/gentoo\"\n\nPORTAGE_TMPDIR=\"/var/tmp\"\n\nDISTDIR=/var/gentoo/distfiles\n\nACCEPT_LICENSE=\"*\"\n\nVIDEO_CARDS=\"radeon\"\n\nL10N=\"en_US en zh zh_CN\"\n\nLINGUAS=\"en-US zh-CN en zh\"\n\nAUTO_CLEAN=\"yes\"\n\nGRUB_PLATFORMS=\"efi-64\"\n\nEMERGE_DEFAULT_OPTS=\"--with-bdeps=y --ask --verbose=y --load-average --keep-going\"\n\nINPUT_DEVICES=\"libinput synaptics evdev\"\n\nUSE=\"X alsa clang udev dbus polkit udisks vulkan vdpau vaapi glamor nls\"\n\nKEYWORDS=\"amd64\"\n```\n\n\n\n`GENTOO_MIRRORS` gentoo \n\n`EMERGE_DEFAULT_OPTS` emerge \n\n`INPUT_DEVICES`\n\n`KEYWORDS`\n\n`MAKEOPTS` CPU \n\n## \n\n```\nmkdir --parents /mnt/gentoo/etc/portage/repos.conf\ncp /mnt/gentoo/usr/share/portage/config/repos.conf /mnt/gentoo/etc/portage/repos.conf/gentoo.conf\ncp --dereference /etc/resolv.conf /mnt/gentoo/etc/\n```\n\n`/mnt/gentoo/etc/portage/repos.conf/gentoo.conf` portage \n\n```\nsync-uri = rsync://mirrors.tuna.tsinghua.edu.cn/gentoo-portage\n```\n\n## \n\n- \n\n```\nmount --types proc /proc /mnt/gentoo/proc\nmount --rbind /sys /mnt/gentoo/sys\nmount --make-rslave /mnt/gentoo/sys\nmount --rbind /dev /mnt/gentoo/dev\nmount --make-rslave /mnt/gentoo/dev\n```\n\n- chroot \n\n```\nchroot /mnt/gentoo /bin/bash\nsource /etc/profile\nexport PS1=\"(chroot) ${PS1}\"\n```\n\n-  boot \n\n```\nmount /dev/nvme0n1p1 /boot\n```\n\n##  Portage\n\n- \n\n```\nemerge-webrsync\n```\n\n-  profile\n\nprofile  USE flag \n\n```\n# profile\neselect profile list\n# profilegentoo wikikdeprofile\neselect profile set default/linux/amd64/17.1/desktop/plasma/systemd\n```\n\n17.0  17.1 \n\n## \n\n\n\n### \n\n stage3  nano\n\n### git\n\n git  portage\n\n\n\n\n\n git\n\n`/etc/portage/repos.conf/gentoo.conf`\n\n```\n[gentoo]\nsync-type = git\nsync-uri = https://github.com/gentoo-mirror/gentoo\n```\n\n```\n# portage\nrm -rf /mnt/gentoo/var/db/repos/gentoo`\n# portage\n`emerge --sync`\n```\n\n### gentoolkit\n\n gentoolkit\n\n- \n\n```\n# enableUSE flag\neuse -a -geuse -a -l\n# USE flag\neuse -E flagname\n# USE flag\neuse -D flagname\n# euse -Deuse -EUSE flag\n# use\nequery --nocolor uses =gnumeric-1.12.31\n# \neclean-dist\n# \neclean-pkg\n```\n\n- eclean \n\n ebuild \n\n `--deep`  `--package-names`  ebuild \n\n###  layman\n\nlayman  gentoo overlay eix-sync `layman -S`\n\n[gentoo wiki](https://wiki.gentoo.org/wiki/Layman)\n\n- layman \n\n USE flag  gitsync-plugin-portage\n\n```\nemerge --ask app-portage/layman\nmkdir /etc/portage/repos.conf\nlayman-updater -R\n```\n\n- \n\n```\nlayman -L # \nlayman -a <name> # \nlayman -o <url of repository xml file> -f -a <name> # \nlayman -d <name> # \nlayman -s <name> # \nlayman -S # \n```\n\n###  eix\n\n[gentoo wiki](https://wiki.gentoo.org/wiki/Eix)\n\neix \n\n- eix \n\n```\nemerge app-portage/eix\neix-update\neix-sync\n```\n\n`eix-sync``emerge --sync` eix \n\n`/etc/eix-sync.conf``*` ebuild \n\n- \n\n```\n# \neix name\n# \neix -I name\n# -c\neix -S -c name\n# \neix -C name\n# \neix -Cc games-rpg -L \"EULA\"\n# \neix --not -L \"EULA\"\n# \neix-test-obsolete\n```\n\n###  ccache\n\nccache  ccache \n\n- ccache \n\n```\nemerge --ask ccache\nmkdir -p /var/cache/ccache\nchown root:portage /var/cache/ccache/\nchmod 2775 /var/cache/ccache/\n```\n\n`/etc/portage/make.conf`\n\n```\nFEATURES=\"ccache\"\nCCACHE_DIR=\"/var/cache/ccache\"\nCCACHE_SIZE=\"16G\"\n```\n\n###  32 \n\nGentoo  64  32  32 \n\n stage3  nomultilib 32 \n\n```\nemerge --ask --verbose db\n\n# /etc/portage/package.use/abi_x86_32\n\nsys-libs/zlib abi_x86_32\n\n# /etc/portage/make.conf\n\nABI_X86=\"32 64\"\n\nemerge --ask --verbose zlib\n```\n\n### \n\nGentoo \n\n[gentoo handbook](https://wiki.gentoo.org/wiki/Handbook:Parts/Full/Working/zh-cn#.E5.B0.86.E9.A2.84.E6.9E.84.E5.BB.BA.E7.9A.84.E8.BD.AF.E4.BB.B6.E5.8C.85.E5.88.86.E5.8F.91.E7.BB.99.E4.BB.96.E4.BA.BA)[gentoo doc](https://docs.huihoo.com/gentoo/resources/document-listing/distcc.html)[gentoo wiki](https://wiki.gentoo.org/wiki/Distcc/zh-cn)\n\n## \n\n GFW PS\n\n- \n\n```\n\necho Asia/Shanghai > /etc/timezone emerge --config sys-libs/timezone-data\n```\n\n- \n\n```\n\n#  locale.gen\n\necho 'zh_CN.UTF-8 UTF-8' >> /etc/locale.gen\necho 'en_US.UTF-8 UTF-8' >> /etc/locale.gen\nlocale-gen\n\n# \n\neselect locale list\n\n# \n\neselect locale set 3\n\n# \n\nenv-update && source /etc/profile && export PS1=\"(chroot) \\${PS1}\"\n\n```\n\n/usr/bin/git  systemd git \n\n- \n\n```\n# \n\nhwclock\ndate\ndate -s 2020/03/09\ndate -s 11:50:30\nhwclock -w\n\n# \n\ntimedatectl set-ntp true\n```\n\n##  gcc\n\n gcc clang  gcc \n\n gcc \n\n- USE flag\n\n\n\n```\nfortran nls nptl openmp pch sanitize ssp lto\n```\n\n-  gcc\n\n```\n# Portage\neix-sync\n# gcc\nemerge --ask gcc\n# gcc\n# gcc\ngcc-config --list-profiles\n# gcc\ngcc-config 2\nsource /etc/profile\nexport PS1=\"(chroot) ${PS1}\"\nemerge --ask --oneshot --usepkg=n sys-devel/libtool\n# gcc\ngcc -v\n# \nemerge --ask --depclean =sys-devel/gcc-9.3.0\n# \nrevdep-rebuild\n# \nemerge --ask --oneshot --usepkg=n --verbose sys-devel/llvm sys-devel/clang\n# \nemerge --ask --emptytree --usepkg=n @system\n```\n\n##  clang\n\n clang  gcc  clang [Gentoo Compile Error Handling](https://www.niuiic.top/2020/08/06/gentoo-compile-error-handling/)\n\n clang \n\n```\nemerge --ask --emptytree --usepkg=n @system\n```\n\n## \n\n```\n# \neix-sync\nemerge --oneshot sys-apps/portage\n```\n\n\n\n## @world\n\n\n\n```\nemerge sys-kernel/gentoo-sources\nemerge --deep --with-bdeps=y --changed-use --update --ask --verbose --keep-going @world\n```\n\n##  fstab\n\nfstab \n\n fstab \n\n fstab [gentoo wiki](https://wiki.gentoo.org/wiki/Fstab)\n\n linux  copy `/etc/fstab`\n\n\n\n```\nUUID=e5bc0d97-ac5c-400c-b26e-137cefe6ae68       /               ext4            rw,relatime     0 1\n\nUUID=B320-B5C7          /boot           vfat            rw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=iso8859-1,shortname=mixed,utf8,errors=remount-ro       0 2\n\nUUID=c4b396e5-cb87-42dc-b44e-4b26661e5cc0       none            swap            defaults        0 0\n```\n\n`blkid` UUID UUID \n\n## \n\nGentoo \n\n[gentoo wiki](https://wiki.gentoo.org/wiki/Kernel/Gentoo_Kernel_Configuration_Guide)\n\n### \n\n\n\n- \n\n```\nemerge sys-kernel/genkernel\n```\n\n- \n\n```\n# \neselect kernel list\n# \neselect kernel set number\n```\n\n- \n\n```\ngenkernel all\n```\n\n### \n\n- \n\n```\nemerge --ask sys-apps/pciutils\n```\n\n- \n\n`lsmod` Gentoo Live \n\n- \n\n```\n# \ncd /usr/src/linux\n# \nmake menuconfig\n```\n\n\n\n save  exit .config\n\n- \n\n```\nmake\nmake modules_install\nmake install\n```\n\n- \n\n\n\n##  firmware  initrampfs\n\n```\nemerge --ask sys-kernel/linux-firmware\n# \ngenkernel --install initramfs\n```\n\n## \n\n Systemd OpenRC\n\n### \n\n- `/etc/hostname`\n\n\n\n```\nyourname\n```\n\n- `/etc/hosts`\n\n```\n# tux\n127.0.0.1     localhost\n::1 \t\t  localhost\n127.0.1.1 \t  name.localdomain name\n```\n\n- \n\n livecd NetworkManager  wifi \n\n```\nemerge net-wireless/wpa_supplicant dhcpcd\n```\n\n### \n\n```\npasswd\n```\n\n 8 \n\n`/etc/pam.d/system-auth``min=8,8,8,8,8 retry=3` 8  1\n\n### \n\n- \n\n```\nemerge --ask app-admin/syslog-ng\nsystemctl enable syslog-ng@default\n```\n\n- \n\n```\nsystemctl enable sshd\n```\n\n- \n\n```\nemerge --ask sys-fs/dosfstools sys-fs/e2fsprogs\n```\n\n### \n\n```\nuseradd -m -G users,wheel,audio -s /bin/bash username\npasswd username # 8\n```\n\n### \n\n```\nrm /stage3-*.tar.*\n```\n\n## \n\n-  grub\n\n```\nemerge --ask --verbose sys-boot/grub:2\n```\n\n-  grub \n\n efi \n\n```\ngrub-install --target=x86_64-efi --efi-directory=/boot\ngrub-mkconfig -o /boot/grub/grub.cfg\n```\n\n###  sudo\n\n```\nemerge --ask sudo\nnvim /etc/sudoers\n# root ALL=(ALL) ALL\n```\n\n###  sshd\n\n`/etc/ssh/sshd_config`\n\n```\nPort 22\nPermitRootLogin yes\nPasswordAuthentication yes\n```\n\n###  SysRq\n\n`/etc/sysctl.conf`\n\n```\nkernel.sysrq = 1\n```\n\nGentoo  chroot\n\n[Gentoo Kool Desktop Environment Installation](https://www.niuiic.top/2020/08/08/gentoo-kool-desktop-environment-installation/)\n","slug":"gentoo-basic-system-installation","published":1,"updated":"2021-06-15T04:18:36.985Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9cq001ydbizbkfxc3cg","content":"<p><a href=\"https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/\">Gentoo </a></p>\n<h1 id=\"Gentoo-\"><a href=\"#Gentoo-\" class=\"headerlink\" title=\"Gentoo \"></a>Gentoo </h1><p> gentoo </p>\n<h2 id=\"-gentoo-\"><a href=\"#-gentoo-\" class=\"headerlink\" title=\" gentoo \"></a> gentoo </h2><p><a href=\"https://mirrors.tuna.tsinghua.edu.cn/\"></a> gentoo </p>\n<p><img src=\"1.png\" alt=\"\"></p>\n<p>u </p>\n<h2 id=\"-ssh\"><a href=\"#-ssh\" class=\"headerlink\" title=\" ssh\"></a> ssh</h2><ul>\n<li></li>\n</ul>\n<p><code>dhcpcd</code></p>\n<ul>\n<li>wifi</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># \nip a\n\n# \nip link set interface_name up\n\n# wifi\n# wifi\n\n# wifi\nwpa_passphrase   &gt; \n\n# wifi\nwpa_supplicant -c  -i  &amp;\n\n# ip\ndhcpcd &amp;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li> ssh</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># ssh\n&#x2F;etc&#x2F;init.d&#x2F;sshd start\n# livecd\npasswd\n# livecdroot<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Handbook:AMD64/Installation/Disks/zh-cn\">gentoo wiki</a><br><a href=\"https://wiki.gentoo.org/wiki/Handbook:X86/Blocks/Disks/zh-cn\">gentoo handbook</a></p>\n<p> fstab  linux fstab</p>\n<p> G CPU </p>\n<p> GPT  EFI</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">fdisk -l\n# nvme0n1\nfdisk &#x2F;dev&#x2F;nvme0n1\ng\n# \nw\n# grub\n# \nmkfs.fat -F32 &#x2F;dev&#x2F;nvme0n1p1\n# \nmkfs.ext4 &#x2F;dev&#x2F;nvme0n1p2\n# \nmkswap &#x2F;dev&#x2F;nvme0n1p3\n# \nswapon &#x2F;dev&#x2F;nvme0n1p3<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> livecd </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">mount &#x2F;dev&#x2F;nvme0n1p2 &#x2F;mnt&#x2F;gentoo<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> gentoo </p>\n<p> gentoo livecd  gentoo </p>\n<p><a href=\"https://mirrors.tuna.tsinghua.edu.cn/\"></a></p>\n<p>Gentoo  stage3  gentoo </p>\n<p><img src=\"2.png\" alt=\"stage3\"></p>\n<p>Gentoo stage3  gentoo wiki systemd  OpenRCnomultilib  64 </p>\n<p> systemd kde <code>/mnt/gentoo</code></p>\n<p><img src=\"3.png\" alt=\"systemd stage3\"></p>\n<p><code>sha512sum -c stage3-amd64-*.tar.xz.DIGESTS</code> ok  failed <code>tar xpvf stage3-*.tar.xz --xattrs-include=&#39;*.*&#39; --numeric-owner</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>/mnt/gentoo/etc/portage/make.conf</code></p>\n<p><a href=\"https://wiki.gentoo.org/wiki//etc/portage/make.conf\">Gentoo wiki</a><a href=\"https://dev.gentoo.org/~zmedico/portage/doc/man/make.conf.5.html\">gentoo doc</a></p>\n<p> gentoo </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">COMMON_FLAGS&#x3D;&quot;-march&#x3D;native -O2 -pipe&quot;\n\nCFLAGS&#x3D;&quot;$&#123;COMMON_FLAGS&#125;&quot;\nCXXFLAGS&#x3D;&quot;$&#123;COMMON_FLAGS&#125;&quot;\nFCFLAGS&#x3D;&quot;$&#123;COMMON_FLAGS&#125;&quot;\nFFLAGS&#x3D;&quot;$&#123;COMMON_FLAGS&#125;&quot;\n\nCHOST&#x3D;&quot;x86_64-pc-linux-gnu&quot;\n\nCONFIG_PROTECT&#x3D;&quot;&#x2F;var&#x2F;bind&quot;\n\nPORTDIR&#x3D;&quot;&#x2F;var&#x2F;db&#x2F;repos&#x2F;gentoo&quot;\nDISTDIR&#x3D;&quot;&#x2F;var&#x2F;cache&#x2F;distfiles&quot;\nPKGDIR&#x3D;&quot;&#x2F;var&#x2F;cache&#x2F;binpkgs&quot;\n\nLC_MESSAGES&#x3D;C\n\nMAKEOPTS&#x3D;&quot;-j8&quot;\n\nGENTOO_MIRRORS&#x3D;&quot;https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;gentoo&quot;\n\nPORTAGE_TMPDIR&#x3D;&quot;&#x2F;var&#x2F;tmp&quot;\n\nDISTDIR&#x3D;&#x2F;var&#x2F;gentoo&#x2F;distfiles\n\nACCEPT_LICENSE&#x3D;&quot;*&quot;\n\nVIDEO_CARDS&#x3D;&quot;radeon&quot;\n\nL10N&#x3D;&quot;en_US en zh zh_CN&quot;\n\nLINGUAS&#x3D;&quot;en-US zh-CN en zh&quot;\n\nAUTO_CLEAN&#x3D;&quot;yes&quot;\n\nGRUB_PLATFORMS&#x3D;&quot;efi-64&quot;\n\nEMERGE_DEFAULT_OPTS&#x3D;&quot;--with-bdeps&#x3D;y --ask --verbose&#x3D;y --load-average --keep-going&quot;\n\nINPUT_DEVICES&#x3D;&quot;libinput synaptics evdev&quot;\n\nUSE&#x3D;&quot;X alsa clang udev dbus polkit udisks vulkan vdpau vaapi glamor nls&quot;\n\nKEYWORDS&#x3D;&quot;amd64&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p><code>GENTOO_MIRRORS</code> gentoo </p>\n<p><code>EMERGE_DEFAULT_OPTS</code> emerge </p>\n<p><code>INPUT_DEVICES</code></p>\n<p><code>KEYWORDS</code></p>\n<p><code>MAKEOPTS</code> CPU </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">mkdir --parents &#x2F;mnt&#x2F;gentoo&#x2F;etc&#x2F;portage&#x2F;repos.conf\ncp &#x2F;mnt&#x2F;gentoo&#x2F;usr&#x2F;share&#x2F;portage&#x2F;config&#x2F;repos.conf &#x2F;mnt&#x2F;gentoo&#x2F;etc&#x2F;portage&#x2F;repos.conf&#x2F;gentoo.conf\ncp --dereference &#x2F;etc&#x2F;resolv.conf &#x2F;mnt&#x2F;gentoo&#x2F;etc&#x2F;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><code>/mnt/gentoo/etc/portage/repos.conf/gentoo.conf</code> portage </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sync-uri &#x3D; rsync:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;gentoo-portage<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">mount --types proc &#x2F;proc &#x2F;mnt&#x2F;gentoo&#x2F;proc\nmount --rbind &#x2F;sys &#x2F;mnt&#x2F;gentoo&#x2F;sys\nmount --make-rslave &#x2F;mnt&#x2F;gentoo&#x2F;sys\nmount --rbind &#x2F;dev &#x2F;mnt&#x2F;gentoo&#x2F;dev\nmount --make-rslave &#x2F;mnt&#x2F;gentoo&#x2F;dev<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>chroot </li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">chroot &#x2F;mnt&#x2F;gentoo &#x2F;bin&#x2F;bash\nsource &#x2F;etc&#x2F;profile\nexport PS1&#x3D;&quot;(chroot) $&#123;PS1&#125;&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li> boot </li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">mount &#x2F;dev&#x2F;nvme0n1p1 &#x2F;boot<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"-Portage\"><a href=\"#-Portage\" class=\"headerlink\" title=\" Portage\"></a> Portage</h2><ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge-webrsync<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li> profile</li>\n</ul>\n<p>profile  USE flag </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># profile\neselect profile list\n# profilegentoo wikikdeprofile\neselect profile set default&#x2F;linux&#x2F;amd64&#x2F;17.1&#x2F;desktop&#x2F;plasma&#x2F;systemd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>17.0  17.1 </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> stage3  nano</p>\n<h3 id=\"git\"><a href=\"#git\" class=\"headerlink\" title=\"git\"></a>git</h3><p> git  portage</p>\n<p></p>\n<p></p>\n<p> git</p>\n<p><code>/etc/portage/repos.conf/gentoo.conf</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[gentoo]\nsync-type &#x3D; git\nsync-uri &#x3D; https:&#x2F;&#x2F;github.com&#x2F;gentoo-mirror&#x2F;gentoo<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># portage\nrm -rf &#x2F;mnt&#x2F;gentoo&#x2F;var&#x2F;db&#x2F;repos&#x2F;gentoo&#96;\n# portage\n&#96;emerge --sync&#96;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"gentoolkit\"><a href=\"#gentoolkit\" class=\"headerlink\" title=\"gentoolkit\"></a>gentoolkit</h3><p> gentoolkit</p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># enableUSE flag\neuse -a -geuse -a -l\n# USE flag\neuse -E flagname\n# USE flag\neuse -D flagname\n# euse -Deuse -EUSE flag\n# use\nequery --nocolor uses &#x3D;gnumeric-1.12.31\n# \neclean-dist\n# \neclean-pkg<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>eclean </li>\n</ul>\n<p> ebuild </p>\n<p> <code>--deep</code>  <code>--package-names</code>  ebuild </p>\n<h3 id=\"-layman\"><a href=\"#-layman\" class=\"headerlink\" title=\" layman\"></a> layman</h3><p>layman  gentoo overlay eix-sync <code>layman -S</code></p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Layman\">gentoo wiki</a></p>\n<ul>\n<li>layman </li>\n</ul>\n<p> USE flag  gitsync-plugin-portage</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask app-portage&#x2F;layman\nmkdir &#x2F;etc&#x2F;portage&#x2F;repos.conf\nlayman-updater -R<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">layman -L # \nlayman -a &lt;name&gt; # \nlayman -o &lt;url of repository xml file&gt; -f -a &lt;name&gt; # \nlayman -d &lt;name&gt; # \nlayman -s &lt;name&gt; # \nlayman -S # <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"-eix\"><a href=\"#-eix\" class=\"headerlink\" title=\" eix\"></a> eix</h3><p><a href=\"https://wiki.gentoo.org/wiki/Eix\">gentoo wiki</a></p>\n<p>eix </p>\n<ul>\n<li>eix </li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge app-portage&#x2F;eix\neix-update\neix-sync<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><code>eix-sync</code><code>emerge --sync</code> eix </p>\n<p><code>/etc/eix-sync.conf</code><code>*</code> ebuild </p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># \neix name\n# \neix -I name\n# -c\neix -S -c name\n# \neix -C name\n# \neix -Cc games-rpg -L &quot;EULA&quot;\n# \neix --not -L &quot;EULA&quot;\n# \neix-test-obsolete<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"-ccache\"><a href=\"#-ccache\" class=\"headerlink\" title=\" ccache\"></a> ccache</h3><p>ccache  ccache </p>\n<ul>\n<li>ccache </li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask ccache\nmkdir -p &#x2F;var&#x2F;cache&#x2F;ccache\nchown root:portage &#x2F;var&#x2F;cache&#x2F;ccache&#x2F;\nchmod 2775 &#x2F;var&#x2F;cache&#x2F;ccache&#x2F;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>/etc/portage/make.conf</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">FEATURES&#x3D;&quot;ccache&quot;\nCCACHE_DIR&#x3D;&quot;&#x2F;var&#x2F;cache&#x2F;ccache&quot;\nCCACHE_SIZE&#x3D;&quot;16G&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"-32-\"><a href=\"#-32-\" class=\"headerlink\" title=\" 32 \"></a> 32 </h3><p>Gentoo  64  32  32 </p>\n<p> stage3  nomultilib 32 </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask --verbose db\n\n# &#x2F;etc&#x2F;portage&#x2F;package.use&#x2F;abi_x86_32\n\nsys-libs&#x2F;zlib abi_x86_32\n\n# &#x2F;etc&#x2F;portage&#x2F;make.conf\n\nABI_X86&#x3D;&quot;32 64&quot;\n\nemerge --ask --verbose zlib<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Gentoo </p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Handbook:Parts/Full/Working/zh-cn#.E5.B0.86.E9.A2.84.E6.9E.84.E5.BB.BA.E7.9A.84.E8.BD.AF.E4.BB.B6.E5.8C.85.E5.88.86.E5.8F.91.E7.BB.99.E4.BB.96.E4.BA.BA\">gentoo handbook</a><a href=\"https://docs.huihoo.com/gentoo/resources/document-listing/distcc.html\">gentoo doc</a><a href=\"https://wiki.gentoo.org/wiki/Distcc/zh-cn\">gentoo wiki</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> GFW PS</p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\necho Asia&#x2F;Shanghai &gt; &#x2F;etc&#x2F;timezone emerge --config sys-libs&#x2F;timezone-data<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\n#  locale.gen\n\necho &#39;zh_CN.UTF-8 UTF-8&#39; &gt;&gt; &#x2F;etc&#x2F;locale.gen\necho &#39;en_US.UTF-8 UTF-8&#39; &gt;&gt; &#x2F;etc&#x2F;locale.gen\nlocale-gen\n\n# \n\neselect locale list\n\n# \n\neselect locale set 3\n\n# \n\nenv-update &amp;&amp; source &#x2F;etc&#x2F;profile &amp;&amp; export PS1&#x3D;&quot;(chroot) \\$&#123;PS1&#125;&quot;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>/usr/bin/git  systemd git </p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># \n\nhwclock\ndate\ndate -s 2020&#x2F;03&#x2F;09\ndate -s 11:50:30\nhwclock -w\n\n# \n\ntimedatectl set-ntp true<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"-gcc\"><a href=\"#-gcc\" class=\"headerlink\" title=\" gcc\"></a> gcc</h2><p> gcc clang  gcc </p>\n<p> gcc </p>\n<ul>\n<li>USE flag</li>\n</ul>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">fortran nls nptl openmp pch sanitize ssp lto<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li> gcc</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># Portage\neix-sync\n# gcc\nemerge --ask gcc\n# gcc\n# gcc\ngcc-config --list-profiles\n# gcc\ngcc-config 2\nsource &#x2F;etc&#x2F;profile\nexport PS1&#x3D;&quot;(chroot) $&#123;PS1&#125;&quot;\nemerge --ask --oneshot --usepkg&#x3D;n sys-devel&#x2F;libtool\n# gcc\ngcc -v\n# \nemerge --ask --depclean &#x3D;sys-devel&#x2F;gcc-9.3.0\n# \nrevdep-rebuild\n# \nemerge --ask --oneshot --usepkg&#x3D;n --verbose sys-devel&#x2F;llvm sys-devel&#x2F;clang\n# \nemerge --ask --emptytree --usepkg&#x3D;n @system<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"-clang\"><a href=\"#-clang\" class=\"headerlink\" title=\" clang\"></a> clang</h2><p> clang  gcc  clang <a href=\"https://www.niuiic.top/2020/08/06/gentoo-compile-error-handling/\">Gentoo Compile Error Handling</a></p>\n<p> clang </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask --emptytree --usepkg&#x3D;n @system<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\"line-numbers language-none\"><code class=\"language-none\"># \neix-sync\nemerge --oneshot sys-apps&#x2F;portage<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<h2 id=\"-world\"><a href=\"#-world\" class=\"headerlink\" title=\"@world\"></a>@world</h2><p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge sys-kernel&#x2F;gentoo-sources\nemerge --deep --with-bdeps&#x3D;y --changed-use --update --ask --verbose --keep-going @world<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h2 id=\"-fstab\"><a href=\"#-fstab\" class=\"headerlink\" title=\" fstab\"></a> fstab</h2><p>fstab </p>\n<p> fstab </p>\n<p> fstab <a href=\"https://wiki.gentoo.org/wiki/Fstab\">gentoo wiki</a></p>\n<p> linux  copy <code>/etc/fstab</code></p>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">UUID&#x3D;e5bc0d97-ac5c-400c-b26e-137cefe6ae68       &#x2F;               ext4            rw,relatime     0 1\n\nUUID&#x3D;B320-B5C7          &#x2F;boot           vfat            rw,relatime,fmask&#x3D;0022,dmask&#x3D;0022,codepage&#x3D;437,iocharset&#x3D;iso8859-1,shortname&#x3D;mixed,utf8,errors&#x3D;remount-ro       0 2\n\nUUID&#x3D;c4b396e5-cb87-42dc-b44e-4b26661e5cc0       none            swap            defaults        0 0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>blkid</code> UUID UUID </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Gentoo </p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Kernel/Gentoo_Kernel_Configuration_Guide\">gentoo wiki</a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge sys-kernel&#x2F;genkernel<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># \neselect kernel list\n# \neselect kernel set number<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">genkernel all<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask sys-apps&#x2F;pciutils<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p><code>lsmod</code> Gentoo Live </p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># \ncd &#x2F;usr&#x2F;src&#x2F;linux\n# \nmake menuconfig<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p> save  exit .config</p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">make\nmake modules_install\nmake install<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p></p>\n<h2 id=\"-firmware--initrampfs\"><a href=\"#-firmware--initrampfs\" class=\"headerlink\" title=\" firmware  initrampfs\"></a> firmware  initrampfs</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask sys-kernel&#x2F;linux-firmware\n# \ngenkernel --install initramfs<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Systemd OpenRC</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><code>/etc/hostname</code></li>\n</ul>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">yourname<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><code>/etc/hosts</code></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># tux\n127.0.0.1     localhost\n::1 \t\t  localhost\n127.0.1.1 \t  name.localdomain name<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p> livecd NetworkManager  wifi </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge net-wireless&#x2F;wpa_supplicant dhcpcd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">passwd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p> 8 </p>\n<p><code>/etc/pam.d/system-auth</code><code>min=8,8,8,8,8 retry=3</code> 8  1</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask app-admin&#x2F;syslog-ng\nsystemctl enable syslog-ng@default<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">systemctl enable sshd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask sys-fs&#x2F;dosfstools sys-fs&#x2F;e2fsprogs<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">useradd -m -G users,wheel,audio -s &#x2F;bin&#x2F;bash username\npasswd username # 8<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">rm &#x2F;stage3-*.tar.*<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li> grub</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask --verbose sys-boot&#x2F;grub:2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li> grub </li>\n</ul>\n<p> efi </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">grub-install --target&#x3D;x86_64-efi --efi-directory&#x3D;&#x2F;boot\ngrub-mkconfig -o &#x2F;boot&#x2F;grub&#x2F;grub.cfg<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h3 id=\"-sudo\"><a href=\"#-sudo\" class=\"headerlink\" title=\" sudo\"></a> sudo</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask sudo\nnvim &#x2F;etc&#x2F;sudoers\n# root ALL&#x3D;(ALL) ALL<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"-sshd\"><a href=\"#-sshd\" class=\"headerlink\" title=\" sshd\"></a> sshd</h3><p><code>/etc/ssh/sshd_config</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Port 22\nPermitRootLogin yes\nPasswordAuthentication yes<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"-SysRq\"><a href=\"#-SysRq\" class=\"headerlink\" title=\" SysRq\"></a> SysRq</h3><p><code>/etc/sysctl.conf</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">kernel.sysrq &#x3D; 1<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>Gentoo  chroot</p>\n<p><a href=\"https://www.niuiic.top/2020/08/08/gentoo-kool-desktop-environment-installation/\">Gentoo Kool Desktop Environment Installation</a></p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<p><a href=\"https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/\">Gentoo </a></p>\n<h1 id=\"Gentoo-\"><a href=\"#Gentoo-\" class=\"headerlink\" title=\"Gentoo \"></a>Gentoo </h1><p> gentoo </p>\n<h2 id=\"-gentoo-\"><a href=\"#-gentoo-\" class=\"headerlink\" title=\" gentoo \"></a> gentoo </h2><p><a href=\"https://mirrors.tuna.tsinghua.edu.cn/\"></a> gentoo </p>\n<p><img src=\"1.png\" alt=\"\"></p>\n<p>u </p>\n<h2 id=\"-ssh\"><a href=\"#-ssh\" class=\"headerlink\" title=\" ssh\"></a> ssh</h2><ul>\n<li></li>\n</ul>\n<p><code>dhcpcd</code></p>\n<ul>\n<li>wifi</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># \nip a\n\n# \nip link set interface_name up\n\n# wifi\n# wifi\n\n# wifi\nwpa_passphrase   &gt; \n\n# wifi\nwpa_supplicant -c  -i  &amp;\n\n# ip\ndhcpcd &amp;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li> ssh</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># ssh\n&#x2F;etc&#x2F;init.d&#x2F;sshd start\n# livecd\npasswd\n# livecdroot<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Handbook:AMD64/Installation/Disks/zh-cn\">gentoo wiki</a><br><a href=\"https://wiki.gentoo.org/wiki/Handbook:X86/Blocks/Disks/zh-cn\">gentoo handbook</a></p>\n<p> fstab  linux fstab</p>\n<p> G CPU </p>\n<p> GPT  EFI</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">fdisk -l\n# nvme0n1\nfdisk &#x2F;dev&#x2F;nvme0n1\ng\n# \nw\n# grub\n# \nmkfs.fat -F32 &#x2F;dev&#x2F;nvme0n1p1\n# \nmkfs.ext4 &#x2F;dev&#x2F;nvme0n1p2\n# \nmkswap &#x2F;dev&#x2F;nvme0n1p3\n# \nswapon &#x2F;dev&#x2F;nvme0n1p3<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> livecd </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">mount &#x2F;dev&#x2F;nvme0n1p2 &#x2F;mnt&#x2F;gentoo<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> gentoo </p>\n<p> gentoo livecd  gentoo </p>\n<p><a href=\"https://mirrors.tuna.tsinghua.edu.cn/\"></a></p>\n<p>Gentoo  stage3  gentoo </p>\n<p><img src=\"2.png\" alt=\"stage3\"></p>\n<p>Gentoo stage3  gentoo wiki systemd  OpenRCnomultilib  64 </p>\n<p> systemd kde <code>/mnt/gentoo</code></p>\n<p><img src=\"3.png\" alt=\"systemd stage3\"></p>\n<p><code>sha512sum -c stage3-amd64-*.tar.xz.DIGESTS</code> ok  failed <code>tar xpvf stage3-*.tar.xz --xattrs-include=&#39;*.*&#39; --numeric-owner</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>/mnt/gentoo/etc/portage/make.conf</code></p>\n<p><a href=\"https://wiki.gentoo.org/wiki//etc/portage/make.conf\">Gentoo wiki</a><a href=\"https://dev.gentoo.org/~zmedico/portage/doc/man/make.conf.5.html\">gentoo doc</a></p>\n<p> gentoo </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">COMMON_FLAGS&#x3D;&quot;-march&#x3D;native -O2 -pipe&quot;\n\nCFLAGS&#x3D;&quot;$&#123;COMMON_FLAGS&#125;&quot;\nCXXFLAGS&#x3D;&quot;$&#123;COMMON_FLAGS&#125;&quot;\nFCFLAGS&#x3D;&quot;$&#123;COMMON_FLAGS&#125;&quot;\nFFLAGS&#x3D;&quot;$&#123;COMMON_FLAGS&#125;&quot;\n\nCHOST&#x3D;&quot;x86_64-pc-linux-gnu&quot;\n\nCONFIG_PROTECT&#x3D;&quot;&#x2F;var&#x2F;bind&quot;\n\nPORTDIR&#x3D;&quot;&#x2F;var&#x2F;db&#x2F;repos&#x2F;gentoo&quot;\nDISTDIR&#x3D;&quot;&#x2F;var&#x2F;cache&#x2F;distfiles&quot;\nPKGDIR&#x3D;&quot;&#x2F;var&#x2F;cache&#x2F;binpkgs&quot;\n\nLC_MESSAGES&#x3D;C\n\nMAKEOPTS&#x3D;&quot;-j8&quot;\n\nGENTOO_MIRRORS&#x3D;&quot;https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;gentoo&quot;\n\nPORTAGE_TMPDIR&#x3D;&quot;&#x2F;var&#x2F;tmp&quot;\n\nDISTDIR&#x3D;&#x2F;var&#x2F;gentoo&#x2F;distfiles\n\nACCEPT_LICENSE&#x3D;&quot;*&quot;\n\nVIDEO_CARDS&#x3D;&quot;radeon&quot;\n\nL10N&#x3D;&quot;en_US en zh zh_CN&quot;\n\nLINGUAS&#x3D;&quot;en-US zh-CN en zh&quot;\n\nAUTO_CLEAN&#x3D;&quot;yes&quot;\n\nGRUB_PLATFORMS&#x3D;&quot;efi-64&quot;\n\nEMERGE_DEFAULT_OPTS&#x3D;&quot;--with-bdeps&#x3D;y --ask --verbose&#x3D;y --load-average --keep-going&quot;\n\nINPUT_DEVICES&#x3D;&quot;libinput synaptics evdev&quot;\n\nUSE&#x3D;&quot;X alsa clang udev dbus polkit udisks vulkan vdpau vaapi glamor nls&quot;\n\nKEYWORDS&#x3D;&quot;amd64&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p><code>GENTOO_MIRRORS</code> gentoo </p>\n<p><code>EMERGE_DEFAULT_OPTS</code> emerge </p>\n<p><code>INPUT_DEVICES</code></p>\n<p><code>KEYWORDS</code></p>\n<p><code>MAKEOPTS</code> CPU </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">mkdir --parents &#x2F;mnt&#x2F;gentoo&#x2F;etc&#x2F;portage&#x2F;repos.conf\ncp &#x2F;mnt&#x2F;gentoo&#x2F;usr&#x2F;share&#x2F;portage&#x2F;config&#x2F;repos.conf &#x2F;mnt&#x2F;gentoo&#x2F;etc&#x2F;portage&#x2F;repos.conf&#x2F;gentoo.conf\ncp --dereference &#x2F;etc&#x2F;resolv.conf &#x2F;mnt&#x2F;gentoo&#x2F;etc&#x2F;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><code>/mnt/gentoo/etc/portage/repos.conf/gentoo.conf</code> portage </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sync-uri &#x3D; rsync:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;gentoo-portage<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">mount --types proc &#x2F;proc &#x2F;mnt&#x2F;gentoo&#x2F;proc\nmount --rbind &#x2F;sys &#x2F;mnt&#x2F;gentoo&#x2F;sys\nmount --make-rslave &#x2F;mnt&#x2F;gentoo&#x2F;sys\nmount --rbind &#x2F;dev &#x2F;mnt&#x2F;gentoo&#x2F;dev\nmount --make-rslave &#x2F;mnt&#x2F;gentoo&#x2F;dev<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>chroot </li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">chroot &#x2F;mnt&#x2F;gentoo &#x2F;bin&#x2F;bash\nsource &#x2F;etc&#x2F;profile\nexport PS1&#x3D;&quot;(chroot) $&#123;PS1&#125;&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li> boot </li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">mount &#x2F;dev&#x2F;nvme0n1p1 &#x2F;boot<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"-Portage\"><a href=\"#-Portage\" class=\"headerlink\" title=\" Portage\"></a> Portage</h2><ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge-webrsync<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li> profile</li>\n</ul>\n<p>profile  USE flag </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># profile\neselect profile list\n# profilegentoo wikikdeprofile\neselect profile set default&#x2F;linux&#x2F;amd64&#x2F;17.1&#x2F;desktop&#x2F;plasma&#x2F;systemd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>17.0  17.1 </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> stage3  nano</p>\n<h3 id=\"git\"><a href=\"#git\" class=\"headerlink\" title=\"git\"></a>git</h3><p> git  portage</p>\n<p></p>\n<p></p>\n<p> git</p>\n<p><code>/etc/portage/repos.conf/gentoo.conf</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[gentoo]\nsync-type &#x3D; git\nsync-uri &#x3D; https:&#x2F;&#x2F;github.com&#x2F;gentoo-mirror&#x2F;gentoo<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># portage\nrm -rf &#x2F;mnt&#x2F;gentoo&#x2F;var&#x2F;db&#x2F;repos&#x2F;gentoo&#96;\n# portage\n&#96;emerge --sync&#96;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"gentoolkit\"><a href=\"#gentoolkit\" class=\"headerlink\" title=\"gentoolkit\"></a>gentoolkit</h3><p> gentoolkit</p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># enableUSE flag\neuse -a -geuse -a -l\n# USE flag\neuse -E flagname\n# USE flag\neuse -D flagname\n# euse -Deuse -EUSE flag\n# use\nequery --nocolor uses &#x3D;gnumeric-1.12.31\n# \neclean-dist\n# \neclean-pkg<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>eclean </li>\n</ul>\n<p> ebuild </p>\n<p> <code>--deep</code>  <code>--package-names</code>  ebuild </p>\n<h3 id=\"-layman\"><a href=\"#-layman\" class=\"headerlink\" title=\" layman\"></a> layman</h3><p>layman  gentoo overlay eix-sync <code>layman -S</code></p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Layman\">gentoo wiki</a></p>\n<ul>\n<li>layman </li>\n</ul>\n<p> USE flag  gitsync-plugin-portage</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask app-portage&#x2F;layman\nmkdir &#x2F;etc&#x2F;portage&#x2F;repos.conf\nlayman-updater -R<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">layman -L # \nlayman -a &lt;name&gt; # \nlayman -o &lt;url of repository xml file&gt; -f -a &lt;name&gt; # \nlayman -d &lt;name&gt; # \nlayman -s &lt;name&gt; # \nlayman -S # <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"-eix\"><a href=\"#-eix\" class=\"headerlink\" title=\" eix\"></a> eix</h3><p><a href=\"https://wiki.gentoo.org/wiki/Eix\">gentoo wiki</a></p>\n<p>eix </p>\n<ul>\n<li>eix </li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge app-portage&#x2F;eix\neix-update\neix-sync<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><code>eix-sync</code><code>emerge --sync</code> eix </p>\n<p><code>/etc/eix-sync.conf</code><code>*</code> ebuild </p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># \neix name\n# \neix -I name\n# -c\neix -S -c name\n# \neix -C name\n# \neix -Cc games-rpg -L &quot;EULA&quot;\n# \neix --not -L &quot;EULA&quot;\n# \neix-test-obsolete<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"-ccache\"><a href=\"#-ccache\" class=\"headerlink\" title=\" ccache\"></a> ccache</h3><p>ccache  ccache </p>\n<ul>\n<li>ccache </li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask ccache\nmkdir -p &#x2F;var&#x2F;cache&#x2F;ccache\nchown root:portage &#x2F;var&#x2F;cache&#x2F;ccache&#x2F;\nchmod 2775 &#x2F;var&#x2F;cache&#x2F;ccache&#x2F;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>/etc/portage/make.conf</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">FEATURES&#x3D;&quot;ccache&quot;\nCCACHE_DIR&#x3D;&quot;&#x2F;var&#x2F;cache&#x2F;ccache&quot;\nCCACHE_SIZE&#x3D;&quot;16G&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"-32-\"><a href=\"#-32-\" class=\"headerlink\" title=\" 32 \"></a> 32 </h3><p>Gentoo  64  32  32 </p>\n<p> stage3  nomultilib 32 </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask --verbose db\n\n# &#x2F;etc&#x2F;portage&#x2F;package.use&#x2F;abi_x86_32\n\nsys-libs&#x2F;zlib abi_x86_32\n\n# &#x2F;etc&#x2F;portage&#x2F;make.conf\n\nABI_X86&#x3D;&quot;32 64&quot;\n\nemerge --ask --verbose zlib<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Gentoo </p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Handbook:Parts/Full/Working/zh-cn#.E5.B0.86.E9.A2.84.E6.9E.84.E5.BB.BA.E7.9A.84.E8.BD.AF.E4.BB.B6.E5.8C.85.E5.88.86.E5.8F.91.E7.BB.99.E4.BB.96.E4.BA.BA\">gentoo handbook</a><a href=\"https://docs.huihoo.com/gentoo/resources/document-listing/distcc.html\">gentoo doc</a><a href=\"https://wiki.gentoo.org/wiki/Distcc/zh-cn\">gentoo wiki</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> GFW PS</p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\necho Asia&#x2F;Shanghai &gt; &#x2F;etc&#x2F;timezone emerge --config sys-libs&#x2F;timezone-data<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\n#  locale.gen\n\necho &#39;zh_CN.UTF-8 UTF-8&#39; &gt;&gt; &#x2F;etc&#x2F;locale.gen\necho &#39;en_US.UTF-8 UTF-8&#39; &gt;&gt; &#x2F;etc&#x2F;locale.gen\nlocale-gen\n\n# \n\neselect locale list\n\n# \n\neselect locale set 3\n\n# \n\nenv-update &amp;&amp; source &#x2F;etc&#x2F;profile &amp;&amp; export PS1&#x3D;&quot;(chroot) \\$&#123;PS1&#125;&quot;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>/usr/bin/git  systemd git </p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># \n\nhwclock\ndate\ndate -s 2020&#x2F;03&#x2F;09\ndate -s 11:50:30\nhwclock -w\n\n# \n\ntimedatectl set-ntp true<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"-gcc\"><a href=\"#-gcc\" class=\"headerlink\" title=\" gcc\"></a> gcc</h2><p> gcc clang  gcc </p>\n<p> gcc </p>\n<ul>\n<li>USE flag</li>\n</ul>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">fortran nls nptl openmp pch sanitize ssp lto<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li> gcc</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># Portage\neix-sync\n# gcc\nemerge --ask gcc\n# gcc\n# gcc\ngcc-config --list-profiles\n# gcc\ngcc-config 2\nsource &#x2F;etc&#x2F;profile\nexport PS1&#x3D;&quot;(chroot) $&#123;PS1&#125;&quot;\nemerge --ask --oneshot --usepkg&#x3D;n sys-devel&#x2F;libtool\n# gcc\ngcc -v\n# \nemerge --ask --depclean &#x3D;sys-devel&#x2F;gcc-9.3.0\n# \nrevdep-rebuild\n# \nemerge --ask --oneshot --usepkg&#x3D;n --verbose sys-devel&#x2F;llvm sys-devel&#x2F;clang\n# \nemerge --ask --emptytree --usepkg&#x3D;n @system<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"-clang\"><a href=\"#-clang\" class=\"headerlink\" title=\" clang\"></a> clang</h2><p> clang  gcc  clang <a href=\"https://www.niuiic.top/2020/08/06/gentoo-compile-error-handling/\">Gentoo Compile Error Handling</a></p>\n<p> clang </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask --emptytree --usepkg&#x3D;n @system<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\"line-numbers language-none\"><code class=\"language-none\"># \neix-sync\nemerge --oneshot sys-apps&#x2F;portage<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<h2 id=\"-world\"><a href=\"#-world\" class=\"headerlink\" title=\"@world\"></a>@world</h2><p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge sys-kernel&#x2F;gentoo-sources\nemerge --deep --with-bdeps&#x3D;y --changed-use --update --ask --verbose --keep-going @world<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h2 id=\"-fstab\"><a href=\"#-fstab\" class=\"headerlink\" title=\" fstab\"></a> fstab</h2><p>fstab </p>\n<p> fstab </p>\n<p> fstab <a href=\"https://wiki.gentoo.org/wiki/Fstab\">gentoo wiki</a></p>\n<p> linux  copy <code>/etc/fstab</code></p>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">UUID&#x3D;e5bc0d97-ac5c-400c-b26e-137cefe6ae68       &#x2F;               ext4            rw,relatime     0 1\n\nUUID&#x3D;B320-B5C7          &#x2F;boot           vfat            rw,relatime,fmask&#x3D;0022,dmask&#x3D;0022,codepage&#x3D;437,iocharset&#x3D;iso8859-1,shortname&#x3D;mixed,utf8,errors&#x3D;remount-ro       0 2\n\nUUID&#x3D;c4b396e5-cb87-42dc-b44e-4b26661e5cc0       none            swap            defaults        0 0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>blkid</code> UUID UUID </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Gentoo </p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Kernel/Gentoo_Kernel_Configuration_Guide\">gentoo wiki</a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge sys-kernel&#x2F;genkernel<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># \neselect kernel list\n# \neselect kernel set number<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">genkernel all<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask sys-apps&#x2F;pciutils<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p><code>lsmod</code> Gentoo Live </p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># \ncd &#x2F;usr&#x2F;src&#x2F;linux\n# \nmake menuconfig<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p> save  exit .config</p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">make\nmake modules_install\nmake install<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p></p>\n<h2 id=\"-firmware--initrampfs\"><a href=\"#-firmware--initrampfs\" class=\"headerlink\" title=\" firmware  initrampfs\"></a> firmware  initrampfs</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask sys-kernel&#x2F;linux-firmware\n# \ngenkernel --install initramfs<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Systemd OpenRC</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><code>/etc/hostname</code></li>\n</ul>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">yourname<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><code>/etc/hosts</code></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># tux\n127.0.0.1     localhost\n::1 \t\t  localhost\n127.0.1.1 \t  name.localdomain name<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p> livecd NetworkManager  wifi </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge net-wireless&#x2F;wpa_supplicant dhcpcd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">passwd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p> 8 </p>\n<p><code>/etc/pam.d/system-auth</code><code>min=8,8,8,8,8 retry=3</code> 8  1</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask app-admin&#x2F;syslog-ng\nsystemctl enable syslog-ng@default<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">systemctl enable sshd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask sys-fs&#x2F;dosfstools sys-fs&#x2F;e2fsprogs<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">useradd -m -G users,wheel,audio -s &#x2F;bin&#x2F;bash username\npasswd username # 8<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">rm &#x2F;stage3-*.tar.*<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li> grub</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask --verbose sys-boot&#x2F;grub:2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li> grub </li>\n</ul>\n<p> efi </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">grub-install --target&#x3D;x86_64-efi --efi-directory&#x3D;&#x2F;boot\ngrub-mkconfig -o &#x2F;boot&#x2F;grub&#x2F;grub.cfg<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h3 id=\"-sudo\"><a href=\"#-sudo\" class=\"headerlink\" title=\" sudo\"></a> sudo</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --ask sudo\nnvim &#x2F;etc&#x2F;sudoers\n# root ALL&#x3D;(ALL) ALL<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"-sshd\"><a href=\"#-sshd\" class=\"headerlink\" title=\" sshd\"></a> sshd</h3><p><code>/etc/ssh/sshd_config</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Port 22\nPermitRootLogin yes\nPasswordAuthentication yes<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"-SysRq\"><a href=\"#-SysRq\" class=\"headerlink\" title=\" SysRq\"></a> SysRq</h3><p><code>/etc/sysctl.conf</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">kernel.sysrq &#x3D; 1<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>Gentoo  chroot</p>\n<p><a href=\"https://www.niuiic.top/2020/08/08/gentoo-kool-desktop-environment-installation/\">Gentoo Kool Desktop Environment Installation</a></p>\n"},{"title":"Gentoo Compile Error Handling","date":"2020-08-06T00:26:07.000Z","_content":"\n[Gentoo](https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/)\n\n# Gentoo \n\n gentoo  bug \n\n## \n\n\n\ngentoo  emerge  log\n\n## \n\n\n\n[Gentoo Package Management](https://www.niuiic.top/2020/08/05/gentoo-package-management/)\n\n log  bug\n\n google  linux \n\n## \n\n\n\n- \n\n\n\n- \n\n\n\n\n\n google \n\n gentoo  gentoo \n\n- \n\ngcc  clang  clang  gcc \n\n- \n\n\n\n- \n\n\n\n CC  CXX `app-text/enchant-1.6.1-r1`\n\n```\nCC=x86_64-pc-linux-gnu-gcc\nCXX=x86_64-pc-linux-gnu-g++\n```\n\n- \n\n USE flag USE flag \n\n- \n\n\n\n- \n\n bug  ebuild\n\n`x11-misc/pcmanfm-1.2.5``mkdir -p /etc/portage/patches/x11-misc/pcmanfm-1.2.5`\n\n-  bug\n\n\n\n## \n\n bug ebuild \n\n[Gentoo Basic System Installation](https://www.niuiic.top/2020/08/07/gentoo-basic-system-installation/)\n","source":"_posts/gentoo-compile-error-handling.md","raw":"---\ntitle: Gentoo Compile Error Handling\ndate: 2020-08-06 08:26:07\ntags:\n\t\t- Gentoo\ncategories:\n\t\t- Gentoo\n---\n\n[Gentoo](https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/)\n\n# Gentoo \n\n gentoo  bug \n\n## \n\n\n\ngentoo  emerge  log\n\n## \n\n\n\n[Gentoo Package Management](https://www.niuiic.top/2020/08/05/gentoo-package-management/)\n\n log  bug\n\n google  linux \n\n## \n\n\n\n- \n\n\n\n- \n\n\n\n\n\n google \n\n gentoo  gentoo \n\n- \n\ngcc  clang  clang  gcc \n\n- \n\n\n\n- \n\n\n\n CC  CXX `app-text/enchant-1.6.1-r1`\n\n```\nCC=x86_64-pc-linux-gnu-gcc\nCXX=x86_64-pc-linux-gnu-g++\n```\n\n- \n\n USE flag USE flag \n\n- \n\n\n\n- \n\n bug  ebuild\n\n`x11-misc/pcmanfm-1.2.5``mkdir -p /etc/portage/patches/x11-misc/pcmanfm-1.2.5`\n\n-  bug\n\n\n\n## \n\n bug ebuild \n\n[Gentoo Basic System Installation](https://www.niuiic.top/2020/08/07/gentoo-basic-system-installation/)\n","slug":"gentoo-compile-error-handling","published":1,"updated":"2021-03-23T11:11:18.579Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9cr0021dbiz2j6842fr","content":"<p><a href=\"https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/\">Gentoo</a></p>\n<h1 id=\"Gentoo-\"><a href=\"#Gentoo-\" class=\"headerlink\" title=\"Gentoo \"></a>Gentoo </h1><p> gentoo  bug </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>gentoo  emerge  log</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><a href=\"https://www.niuiic.top/2020/08/05/gentoo-package-management/\">Gentoo Package Management</a></p>\n<p> log  bug</p>\n<p> google  linux </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<p></p>\n<p></p>\n<p> google </p>\n<p> gentoo  gentoo </p>\n<ul>\n<li></li>\n</ul>\n<p>gcc  clang  clang  gcc </p>\n<ul>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<p></p>\n<p> CC  CXX <code>app-text/enchant-1.6.1-r1</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">CC&#x3D;x86_64-pc-linux-gnu-gcc\nCXX&#x3D;x86_64-pc-linux-gnu-g++<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p> USE flag USE flag </p>\n<ul>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<p> bug  ebuild</p>\n<p><code>x11-misc/pcmanfm-1.2.5</code><code>mkdir -p /etc/portage/patches/x11-misc/pcmanfm-1.2.5</code></p>\n<ul>\n<li> bug</li>\n</ul>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> bug ebuild </p>\n<p><a href=\"https://www.niuiic.top/2020/08/07/gentoo-basic-system-installation/\">Gentoo Basic System Installation</a></p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<p><a href=\"https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/\">Gentoo</a></p>\n<h1 id=\"Gentoo-\"><a href=\"#Gentoo-\" class=\"headerlink\" title=\"Gentoo \"></a>Gentoo </h1><p> gentoo  bug </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>gentoo  emerge  log</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><a href=\"https://www.niuiic.top/2020/08/05/gentoo-package-management/\">Gentoo Package Management</a></p>\n<p> log  bug</p>\n<p> google  linux </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<p></p>\n<p></p>\n<p> google </p>\n<p> gentoo  gentoo </p>\n<ul>\n<li></li>\n</ul>\n<p>gcc  clang  clang  gcc </p>\n<ul>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<p></p>\n<p> CC  CXX <code>app-text/enchant-1.6.1-r1</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">CC&#x3D;x86_64-pc-linux-gnu-gcc\nCXX&#x3D;x86_64-pc-linux-gnu-g++<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p> USE flag USE flag </p>\n<ul>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<p> bug  ebuild</p>\n<p><code>x11-misc/pcmanfm-1.2.5</code><code>mkdir -p /etc/portage/patches/x11-misc/pcmanfm-1.2.5</code></p>\n<ul>\n<li> bug</li>\n</ul>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> bug ebuild </p>\n<p><a href=\"https://www.niuiic.top/2020/08/07/gentoo-basic-system-installation/\">Gentoo Basic System Installation</a></p>\n"},{"title":"Gentoo Compiler Selection","date":"2020-08-05T14:50:35.000Z","_content":"\n[Gentoo](https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/)\n\n# Gentoo \n\n gentoo  bug \n\n## \n\n Gentoo \n\n Gentoo gcc  clang\n\ngcc  GNU  GNU linux  gcc \n\nclang  gcc  clang  linux \n\n clang  bug  gcclinux  gcc  clang  gcc \n\n##  gcc \n\ngcc  gentoo \n\n gcc  gcc\n\n- gcc \n\n```\n# gcc\ngcc-config --list-profiles\n# gcc\ngcc-config number\n# \nsource /etc/profile\n```\n\n##  clang \n\n[gentoo wiki](https://wiki.gentoo.org/wiki/Clang)\n\n clang  clang \n\n`make.conf`\n\n```\nCC = clang\nCXX = clang++\n```\n\nclang  clang  gcc \n\n`/etc/portage/env``compiler-gcc`\n\n```\nCC = gcc\nCXX = g++\n```\n\n`/etc/portage/package.env``sys-devel/gcc compiler-gcc` gcc\n\n`app-portage/flaggie``flaggie app-foo/bar +compiler-gcc`\n\n clang  gcc \n\n## \n\n bug\n\n\n\n gcc `/etc/portage/env/compiler-gcc-flto`\n\n```\nCC=\"gcc\"\nCXX=\"g++\"\nCFLAGS=\"-flto -march=native -O2 -pipe\"\nCXXFLAGS=\"${CFLAGS}\"\nAR=\"gcc-ar\"\nNM=\"gcc-nm\"\nRANLIB=\"gcc-ranlib\"\n```\n\n`/etc/portage/package.env`\n\n[Gentoo Compile Error Handling](https://www.niuiic.top/2020/08/06/gentoo-compile-error-handling/)\n","source":"_posts/gentoo-compiler-selection.md","raw":"---\ntitle: Gentoo Compiler Selection\ndate: 2020-08-05 22:50:35\ntags:\n        - Gentoo\ncategories:\n        - Gentoo\n---\n\n[Gentoo](https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/)\n\n# Gentoo \n\n gentoo  bug \n\n## \n\n Gentoo \n\n Gentoo gcc  clang\n\ngcc  GNU  GNU linux  gcc \n\nclang  gcc  clang  linux \n\n clang  bug  gcclinux  gcc  clang  gcc \n\n##  gcc \n\ngcc  gentoo \n\n gcc  gcc\n\n- gcc \n\n```\n# gcc\ngcc-config --list-profiles\n# gcc\ngcc-config number\n# \nsource /etc/profile\n```\n\n##  clang \n\n[gentoo wiki](https://wiki.gentoo.org/wiki/Clang)\n\n clang  clang \n\n`make.conf`\n\n```\nCC = clang\nCXX = clang++\n```\n\nclang  clang  gcc \n\n`/etc/portage/env``compiler-gcc`\n\n```\nCC = gcc\nCXX = g++\n```\n\n`/etc/portage/package.env``sys-devel/gcc compiler-gcc` gcc\n\n`app-portage/flaggie``flaggie app-foo/bar +compiler-gcc`\n\n clang  gcc \n\n## \n\n bug\n\n\n\n gcc `/etc/portage/env/compiler-gcc-flto`\n\n```\nCC=\"gcc\"\nCXX=\"g++\"\nCFLAGS=\"-flto -march=native -O2 -pipe\"\nCXXFLAGS=\"${CFLAGS}\"\nAR=\"gcc-ar\"\nNM=\"gcc-nm\"\nRANLIB=\"gcc-ranlib\"\n```\n\n`/etc/portage/package.env`\n\n[Gentoo Compile Error Handling](https://www.niuiic.top/2020/08/06/gentoo-compile-error-handling/)\n","slug":"gentoo-compiler-selection","published":1,"updated":"2021-03-23T11:11:18.579Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9cs0023dbizcv1e06wq","content":"<p><a href=\"https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/\">Gentoo</a></p>\n<h1 id=\"Gentoo-\"><a href=\"#Gentoo-\" class=\"headerlink\" title=\"Gentoo \"></a>Gentoo </h1><p> gentoo  bug </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Gentoo </p>\n<p> Gentoo gcc  clang</p>\n<p>gcc  GNU  GNU linux  gcc </p>\n<p>clang  gcc  clang  linux </p>\n<p> clang  bug  gcclinux  gcc  clang  gcc </p>\n<h2 id=\"-gcc-\"><a href=\"#-gcc-\" class=\"headerlink\" title=\" gcc \"></a> gcc </h2><p>gcc  gentoo </p>\n<p> gcc  gcc</p>\n<ul>\n<li>gcc </li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># gcc\ngcc-config --list-profiles\n# gcc\ngcc-config number\n# \nsource &#x2F;etc&#x2F;profile<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"-clang-\"><a href=\"#-clang-\" class=\"headerlink\" title=\" clang \"></a> clang </h2><p><a href=\"https://wiki.gentoo.org/wiki/Clang\">gentoo wiki</a></p>\n<p> clang  clang </p>\n<p><code>make.conf</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">CC &#x3D; clang\nCXX &#x3D; clang++<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>clang  clang  gcc </p>\n<p><code>/etc/portage/env</code><code>compiler-gcc</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">CC &#x3D; gcc\nCXX &#x3D; g++<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><code>/etc/portage/package.env</code><code>sys-devel/gcc compiler-gcc</code> gcc</p>\n<p><code>app-portage/flaggie</code><code>flaggie app-foo/bar +compiler-gcc</code></p>\n<p> clang  gcc </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> bug</p>\n<p></p>\n<p> gcc <code>/etc/portage/env/compiler-gcc-flto</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">CC&#x3D;&quot;gcc&quot;\nCXX&#x3D;&quot;g++&quot;\nCFLAGS&#x3D;&quot;-flto -march&#x3D;native -O2 -pipe&quot;\nCXXFLAGS&#x3D;&quot;$&#123;CFLAGS&#125;&quot;\nAR&#x3D;&quot;gcc-ar&quot;\nNM&#x3D;&quot;gcc-nm&quot;\nRANLIB&#x3D;&quot;gcc-ranlib&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>/etc/portage/package.env</code></p>\n<p><a href=\"https://www.niuiic.top/2020/08/06/gentoo-compile-error-handling/\">Gentoo Compile Error Handling</a></p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<p><a href=\"https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/\">Gentoo</a></p>\n<h1 id=\"Gentoo-\"><a href=\"#Gentoo-\" class=\"headerlink\" title=\"Gentoo \"></a>Gentoo </h1><p> gentoo  bug </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Gentoo </p>\n<p> Gentoo gcc  clang</p>\n<p>gcc  GNU  GNU linux  gcc </p>\n<p>clang  gcc  clang  linux </p>\n<p> clang  bug  gcclinux  gcc  clang  gcc </p>\n<h2 id=\"-gcc-\"><a href=\"#-gcc-\" class=\"headerlink\" title=\" gcc \"></a> gcc </h2><p>gcc  gentoo </p>\n<p> gcc  gcc</p>\n<ul>\n<li>gcc </li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># gcc\ngcc-config --list-profiles\n# gcc\ngcc-config number\n# \nsource &#x2F;etc&#x2F;profile<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"-clang-\"><a href=\"#-clang-\" class=\"headerlink\" title=\" clang \"></a> clang </h2><p><a href=\"https://wiki.gentoo.org/wiki/Clang\">gentoo wiki</a></p>\n<p> clang  clang </p>\n<p><code>make.conf</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">CC &#x3D; clang\nCXX &#x3D; clang++<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>clang  clang  gcc </p>\n<p><code>/etc/portage/env</code><code>compiler-gcc</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">CC &#x3D; gcc\nCXX &#x3D; g++<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><code>/etc/portage/package.env</code><code>sys-devel/gcc compiler-gcc</code> gcc</p>\n<p><code>app-portage/flaggie</code><code>flaggie app-foo/bar +compiler-gcc</code></p>\n<p> clang  gcc </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> bug</p>\n<p></p>\n<p> gcc <code>/etc/portage/env/compiler-gcc-flto</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">CC&#x3D;&quot;gcc&quot;\nCXX&#x3D;&quot;g++&quot;\nCFLAGS&#x3D;&quot;-flto -march&#x3D;native -O2 -pipe&quot;\nCXXFLAGS&#x3D;&quot;$&#123;CFLAGS&#125;&quot;\nAR&#x3D;&quot;gcc-ar&quot;\nNM&#x3D;&quot;gcc-nm&quot;\nRANLIB&#x3D;&quot;gcc-ranlib&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>/etc/portage/package.env</code></p>\n<p><a href=\"https://www.niuiic.top/2020/08/06/gentoo-compile-error-handling/\">Gentoo Compile Error Handling</a></p>\n"},{"title":"Gentoo Kool Desktop Environment Installation","date":"2020-08-07T16:44:23.000Z","_content":"\n[Gentoo ](https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/)\n\n# Gentoo KDE \n\n kde  gentoo \n\nkde [gentoo wiki](https://wiki.gentoo.org/wiki/KDE/)\n\n## \n\n`kde-plasma`\n\n```\nsystemctl enable sddm\n```\n\n##  NetworkManager\n\n- \n\n[gentoo wiki](https://wiki.gentoo.org/wiki/NetworkManager)\n\n- \n\n```\ngpasswd -a <user_name> plugdev\n```\n\n- \n\n```\nsystemctl enable NetworkManager\n```\n\n\n\n[Gentoo System Further Improvement](https://www.niuiic.top/2020/08/08/gentoo-system-further-improvement/)\n","source":"_posts/gentoo-kool-desktop-environment-installation.md","raw":"---\ntitle: Gentoo Kool Desktop Environment Installation\ndate: 2020-08-08 00:44:23\ntags:\n\t\t- Gentoo\ncategories:\n\t\t- Gentoo\n---\n\n[Gentoo ](https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/)\n\n# Gentoo KDE \n\n kde  gentoo \n\nkde [gentoo wiki](https://wiki.gentoo.org/wiki/KDE/)\n\n## \n\n`kde-plasma`\n\n```\nsystemctl enable sddm\n```\n\n##  NetworkManager\n\n- \n\n[gentoo wiki](https://wiki.gentoo.org/wiki/NetworkManager)\n\n- \n\n```\ngpasswd -a <user_name> plugdev\n```\n\n- \n\n```\nsystemctl enable NetworkManager\n```\n\n\n\n[Gentoo System Further Improvement](https://www.niuiic.top/2020/08/08/gentoo-system-further-improvement/)\n","slug":"gentoo-kool-desktop-environment-installation","published":1,"updated":"2021-03-23T11:11:18.579Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9cu0028dbiz9wj2fw5a","content":"<p><a href=\"https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/\">Gentoo </a></p>\n<h1 id=\"Gentoo-KDE-\"><a href=\"#Gentoo-KDE-\" class=\"headerlink\" title=\"Gentoo KDE \"></a>Gentoo KDE </h1><p> kde  gentoo </p>\n<p>kde <a href=\"https://wiki.gentoo.org/wiki/KDE/\">gentoo wiki</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>kde-plasma</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">systemctl enable sddm<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"-NetworkManager\"><a href=\"#-NetworkManager\" class=\"headerlink\" title=\" NetworkManager\"></a> NetworkManager</h2><ul>\n<li></li>\n</ul>\n<p><a href=\"https://wiki.gentoo.org/wiki/NetworkManager\">gentoo wiki</a></p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">gpasswd -a &lt;user_name&gt; plugdev<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">systemctl enable NetworkManager<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<p><a href=\"https://www.niuiic.top/2020/08/08/gentoo-system-further-improvement/\">Gentoo System Further Improvement</a></p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<p><a href=\"https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/\">Gentoo </a></p>\n<h1 id=\"Gentoo-KDE-\"><a href=\"#Gentoo-KDE-\" class=\"headerlink\" title=\"Gentoo KDE \"></a>Gentoo KDE </h1><p> kde  gentoo </p>\n<p>kde <a href=\"https://wiki.gentoo.org/wiki/KDE/\">gentoo wiki</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>kde-plasma</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">systemctl enable sddm<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"-NetworkManager\"><a href=\"#-NetworkManager\" class=\"headerlink\" title=\" NetworkManager\"></a> NetworkManager</h2><ul>\n<li></li>\n</ul>\n<p><a href=\"https://wiki.gentoo.org/wiki/NetworkManager\">gentoo wiki</a></p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">gpasswd -a &lt;user_name&gt; plugdev<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">systemctl enable NetworkManager<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<p><a href=\"https://www.niuiic.top/2020/08/08/gentoo-system-further-improvement/\">Gentoo System Further Improvement</a></p>\n"},{"title":"Gentoo Package Management","date":"2020-08-05T01:56:38.000Z","_content":"\n[Gentoo ](https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/)\n\n# Gentoo \n\n gentoo \n\n\n\n## \n\nGentoo  Portage emerge  man page \n\n[gentoo handbook](https://wiki.gentoo.org/wiki/Handbook:X86/Working/Portage/zh-cn)\n\n[gentoo wiki](https://wiki.gentoo.org/wiki/Portage)\n\n## Gentoo \n\nPortage  ebuild ebuild  arch  PKGBUILDebuild \n\n-  ebuild\n\n ebuild  gentoo \n\n```\nemerge --sync\n# \nemerge-webrsync\n```\n\n ebuild  overlay \n\n-  ebuild\n\n ebuild\n\n`emerge -S package_name` ebuild<https://packages.gentoo.org/> ebuild  overlay  ebuild google  github `gentoo package_name`\n\n## \n\n### gentookit\n\ngentookit  euseUSE flag revdep-rebuildeclean\n\n[gentoo wiki](https://wiki.gentoo.org/wiki/Gentoolkit)\n\n### eix\n\neix `emerge -S``eix package_name``eix -I package_name`\n\n[gentoo wiki](https://wiki.gentoo.org/wiki/Eix)\n\n## \n\nGentoo `/etc/portage/make.conf`\n\n### USE flag\n\nUSE flag `doc` USE flag`-doc`\n\n- USE flag \n\n\n\n`/etc/portage/make.conf``make.conf``USE=\"clang nls\"` USE flag\n\n`/etc/portage/package.use``sys-devel/gcc` USE flag`/etc/portage/package.use/gcc``sys-devel/gcc fortran nls nptl openmp pch sanitize ssp lto``sys-devel/gcc` USE flag +  USE flag\n\n\n\n gentoo  USE flag \n\n gcc`USE=\"nls pch\" emerge sys-devel/gcc`\n\n-  USE flag\n\n`equery uses package_name` USE flag \n\nEquery `app-portage/gentoolkit`[gentoo wiki](https://wiki.gentoo.org/wiki/Equery)\n\n`eix package_name`\n\n USE flag <https://www.gentoo.org/support/use-flags/><https://packages.gentoo.org/> USE flag  kde  plasma wiki  USE flag \n\n### keywords\n\nkeywords [gentoo wiki](https://wiki.gentoo.org/wiki/KEYWORDS)\n\n amd64 `KEYWORDS=amd64` amd64 `KEYWORDS=~amd64` amd64 \n\n KEYWORDS\n\n ebuild  KEYWORDS  amd64\n\n-  keywords\n\n`make.conf``KEYWORDS=amd64`\n\n`/etc/portage/package.accept_keywords` keywords`app-i18n/fcitx5-chinese-addons`\n\n keywords`=x11-libs/xcb-imdkit-99999999999 **``> < >= <=`\n\n-  keywords\n\n`equery meta package_name``eix package_name`\n\n`eix package_name`\n\n![gcc](1.png)\n\n![kcm-fcitx5](2.png)\n\n`~``(**)``=app-i18n/kcm-fcitx5-99999999 **``app-i18n/kcm-fcitx5`\n\n- \n\n gentoo \n\nbug \n\ngentoo  5.4.48gentoo \n\n### \n\n license gentoo wiki `make.conf``ACCEPT_LICENSE=\"*\"`\n\n\n\n gentoo wiki\n\n## \n\n gentoo \n\n- \n\n![instance](3.png)\n\n`eix clang` clang  clang-common `(number)` clang  clang-common \n\n- \n\n`emerge \"=sys-devel/clang-9.0.1\"`\n\n\n\n keyword \n\n`/etc/portage/package.mask``>=sys-power/powertop-1.97`\n\n## Portage \n\n### \n\n- \n\n```\n!!! Error: the mail-mta/postfix package conflicts with another package.\n!!!        both can't be installed on the same system together.\n!!!        Please use 'emerge --pretend' to determine blockers.\n```\n\n- \n\n\n\n- \n\n ebuild ebuild[Gentoo's bugtracking system](https://bugs.gentoo.org/) bug\n\n### \n\n- \n\n```\n!!! all ebuilds that could satisfy \"bootsplash\" have been masked.\n```\n\n```\n!!! possible candidates are:\n\n- gnome-base/gnome-2.8.0_pre1 (masked by: ~x86 keyword)\n- lm-sensors/lm-sensors-2.8.7 (masked by: -sparc keyword)\n- sys-libs/glibc-2.3.4.20040808 (masked by: -* keyword)\n- dev-util/cvsd-1.0.2 (masked by: missing keyword)\n- games-fps/unreal-tournament-451 (masked by: package.mask)\n- sys-libs/glibc-2.3.2-r11 (masked by: profile)\n- net-im/skype-2.1.0.81 (masked by: skype-eula license(s))\n```\n\n- \n\n keywordlicensepackage.mask profile profile\n\n- \n\n\n\n keyword  license \n\n### USE flag \n\n- \n\n```\nThe following USE changes are necessary to proceed:\n#required by app-text/happypackage-2.0, required by happypackage (argument)\n>=app-text/feelings-1.0.0 test\n```\n\n- \n\nUSE flag \n\n- \n\n USE flag `etc-update`\n\n### \n\n bug \n\n ebuild \n\n[Gentoo Compiler Selection](https://www.niuiic.top/2020/08/05/gentoo-compiler-selection/)\n","source":"_posts/gentoo-package-management.md","raw":"---\ntitle: Gentoo Package Management\ndate: 2020-08-05 09:56:38\ntags:\n        - Gentoo\ncategories:\n        - Gentoo\n---\n\n[Gentoo ](https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/)\n\n# Gentoo \n\n gentoo \n\n\n\n## \n\nGentoo  Portage emerge  man page \n\n[gentoo handbook](https://wiki.gentoo.org/wiki/Handbook:X86/Working/Portage/zh-cn)\n\n[gentoo wiki](https://wiki.gentoo.org/wiki/Portage)\n\n## Gentoo \n\nPortage  ebuild ebuild  arch  PKGBUILDebuild \n\n-  ebuild\n\n ebuild  gentoo \n\n```\nemerge --sync\n# \nemerge-webrsync\n```\n\n ebuild  overlay \n\n-  ebuild\n\n ebuild\n\n`emerge -S package_name` ebuild<https://packages.gentoo.org/> ebuild  overlay  ebuild google  github `gentoo package_name`\n\n## \n\n### gentookit\n\ngentookit  euseUSE flag revdep-rebuildeclean\n\n[gentoo wiki](https://wiki.gentoo.org/wiki/Gentoolkit)\n\n### eix\n\neix `emerge -S``eix package_name``eix -I package_name`\n\n[gentoo wiki](https://wiki.gentoo.org/wiki/Eix)\n\n## \n\nGentoo `/etc/portage/make.conf`\n\n### USE flag\n\nUSE flag `doc` USE flag`-doc`\n\n- USE flag \n\n\n\n`/etc/portage/make.conf``make.conf``USE=\"clang nls\"` USE flag\n\n`/etc/portage/package.use``sys-devel/gcc` USE flag`/etc/portage/package.use/gcc``sys-devel/gcc fortran nls nptl openmp pch sanitize ssp lto``sys-devel/gcc` USE flag +  USE flag\n\n\n\n gentoo  USE flag \n\n gcc`USE=\"nls pch\" emerge sys-devel/gcc`\n\n-  USE flag\n\n`equery uses package_name` USE flag \n\nEquery `app-portage/gentoolkit`[gentoo wiki](https://wiki.gentoo.org/wiki/Equery)\n\n`eix package_name`\n\n USE flag <https://www.gentoo.org/support/use-flags/><https://packages.gentoo.org/> USE flag  kde  plasma wiki  USE flag \n\n### keywords\n\nkeywords [gentoo wiki](https://wiki.gentoo.org/wiki/KEYWORDS)\n\n amd64 `KEYWORDS=amd64` amd64 `KEYWORDS=~amd64` amd64 \n\n KEYWORDS\n\n ebuild  KEYWORDS  amd64\n\n-  keywords\n\n`make.conf``KEYWORDS=amd64`\n\n`/etc/portage/package.accept_keywords` keywords`app-i18n/fcitx5-chinese-addons`\n\n keywords`=x11-libs/xcb-imdkit-99999999999 **``> < >= <=`\n\n-  keywords\n\n`equery meta package_name``eix package_name`\n\n`eix package_name`\n\n![gcc](1.png)\n\n![kcm-fcitx5](2.png)\n\n`~``(**)``=app-i18n/kcm-fcitx5-99999999 **``app-i18n/kcm-fcitx5`\n\n- \n\n gentoo \n\nbug \n\ngentoo  5.4.48gentoo \n\n### \n\n license gentoo wiki `make.conf``ACCEPT_LICENSE=\"*\"`\n\n\n\n gentoo wiki\n\n## \n\n gentoo \n\n- \n\n![instance](3.png)\n\n`eix clang` clang  clang-common `(number)` clang  clang-common \n\n- \n\n`emerge \"=sys-devel/clang-9.0.1\"`\n\n\n\n keyword \n\n`/etc/portage/package.mask``>=sys-power/powertop-1.97`\n\n## Portage \n\n### \n\n- \n\n```\n!!! Error: the mail-mta/postfix package conflicts with another package.\n!!!        both can't be installed on the same system together.\n!!!        Please use 'emerge --pretend' to determine blockers.\n```\n\n- \n\n\n\n- \n\n ebuild ebuild[Gentoo's bugtracking system](https://bugs.gentoo.org/) bug\n\n### \n\n- \n\n```\n!!! all ebuilds that could satisfy \"bootsplash\" have been masked.\n```\n\n```\n!!! possible candidates are:\n\n- gnome-base/gnome-2.8.0_pre1 (masked by: ~x86 keyword)\n- lm-sensors/lm-sensors-2.8.7 (masked by: -sparc keyword)\n- sys-libs/glibc-2.3.4.20040808 (masked by: -* keyword)\n- dev-util/cvsd-1.0.2 (masked by: missing keyword)\n- games-fps/unreal-tournament-451 (masked by: package.mask)\n- sys-libs/glibc-2.3.2-r11 (masked by: profile)\n- net-im/skype-2.1.0.81 (masked by: skype-eula license(s))\n```\n\n- \n\n keywordlicensepackage.mask profile profile\n\n- \n\n\n\n keyword  license \n\n### USE flag \n\n- \n\n```\nThe following USE changes are necessary to proceed:\n#required by app-text/happypackage-2.0, required by happypackage (argument)\n>=app-text/feelings-1.0.0 test\n```\n\n- \n\nUSE flag \n\n- \n\n USE flag `etc-update`\n\n### \n\n bug \n\n ebuild \n\n[Gentoo Compiler Selection](https://www.niuiic.top/2020/08/05/gentoo-compiler-selection/)\n","slug":"gentoo-package-management","published":1,"updated":"2021-03-23T11:11:18.579Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9cv002bdbizfgzj0x0j","content":"<p><a href=\"https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/\">Gentoo </a></p>\n<h1 id=\"Gentoo-\"><a href=\"#Gentoo-\" class=\"headerlink\" title=\"Gentoo \"></a>Gentoo </h1><p> gentoo </p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Gentoo  Portage emerge  man page </p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Handbook:X86/Working/Portage/zh-cn\">gentoo handbook</a></p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Portage\">gentoo wiki</a></p>\n<h2 id=\"Gentoo-\"><a href=\"#Gentoo-\" class=\"headerlink\" title=\"Gentoo \"></a>Gentoo </h2><p>Portage  ebuild ebuild  arch  PKGBUILDebuild </p>\n<ul>\n<li> ebuild</li>\n</ul>\n<p> ebuild  gentoo </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --sync\n# \nemerge-webrsync<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p> ebuild  overlay </p>\n<ul>\n<li> ebuild</li>\n</ul>\n<p> ebuild</p>\n<p><code>emerge -S package_name</code> ebuild<a href=\"https://packages.gentoo.org/\">https://packages.gentoo.org/</a> ebuild  overlay  ebuild google  github <code>gentoo package_name</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"gentookit\"><a href=\"#gentookit\" class=\"headerlink\" title=\"gentookit\"></a>gentookit</h3><p>gentookit  euseUSE flag revdep-rebuildeclean</p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Gentoolkit\">gentoo wiki</a></p>\n<h3 id=\"eix\"><a href=\"#eix\" class=\"headerlink\" title=\"eix\"></a>eix</h3><p>eix <code>emerge -S</code><code>eix package_name</code><code>eix -I package_name</code></p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Eix\">gentoo wiki</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Gentoo <code>/etc/portage/make.conf</code></p>\n<h3 id=\"USE-flag\"><a href=\"#USE-flag\" class=\"headerlink\" title=\"USE flag\"></a>USE flag</h3><p>USE flag <code>doc</code> USE flag<code>-doc</code></p>\n<ul>\n<li>USE flag </li>\n</ul>\n<p></p>\n<p><code>/etc/portage/make.conf</code><code>make.conf</code><code>USE=&quot;clang nls&quot;</code> USE flag</p>\n<p><code>/etc/portage/package.use</code><code>sys-devel/gcc</code> USE flag<code>/etc/portage/package.use/gcc</code><code>sys-devel/gcc fortran nls nptl openmp pch sanitize ssp lto</code><code>sys-devel/gcc</code> USE flag +  USE flag</p>\n<p></p>\n<p> gentoo  USE flag </p>\n<p> gcc<code>USE=&quot;nls pch&quot; emerge sys-devel/gcc</code></p>\n<ul>\n<li> USE flag</li>\n</ul>\n<p><code>equery uses package_name</code> USE flag </p>\n<p>Equery <code>app-portage/gentoolkit</code><a href=\"https://wiki.gentoo.org/wiki/Equery\">gentoo wiki</a></p>\n<p><code>eix package_name</code></p>\n<p> USE flag <a href=\"https://www.gentoo.org/support/use-flags/\">https://www.gentoo.org/support/use-flags/</a><a href=\"https://packages.gentoo.org/\">https://packages.gentoo.org/</a> USE flag  kde  plasma wiki  USE flag </p>\n<h3 id=\"keywords\"><a href=\"#keywords\" class=\"headerlink\" title=\"keywords\"></a>keywords</h3><p>keywords <a href=\"https://wiki.gentoo.org/wiki/KEYWORDS\">gentoo wiki</a></p>\n<p> amd64 <code>KEYWORDS=amd64</code> amd64 <code>KEYWORDS=~amd64</code> amd64 </p>\n<p> KEYWORDS</p>\n<p> ebuild  KEYWORDS  amd64</p>\n<ul>\n<li> keywords</li>\n</ul>\n<p><code>make.conf</code><code>KEYWORDS=amd64</code></p>\n<p><code>/etc/portage/package.accept_keywords</code> keywords<code>app-i18n/fcitx5-chinese-addons</code></p>\n<p> keywords<code>=x11-libs/xcb-imdkit-99999999999 **</code><code>&gt; &lt; &gt;= &lt;=</code></p>\n<ul>\n<li> keywords</li>\n</ul>\n<p><code>equery meta package_name</code><code>eix package_name</code></p>\n<p><code>eix package_name</code></p>\n<p><img src=\"1.png\" alt=\"gcc\"></p>\n<p><img src=\"2.png\" alt=\"kcm-fcitx5\"></p>\n<p><code>~</code><code>(**)</code><code>=app-i18n/kcm-fcitx5-99999999 **</code><code>app-i18n/kcm-fcitx5</code></p>\n<ul>\n<li></li>\n</ul>\n<p> gentoo </p>\n<p>bug </p>\n<p>gentoo  5.4.48gentoo </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> license gentoo wiki <code>make.conf</code><code>ACCEPT_LICENSE=&quot;*&quot;</code></p>\n<p></p>\n<p> gentoo wiki</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> gentoo </p>\n<ul>\n<li></li>\n</ul>\n<p><img src=\"3.png\" alt=\"instance\"></p>\n<p><code>eix clang</code> clang  clang-common <code>(number)</code> clang  clang-common </p>\n<ul>\n<li></li>\n</ul>\n<p><code>emerge &quot;=sys-devel/clang-9.0.1&quot;</code></p>\n<p></p>\n<p> keyword </p>\n<p><code>/etc/portage/package.mask</code><code>&gt;=sys-power/powertop-1.97</code></p>\n<h2 id=\"Portage-\"><a href=\"#Portage-\" class=\"headerlink\" title=\"Portage \"></a>Portage </h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">!!! Error: the mail-mta&#x2F;postfix package conflicts with another package.\n!!!        both can&#39;t be installed on the same system together.\n!!!        Please use &#39;emerge --pretend&#39; to determine blockers.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<p> ebuild ebuild<a href=\"https://bugs.gentoo.org/\">Gentoos bugtracking system</a> bug</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">!!! all ebuilds that could satisfy &quot;bootsplash&quot; have been masked.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">!!! possible candidates are:\n\n- gnome-base&#x2F;gnome-2.8.0_pre1 (masked by: ~x86 keyword)\n- lm-sensors&#x2F;lm-sensors-2.8.7 (masked by: -sparc keyword)\n- sys-libs&#x2F;glibc-2.3.4.20040808 (masked by: -* keyword)\n- dev-util&#x2F;cvsd-1.0.2 (masked by: missing keyword)\n- games-fps&#x2F;unreal-tournament-451 (masked by: package.mask)\n- sys-libs&#x2F;glibc-2.3.2-r11 (masked by: profile)\n- net-im&#x2F;skype-2.1.0.81 (masked by: skype-eula license(s))<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p> keywordlicensepackage.mask profile profile</p>\n<ul>\n<li></li>\n</ul>\n<p></p>\n<p> keyword  license </p>\n<h3 id=\"USE-flag-\"><a href=\"#USE-flag-\" class=\"headerlink\" title=\"USE flag \"></a>USE flag </h3><ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">The following USE changes are necessary to proceed:\n#required by app-text&#x2F;happypackage-2.0, required by happypackage (argument)\n&gt;&#x3D;app-text&#x2F;feelings-1.0.0 test<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p>USE flag </p>\n<ul>\n<li></li>\n</ul>\n<p> USE flag <code>etc-update</code></p>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h3><p> bug </p>\n<p> ebuild </p>\n<p><a href=\"https://www.niuiic.top/2020/08/05/gentoo-compiler-selection/\">Gentoo Compiler Selection</a></p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<p><a href=\"https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/\">Gentoo </a></p>\n<h1 id=\"Gentoo-\"><a href=\"#Gentoo-\" class=\"headerlink\" title=\"Gentoo \"></a>Gentoo </h1><p> gentoo </p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Gentoo  Portage emerge  man page </p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Handbook:X86/Working/Portage/zh-cn\">gentoo handbook</a></p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Portage\">gentoo wiki</a></p>\n<h2 id=\"Gentoo-\"><a href=\"#Gentoo-\" class=\"headerlink\" title=\"Gentoo \"></a>Gentoo </h2><p>Portage  ebuild ebuild  arch  PKGBUILDebuild </p>\n<ul>\n<li> ebuild</li>\n</ul>\n<p> ebuild  gentoo </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge --sync\n# \nemerge-webrsync<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p> ebuild  overlay </p>\n<ul>\n<li> ebuild</li>\n</ul>\n<p> ebuild</p>\n<p><code>emerge -S package_name</code> ebuild<a href=\"https://packages.gentoo.org/\">https://packages.gentoo.org/</a> ebuild  overlay  ebuild google  github <code>gentoo package_name</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"gentookit\"><a href=\"#gentookit\" class=\"headerlink\" title=\"gentookit\"></a>gentookit</h3><p>gentookit  euseUSE flag revdep-rebuildeclean</p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Gentoolkit\">gentoo wiki</a></p>\n<h3 id=\"eix\"><a href=\"#eix\" class=\"headerlink\" title=\"eix\"></a>eix</h3><p>eix <code>emerge -S</code><code>eix package_name</code><code>eix -I package_name</code></p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Eix\">gentoo wiki</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Gentoo <code>/etc/portage/make.conf</code></p>\n<h3 id=\"USE-flag\"><a href=\"#USE-flag\" class=\"headerlink\" title=\"USE flag\"></a>USE flag</h3><p>USE flag <code>doc</code> USE flag<code>-doc</code></p>\n<ul>\n<li>USE flag </li>\n</ul>\n<p></p>\n<p><code>/etc/portage/make.conf</code><code>make.conf</code><code>USE=&quot;clang nls&quot;</code> USE flag</p>\n<p><code>/etc/portage/package.use</code><code>sys-devel/gcc</code> USE flag<code>/etc/portage/package.use/gcc</code><code>sys-devel/gcc fortran nls nptl openmp pch sanitize ssp lto</code><code>sys-devel/gcc</code> USE flag +  USE flag</p>\n<p></p>\n<p> gentoo  USE flag </p>\n<p> gcc<code>USE=&quot;nls pch&quot; emerge sys-devel/gcc</code></p>\n<ul>\n<li> USE flag</li>\n</ul>\n<p><code>equery uses package_name</code> USE flag </p>\n<p>Equery <code>app-portage/gentoolkit</code><a href=\"https://wiki.gentoo.org/wiki/Equery\">gentoo wiki</a></p>\n<p><code>eix package_name</code></p>\n<p> USE flag <a href=\"https://www.gentoo.org/support/use-flags/\">https://www.gentoo.org/support/use-flags/</a><a href=\"https://packages.gentoo.org/\">https://packages.gentoo.org/</a> USE flag  kde  plasma wiki  USE flag </p>\n<h3 id=\"keywords\"><a href=\"#keywords\" class=\"headerlink\" title=\"keywords\"></a>keywords</h3><p>keywords <a href=\"https://wiki.gentoo.org/wiki/KEYWORDS\">gentoo wiki</a></p>\n<p> amd64 <code>KEYWORDS=amd64</code> amd64 <code>KEYWORDS=~amd64</code> amd64 </p>\n<p> KEYWORDS</p>\n<p> ebuild  KEYWORDS  amd64</p>\n<ul>\n<li> keywords</li>\n</ul>\n<p><code>make.conf</code><code>KEYWORDS=amd64</code></p>\n<p><code>/etc/portage/package.accept_keywords</code> keywords<code>app-i18n/fcitx5-chinese-addons</code></p>\n<p> keywords<code>=x11-libs/xcb-imdkit-99999999999 **</code><code>&gt; &lt; &gt;= &lt;=</code></p>\n<ul>\n<li> keywords</li>\n</ul>\n<p><code>equery meta package_name</code><code>eix package_name</code></p>\n<p><code>eix package_name</code></p>\n<p><img src=\"1.png\" alt=\"gcc\"></p>\n<p><img src=\"2.png\" alt=\"kcm-fcitx5\"></p>\n<p><code>~</code><code>(**)</code><code>=app-i18n/kcm-fcitx5-99999999 **</code><code>app-i18n/kcm-fcitx5</code></p>\n<ul>\n<li></li>\n</ul>\n<p> gentoo </p>\n<p>bug </p>\n<p>gentoo  5.4.48gentoo </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> license gentoo wiki <code>make.conf</code><code>ACCEPT_LICENSE=&quot;*&quot;</code></p>\n<p></p>\n<p> gentoo wiki</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> gentoo </p>\n<ul>\n<li></li>\n</ul>\n<p><img src=\"3.png\" alt=\"instance\"></p>\n<p><code>eix clang</code> clang  clang-common <code>(number)</code> clang  clang-common </p>\n<ul>\n<li></li>\n</ul>\n<p><code>emerge &quot;=sys-devel/clang-9.0.1&quot;</code></p>\n<p></p>\n<p> keyword </p>\n<p><code>/etc/portage/package.mask</code><code>&gt;=sys-power/powertop-1.97</code></p>\n<h2 id=\"Portage-\"><a href=\"#Portage-\" class=\"headerlink\" title=\"Portage \"></a>Portage </h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">!!! Error: the mail-mta&#x2F;postfix package conflicts with another package.\n!!!        both can&#39;t be installed on the same system together.\n!!!        Please use &#39;emerge --pretend&#39; to determine blockers.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<p> ebuild ebuild<a href=\"https://bugs.gentoo.org/\">Gentoos bugtracking system</a> bug</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">!!! all ebuilds that could satisfy &quot;bootsplash&quot; have been masked.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">!!! possible candidates are:\n\n- gnome-base&#x2F;gnome-2.8.0_pre1 (masked by: ~x86 keyword)\n- lm-sensors&#x2F;lm-sensors-2.8.7 (masked by: -sparc keyword)\n- sys-libs&#x2F;glibc-2.3.4.20040808 (masked by: -* keyword)\n- dev-util&#x2F;cvsd-1.0.2 (masked by: missing keyword)\n- games-fps&#x2F;unreal-tournament-451 (masked by: package.mask)\n- sys-libs&#x2F;glibc-2.3.2-r11 (masked by: profile)\n- net-im&#x2F;skype-2.1.0.81 (masked by: skype-eula license(s))<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p> keywordlicensepackage.mask profile profile</p>\n<ul>\n<li></li>\n</ul>\n<p></p>\n<p> keyword  license </p>\n<h3 id=\"USE-flag-\"><a href=\"#USE-flag-\" class=\"headerlink\" title=\"USE flag \"></a>USE flag </h3><ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">The following USE changes are necessary to proceed:\n#required by app-text&#x2F;happypackage-2.0, required by happypackage (argument)\n&gt;&#x3D;app-text&#x2F;feelings-1.0.0 test<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p>USE flag </p>\n<ul>\n<li></li>\n</ul>\n<p> USE flag <code>etc-update</code></p>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h3><p> bug </p>\n<p> ebuild </p>\n<p><a href=\"https://www.niuiic.top/2020/08/05/gentoo-compiler-selection/\">Gentoo Compiler Selection</a></p>\n"},{"title":"Gentoo Preface","date":"2020-08-04T01:57:34.000Z","_content":"\n[Gentoo ](https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/)\n\n# Gentoo \n\n## \n\n gentoo  gentoo \n\n gentoo \n\n\n\n\n\n[gentoo wiki](https://wiki.gentoo.org/wiki/Main_Page)\n[arch wiki](https://wiki.archlinux.org/)\n[gentoo forums](https://forums.gentoo.org/)\n[gentoo handbook](https://wiki.gentoo.org/wiki/Handbook:Main_Page/zh-cn)\n[gentoo documentation](https://www.gentoo.org/support/documentation/)\n\n## \n\n-  linux  arch gentoo\n- \n\n## \n\n-  wiki  wiki\n- \n- \n\n## \n\n![Gentoo Linux with Kool Desktop Environment](1.png)\n\n[Gentoo Package Management](https://www.niuiic.top/2020/08/05/gentoo-package-management/)\n","source":"_posts/gentoo-preface.md","raw":"---\ntitle: Gentoo Preface\ndate: 2020-08-04 09:57:34\ntags:\n        - Gentoo\ncategories:\n        - Gentoo\n---\n\n[Gentoo ](https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/)\n\n# Gentoo \n\n## \n\n gentoo  gentoo \n\n gentoo \n\n\n\n\n\n[gentoo wiki](https://wiki.gentoo.org/wiki/Main_Page)\n[arch wiki](https://wiki.archlinux.org/)\n[gentoo forums](https://forums.gentoo.org/)\n[gentoo handbook](https://wiki.gentoo.org/wiki/Handbook:Main_Page/zh-cn)\n[gentoo documentation](https://www.gentoo.org/support/documentation/)\n\n## \n\n-  linux  arch gentoo\n- \n\n## \n\n-  wiki  wiki\n- \n- \n\n## \n\n![Gentoo Linux with Kool Desktop Environment](1.png)\n\n[Gentoo Package Management](https://www.niuiic.top/2020/08/05/gentoo-package-management/)\n","slug":"gentoo-preface","published":1,"updated":"2021-03-23T11:11:18.579Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9cw002gdbiz3z3229iy","content":"<p><a href=\"https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/\">Gentoo </a></p>\n<h1 id=\"Gentoo-\"><a href=\"#Gentoo-\" class=\"headerlink\" title=\"Gentoo \"></a>Gentoo </h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> gentoo  gentoo </p>\n<p> gentoo </p>\n<p></p>\n<p></p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Main_Page\">gentoo wiki</a><br><a href=\"https://wiki.archlinux.org/\">arch wiki</a><br><a href=\"https://forums.gentoo.org/\">gentoo forums</a><br><a href=\"https://wiki.gentoo.org/wiki/Handbook:Main_Page/zh-cn\">gentoo handbook</a><br><a href=\"https://www.gentoo.org/support/documentation/\">gentoo documentation</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li> linux  arch gentoo</li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li> wiki  wiki</li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"1.png\" alt=\"Gentoo Linux with Kool Desktop Environment\"></p>\n<p><a href=\"https://www.niuiic.top/2020/08/05/gentoo-package-management/\">Gentoo Package Management</a></p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<p><a href=\"https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/\">Gentoo </a></p>\n<h1 id=\"Gentoo-\"><a href=\"#Gentoo-\" class=\"headerlink\" title=\"Gentoo \"></a>Gentoo </h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> gentoo  gentoo </p>\n<p> gentoo </p>\n<p></p>\n<p></p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Main_Page\">gentoo wiki</a><br><a href=\"https://wiki.archlinux.org/\">arch wiki</a><br><a href=\"https://forums.gentoo.org/\">gentoo forums</a><br><a href=\"https://wiki.gentoo.org/wiki/Handbook:Main_Page/zh-cn\">gentoo handbook</a><br><a href=\"https://www.gentoo.org/support/documentation/\">gentoo documentation</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li> linux  arch gentoo</li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li> wiki  wiki</li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"1.png\" alt=\"Gentoo Linux with Kool Desktop Environment\"></p>\n<p><a href=\"https://www.niuiic.top/2020/08/05/gentoo-package-management/\">Gentoo Package Management</a></p>\n"},{"title":"Gentoo System Further Improvement","date":"2020-08-08T01:44:38.000Z","_content":"\n[Gentoo ](https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/)\n\n# Gentoo \n\n gentoo \n\n##  gentoo-zh overlay\n\ngentoo-zh \n\n```\nemerge eselect-repository\neselect repository add gentoo-zh git https://github.com/microcai/gentoo-zh\neix-sync\n# layman\n```\n\n`Main gentoo tree does not appear to have changed: exiting``rm -rf /var/db/repos/*``eix-sync -a`\n\n## \n\n-  fontconfig\n\n USE flag`static-libs`\n\n`emerge media-libs/fontconfig`\n\n[gentoo wiki fontdconfig](https://wiki.gentoo.org/wiki/Fontconfig)\n\n- \n\n```\nemerge media-fonts/font-isas-misc\nemerge media-fonts/arphicfonts\nemerge media-fonts/opendesktop-fonts\nemerge media-fonts/wqy-zenhei\nemerge media-fonts/zh-kcfonts\n```\n\n- \n\n```\n# \neselect fontconfig list\n# \neselect fontconfig enable number\n```\n\n- \n\n```\n# \neselect locale list\n# \neselect locale set 5\n```\n\n- \n\n kde \n\n```\nnvim ~/.xprofile\n\nexport LANG=zh_CN.UTF-8\nexport LANGUAGE=zh_CN:en_US\n```\n\n## \n\n fcitx5 \n\n- \n\n```\n# /etc/portage/package.accept_keywords/fcitx5\n\n=app-i18n/fcitx5-999999999 **\n=app-i18n/kcm-fcitx5-99999999 **\n=app-i18n/fcitx5-qt-9999999999 **\napp-i18n/fcitx5-chinese-addons\n=app-i18n/libime-99999999 **\n=x11-libs/xcb-imdkit-99999999999 **\n=app-i18n/cldr-emoji-annotation-9999 **\n=app-i18n/fcitx5-gtk-999999999 **\n```\n\n```\nemerge boost\nemerge xcb-imdkit cldr-emoji-annotation fcitx5 kcm-fcitx5 fcitx5-qt fcitx5-chinese-addons libime fcitx5-gtk\n```\n\n`app-text/enchant-1.6.1-r1` CC  CXX \n\n```\nCC=x86_64-pc-linux-gnu-gcc\nCXX=x86_64-pc-linux-gnu-g++\n```\n\nlibime `=app-i18n/libime-99999999 **``app-i18n/libime``fcitx5-chinese-addons`\n\n```\n# ~/.xprofile\n\nexport GTK_IM_MODULE=fcitx5\nexport QT_IM_MODULE=fcitx5\nexport XMODIFIERS=\"@im=fcitx\"\n\n```\n\n```\nmkdir ~/.config/autostart\ncp /usr/share/applications/fcitx5.desktop ~/.config/autostart\n\n#  start and shutdown \n```\n\n- \n\n fcitx5\n\n```\nmkdir -p ~/.local/share/fcitx5/themes/Material-Color\n\n# hosxy/Fcitx5-Material-Color\n\ngit clone https://github.com/hosxy/Fcitx5-Material-Color.git ~/.local/share/fcitx5/themes/Material-Color\n\ncd ~/.local/share/fcitx5/themes/Material-Color\n\nln -sf ./panel-teal.png panel.png\n\nln -sf ./highlight-teal.png highlight.png\n\n# ~/.config/fcitx5/conf/classicui.conf\n\nVertical Candidate List=False\nPerScreenDPI=True\nTheme=Material-Color\n```\n\n`kcm-fcitx5`\n\n## tlp\n\n```\neselect repository add tlp git https://github.com/dywisor/tlp-portage\n\n# /etc/portage/package.accept_keywords/tlp\n\napp-laptop/tlp\nsys-power/linux-x86-power-tools\n\n# \n\nemerge tlp\nsystemctl enable tlp\n```\n\n## zsh\n\n```\nemerge zsh\n# zshshell\nchsh -s /bin/zsh\n# shell\necho $SHELL\n# oh-my-zsh\ngit clone git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh\ncp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc\n# oh-my-zsh\ngit clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting\ngit clone git://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions\n\nnvim ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh\n\nZSH_AUTOSUGGEST_HIGHLIGHT_STYLE=fg=20\n\nnvim ~/.zshrc\n# \nZSH_THEME=\"ys\"\n# \nplugins=(git z zsh-syntax-highlighting zsh-autosuggestions extract vi-mode)\n\nsource ~/.zshrc\n```\n\n## \n\n```\nemerge xmodmap\nxmodmap -pke > ~/.Xmodmap\n#  ~/.Xmodmap\nxmodmap ~/.Xmodmap # ssh\n```\n\n### \n\n```\nsudo gpasswd -a $USER input\nemerge x11-misc/libinput-gestures\nlibinput-gestures-setup autostart\n\n# dev-libs/libinputx11-drivers/xf86-input-libinputx11-misc/xdotool\n\nmkdir /etc/X11/xorg.conf.d\ncp /usr/share/X11/xorg.conf.d/40-libinput.conf /etc/X11/xorg.conf.d/40-libinput.conf\ncp /etc/libinput-gestures.conf ~/.config/libinput-gestures.conf\n#  ~/.config/libinput-gestures.conf\n```\n\n## grub \n\n[ grub ](https://www.gnome-look.org/browse/cat/109/)\n\n`/boot/grub/themes`\n\n```\n# /etc/default/grub\n\nGRUB_THEME=\"/boot/grub/themes//theme.txt\"\nGRUB_GFXMODE=\"1920x1080x32\"\n\n# \n\ngrub-mkconfig -o /boot/grub/grub.cfg\n```\n\n##  snap\n\n-  USE flag\n\n```\nsys-apps/systemd policykit apparmor\nsys-libs/libseccomp static-libs\n```\n\n- \n\n```\nsys-libs/libapparmor\nsys-apps/apparmor\napp-emulation/snapd\nsec-policy/apparmor-profiles\n```\n\n- \n\n```\nemerge sys-apps/systemd\nemerge sys-apps/apparmor\n```\n\n-  grub \n\n```\nnvim /etc/default/grub\n# \nGRUB_CMDLINE_LINIX_DEFAULT=\"apparmor=1 security=apparmor\"\n\ngrub-mkconfig -o /boot/grub/grub.cfg\n```\n\n-  snap\n\n```\nlayman -a snapd\neix-sync\n# CONFIG_SECURITY_APPARMOR\n# /usr/src/linux/.config\nemerge --ask app-emulation/snapd\n\nsudo systemctl enable --now snapd\nsudo systemctl enable --now snapd.socket\nsudo systemctl enable --now snapd.apparmor\n```\n\n- snap \n\n```\nsudo systemctl edit snapd\n\n[Service]\nEnvironment=\"http_proxy=http://127.0.0.1:port\"\nEnvironment=\"https_proxy=http://127.0.0.1:port\"\n\nsudo systemctl daemon-reload\nsudo systemctl restart snapd\n```\n","source":"_posts/gentoo-system-further-improvement.md","raw":"---\ntitle: Gentoo System Further Improvement\ndate: 2020-08-08 09:44:38\ntags:\n\t\t- Gentoo\ncategories:\n\t\t- Gentoo\n---\n\n[Gentoo ](https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/)\n\n# Gentoo \n\n gentoo \n\n##  gentoo-zh overlay\n\ngentoo-zh \n\n```\nemerge eselect-repository\neselect repository add gentoo-zh git https://github.com/microcai/gentoo-zh\neix-sync\n# layman\n```\n\n`Main gentoo tree does not appear to have changed: exiting``rm -rf /var/db/repos/*``eix-sync -a`\n\n## \n\n-  fontconfig\n\n USE flag`static-libs`\n\n`emerge media-libs/fontconfig`\n\n[gentoo wiki fontdconfig](https://wiki.gentoo.org/wiki/Fontconfig)\n\n- \n\n```\nemerge media-fonts/font-isas-misc\nemerge media-fonts/arphicfonts\nemerge media-fonts/opendesktop-fonts\nemerge media-fonts/wqy-zenhei\nemerge media-fonts/zh-kcfonts\n```\n\n- \n\n```\n# \neselect fontconfig list\n# \neselect fontconfig enable number\n```\n\n- \n\n```\n# \neselect locale list\n# \neselect locale set 5\n```\n\n- \n\n kde \n\n```\nnvim ~/.xprofile\n\nexport LANG=zh_CN.UTF-8\nexport LANGUAGE=zh_CN:en_US\n```\n\n## \n\n fcitx5 \n\n- \n\n```\n# /etc/portage/package.accept_keywords/fcitx5\n\n=app-i18n/fcitx5-999999999 **\n=app-i18n/kcm-fcitx5-99999999 **\n=app-i18n/fcitx5-qt-9999999999 **\napp-i18n/fcitx5-chinese-addons\n=app-i18n/libime-99999999 **\n=x11-libs/xcb-imdkit-99999999999 **\n=app-i18n/cldr-emoji-annotation-9999 **\n=app-i18n/fcitx5-gtk-999999999 **\n```\n\n```\nemerge boost\nemerge xcb-imdkit cldr-emoji-annotation fcitx5 kcm-fcitx5 fcitx5-qt fcitx5-chinese-addons libime fcitx5-gtk\n```\n\n`app-text/enchant-1.6.1-r1` CC  CXX \n\n```\nCC=x86_64-pc-linux-gnu-gcc\nCXX=x86_64-pc-linux-gnu-g++\n```\n\nlibime `=app-i18n/libime-99999999 **``app-i18n/libime``fcitx5-chinese-addons`\n\n```\n# ~/.xprofile\n\nexport GTK_IM_MODULE=fcitx5\nexport QT_IM_MODULE=fcitx5\nexport XMODIFIERS=\"@im=fcitx\"\n\n```\n\n```\nmkdir ~/.config/autostart\ncp /usr/share/applications/fcitx5.desktop ~/.config/autostart\n\n#  start and shutdown \n```\n\n- \n\n fcitx5\n\n```\nmkdir -p ~/.local/share/fcitx5/themes/Material-Color\n\n# hosxy/Fcitx5-Material-Color\n\ngit clone https://github.com/hosxy/Fcitx5-Material-Color.git ~/.local/share/fcitx5/themes/Material-Color\n\ncd ~/.local/share/fcitx5/themes/Material-Color\n\nln -sf ./panel-teal.png panel.png\n\nln -sf ./highlight-teal.png highlight.png\n\n# ~/.config/fcitx5/conf/classicui.conf\n\nVertical Candidate List=False\nPerScreenDPI=True\nTheme=Material-Color\n```\n\n`kcm-fcitx5`\n\n## tlp\n\n```\neselect repository add tlp git https://github.com/dywisor/tlp-portage\n\n# /etc/portage/package.accept_keywords/tlp\n\napp-laptop/tlp\nsys-power/linux-x86-power-tools\n\n# \n\nemerge tlp\nsystemctl enable tlp\n```\n\n## zsh\n\n```\nemerge zsh\n# zshshell\nchsh -s /bin/zsh\n# shell\necho $SHELL\n# oh-my-zsh\ngit clone git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh\ncp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc\n# oh-my-zsh\ngit clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting\ngit clone git://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions\n\nnvim ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh\n\nZSH_AUTOSUGGEST_HIGHLIGHT_STYLE=fg=20\n\nnvim ~/.zshrc\n# \nZSH_THEME=\"ys\"\n# \nplugins=(git z zsh-syntax-highlighting zsh-autosuggestions extract vi-mode)\n\nsource ~/.zshrc\n```\n\n## \n\n```\nemerge xmodmap\nxmodmap -pke > ~/.Xmodmap\n#  ~/.Xmodmap\nxmodmap ~/.Xmodmap # ssh\n```\n\n### \n\n```\nsudo gpasswd -a $USER input\nemerge x11-misc/libinput-gestures\nlibinput-gestures-setup autostart\n\n# dev-libs/libinputx11-drivers/xf86-input-libinputx11-misc/xdotool\n\nmkdir /etc/X11/xorg.conf.d\ncp /usr/share/X11/xorg.conf.d/40-libinput.conf /etc/X11/xorg.conf.d/40-libinput.conf\ncp /etc/libinput-gestures.conf ~/.config/libinput-gestures.conf\n#  ~/.config/libinput-gestures.conf\n```\n\n## grub \n\n[ grub ](https://www.gnome-look.org/browse/cat/109/)\n\n`/boot/grub/themes`\n\n```\n# /etc/default/grub\n\nGRUB_THEME=\"/boot/grub/themes//theme.txt\"\nGRUB_GFXMODE=\"1920x1080x32\"\n\n# \n\ngrub-mkconfig -o /boot/grub/grub.cfg\n```\n\n##  snap\n\n-  USE flag\n\n```\nsys-apps/systemd policykit apparmor\nsys-libs/libseccomp static-libs\n```\n\n- \n\n```\nsys-libs/libapparmor\nsys-apps/apparmor\napp-emulation/snapd\nsec-policy/apparmor-profiles\n```\n\n- \n\n```\nemerge sys-apps/systemd\nemerge sys-apps/apparmor\n```\n\n-  grub \n\n```\nnvim /etc/default/grub\n# \nGRUB_CMDLINE_LINIX_DEFAULT=\"apparmor=1 security=apparmor\"\n\ngrub-mkconfig -o /boot/grub/grub.cfg\n```\n\n-  snap\n\n```\nlayman -a snapd\neix-sync\n# CONFIG_SECURITY_APPARMOR\n# /usr/src/linux/.config\nemerge --ask app-emulation/snapd\n\nsudo systemctl enable --now snapd\nsudo systemctl enable --now snapd.socket\nsudo systemctl enable --now snapd.apparmor\n```\n\n- snap \n\n```\nsudo systemctl edit snapd\n\n[Service]\nEnvironment=\"http_proxy=http://127.0.0.1:port\"\nEnvironment=\"https_proxy=http://127.0.0.1:port\"\n\nsudo systemctl daemon-reload\nsudo systemctl restart snapd\n```\n","slug":"gentoo-system-further-improvement","published":1,"updated":"2021-03-23T11:11:18.582Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9cy002jdbizb3mn0o1k","content":"<p><a href=\"https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/\">Gentoo </a></p>\n<h1 id=\"Gentoo-\"><a href=\"#Gentoo-\" class=\"headerlink\" title=\"Gentoo \"></a>Gentoo </h1><p> gentoo </p>\n<h2 id=\"-gentoo-zh-overlay\"><a href=\"#-gentoo-zh-overlay\" class=\"headerlink\" title=\" gentoo-zh overlay\"></a> gentoo-zh overlay</h2><p>gentoo-zh </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge eselect-repository\neselect repository add gentoo-zh git https:&#x2F;&#x2F;github.com&#x2F;microcai&#x2F;gentoo-zh\neix-sync\n# layman<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>Main gentoo tree does not appear to have changed: exiting</code><code>rm -rf /var/db/repos/*</code><code>eix-sync -a</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li> fontconfig</li>\n</ul>\n<p> USE flag<code>static-libs</code></p>\n<p><code>emerge media-libs/fontconfig</code></p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Fontconfig\">gentoo wiki fontdconfig</a></p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge media-fonts&#x2F;font-isas-misc\nemerge media-fonts&#x2F;arphicfonts\nemerge media-fonts&#x2F;opendesktop-fonts\nemerge media-fonts&#x2F;wqy-zenhei\nemerge media-fonts&#x2F;zh-kcfonts<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># \neselect fontconfig list\n# \neselect fontconfig enable number<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># \neselect locale list\n# \neselect locale set 5<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p> kde </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nvim ~&#x2F;.xprofile\n\nexport LANG&#x3D;zh_CN.UTF-8\nexport LANGUAGE&#x3D;zh_CN:en_US<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> fcitx5 </p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># &#x2F;etc&#x2F;portage&#x2F;package.accept_keywords&#x2F;fcitx5\n\n&#x3D;app-i18n&#x2F;fcitx5-999999999 **\n&#x3D;app-i18n&#x2F;kcm-fcitx5-99999999 **\n&#x3D;app-i18n&#x2F;fcitx5-qt-9999999999 **\napp-i18n&#x2F;fcitx5-chinese-addons\n&#x3D;app-i18n&#x2F;libime-99999999 **\n&#x3D;x11-libs&#x2F;xcb-imdkit-99999999999 **\n&#x3D;app-i18n&#x2F;cldr-emoji-annotation-9999 **\n&#x3D;app-i18n&#x2F;fcitx5-gtk-999999999 **<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge boost\nemerge xcb-imdkit cldr-emoji-annotation fcitx5 kcm-fcitx5 fcitx5-qt fcitx5-chinese-addons libime fcitx5-gtk<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><code>app-text/enchant-1.6.1-r1</code> CC  CXX </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">CC&#x3D;x86_64-pc-linux-gnu-gcc\nCXX&#x3D;x86_64-pc-linux-gnu-g++<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>libime <code>=app-i18n/libime-99999999 **</code><code>app-i18n/libime</code><code>fcitx5-chinese-addons</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># ~&#x2F;.xprofile\n\nexport GTK_IM_MODULE&#x3D;fcitx5\nexport QT_IM_MODULE&#x3D;fcitx5\nexport XMODIFIERS&#x3D;&quot;@im&#x3D;fcitx&quot;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">mkdir ~&#x2F;.config&#x2F;autostart\ncp &#x2F;usr&#x2F;share&#x2F;applications&#x2F;fcitx5.desktop ~&#x2F;.config&#x2F;autostart\n\n#  start and shutdown <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p> fcitx5</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">mkdir -p ~&#x2F;.local&#x2F;share&#x2F;fcitx5&#x2F;themes&#x2F;Material-Color\n\n# hosxy&#x2F;Fcitx5-Material-Color\n\ngit clone https:&#x2F;&#x2F;github.com&#x2F;hosxy&#x2F;Fcitx5-Material-Color.git ~&#x2F;.local&#x2F;share&#x2F;fcitx5&#x2F;themes&#x2F;Material-Color\n\ncd ~&#x2F;.local&#x2F;share&#x2F;fcitx5&#x2F;themes&#x2F;Material-Color\n\nln -sf .&#x2F;panel-teal.png panel.png\n\nln -sf .&#x2F;highlight-teal.png highlight.png\n\n# ~&#x2F;.config&#x2F;fcitx5&#x2F;conf&#x2F;classicui.conf\n\nVertical Candidate List&#x3D;False\nPerScreenDPI&#x3D;True\nTheme&#x3D;Material-Color<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>kcm-fcitx5</code></p>\n<h2 id=\"tlp\"><a href=\"#tlp\" class=\"headerlink\" title=\"tlp\"></a>tlp</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">eselect repository add tlp git https:&#x2F;&#x2F;github.com&#x2F;dywisor&#x2F;tlp-portage\n\n# &#x2F;etc&#x2F;portage&#x2F;package.accept_keywords&#x2F;tlp\n\napp-laptop&#x2F;tlp\nsys-power&#x2F;linux-x86-power-tools\n\n# \n\nemerge tlp\nsystemctl enable tlp<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"zsh\"><a href=\"#zsh\" class=\"headerlink\" title=\"zsh\"></a>zsh</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge zsh\n# zshshell\nchsh -s &#x2F;bin&#x2F;zsh\n# shell\necho $SHELL\n# oh-my-zsh\ngit clone git:&#x2F;&#x2F;github.com&#x2F;robbyrussell&#x2F;oh-my-zsh.git ~&#x2F;.oh-my-zsh\ncp ~&#x2F;.oh-my-zsh&#x2F;templates&#x2F;zshrc.zsh-template ~&#x2F;.zshrc\n# oh-my-zsh\ngit clone https:&#x2F;&#x2F;github.com&#x2F;zsh-users&#x2F;zsh-syntax-highlighting.git $&#123;ZSH_CUSTOM:-~&#x2F;.oh-my-zsh&#x2F;custom&#125;&#x2F;plugins&#x2F;zsh-syntax-highlighting\ngit clone git:&#x2F;&#x2F;github.com&#x2F;zsh-users&#x2F;zsh-autosuggestions $ZSH_CUSTOM&#x2F;plugins&#x2F;zsh-autosuggestions\n\nnvim ~&#x2F;.oh-my-zsh&#x2F;custom&#x2F;plugins&#x2F;zsh-autosuggestions&#x2F;zsh-autosuggestions.zsh\n\nZSH_AUTOSUGGEST_HIGHLIGHT_STYLE&#x3D;fg&#x3D;20\n\nnvim ~&#x2F;.zshrc\n# \nZSH_THEME&#x3D;&quot;ys&quot;\n# \nplugins&#x3D;(git z zsh-syntax-highlighting zsh-autosuggestions extract vi-mode)\n\nsource ~&#x2F;.zshrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge xmodmap\nxmodmap -pke &gt; ~&#x2F;.Xmodmap\n#  ~&#x2F;.Xmodmap\nxmodmap ~&#x2F;.Xmodmap # ssh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo gpasswd -a $USER input\nemerge x11-misc&#x2F;libinput-gestures\nlibinput-gestures-setup autostart\n\n# dev-libs&#x2F;libinputx11-drivers&#x2F;xf86-input-libinputx11-misc&#x2F;xdotool\n\nmkdir &#x2F;etc&#x2F;X11&#x2F;xorg.conf.d\ncp &#x2F;usr&#x2F;share&#x2F;X11&#x2F;xorg.conf.d&#x2F;40-libinput.conf &#x2F;etc&#x2F;X11&#x2F;xorg.conf.d&#x2F;40-libinput.conf\ncp &#x2F;etc&#x2F;libinput-gestures.conf ~&#x2F;.config&#x2F;libinput-gestures.conf\n#  ~&#x2F;.config&#x2F;libinput-gestures.conf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"grub-\"><a href=\"#grub-\" class=\"headerlink\" title=\"grub \"></a>grub </h2><p><a href=\"https://www.gnome-look.org/browse/cat/109/\"> grub </a></p>\n<p><code>/boot/grub/themes</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># &#x2F;etc&#x2F;default&#x2F;grub\n\nGRUB_THEME&#x3D;&quot;&#x2F;boot&#x2F;grub&#x2F;themes&#x2F;&#x2F;theme.txt&quot;\nGRUB_GFXMODE&#x3D;&quot;1920x1080x32&quot;\n\n# \n\ngrub-mkconfig -o &#x2F;boot&#x2F;grub&#x2F;grub.cfg<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"-snap\"><a href=\"#-snap\" class=\"headerlink\" title=\" snap\"></a> snap</h2><ul>\n<li> USE flag</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sys-apps&#x2F;systemd policykit apparmor\nsys-libs&#x2F;libseccomp static-libs<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sys-libs&#x2F;libapparmor\nsys-apps&#x2F;apparmor\napp-emulation&#x2F;snapd\nsec-policy&#x2F;apparmor-profiles<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge sys-apps&#x2F;systemd\nemerge sys-apps&#x2F;apparmor<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li> grub </li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nvim &#x2F;etc&#x2F;default&#x2F;grub\n# \nGRUB_CMDLINE_LINIX_DEFAULT&#x3D;&quot;apparmor&#x3D;1 security&#x3D;apparmor&quot;\n\ngrub-mkconfig -o &#x2F;boot&#x2F;grub&#x2F;grub.cfg<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li> snap</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">layman -a snapd\neix-sync\n# CONFIG_SECURITY_APPARMOR\n# &#x2F;usr&#x2F;src&#x2F;linux&#x2F;.config\nemerge --ask app-emulation&#x2F;snapd\n\nsudo systemctl enable --now snapd\nsudo systemctl enable --now snapd.socket\nsudo systemctl enable --now snapd.apparmor<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>snap </li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo systemctl edit snapd\n\n[Service]\nEnvironment&#x3D;&quot;http_proxy&#x3D;http:&#x2F;&#x2F;127.0.0.1:port&quot;\nEnvironment&#x3D;&quot;https_proxy&#x3D;http:&#x2F;&#x2F;127.0.0.1:port&quot;\n\nsudo systemctl daemon-reload\nsudo systemctl restart snapd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<p><a href=\"https://www.niuiic.top/2020/08/06/gentoo-tutorials-directory/\">Gentoo </a></p>\n<h1 id=\"Gentoo-\"><a href=\"#Gentoo-\" class=\"headerlink\" title=\"Gentoo \"></a>Gentoo </h1><p> gentoo </p>\n<h2 id=\"-gentoo-zh-overlay\"><a href=\"#-gentoo-zh-overlay\" class=\"headerlink\" title=\" gentoo-zh overlay\"></a> gentoo-zh overlay</h2><p>gentoo-zh </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge eselect-repository\neselect repository add gentoo-zh git https:&#x2F;&#x2F;github.com&#x2F;microcai&#x2F;gentoo-zh\neix-sync\n# layman<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>Main gentoo tree does not appear to have changed: exiting</code><code>rm -rf /var/db/repos/*</code><code>eix-sync -a</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li> fontconfig</li>\n</ul>\n<p> USE flag<code>static-libs</code></p>\n<p><code>emerge media-libs/fontconfig</code></p>\n<p><a href=\"https://wiki.gentoo.org/wiki/Fontconfig\">gentoo wiki fontdconfig</a></p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge media-fonts&#x2F;font-isas-misc\nemerge media-fonts&#x2F;arphicfonts\nemerge media-fonts&#x2F;opendesktop-fonts\nemerge media-fonts&#x2F;wqy-zenhei\nemerge media-fonts&#x2F;zh-kcfonts<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># \neselect fontconfig list\n# \neselect fontconfig enable number<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># \neselect locale list\n# \neselect locale set 5<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p> kde </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nvim ~&#x2F;.xprofile\n\nexport LANG&#x3D;zh_CN.UTF-8\nexport LANGUAGE&#x3D;zh_CN:en_US<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> fcitx5 </p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># &#x2F;etc&#x2F;portage&#x2F;package.accept_keywords&#x2F;fcitx5\n\n&#x3D;app-i18n&#x2F;fcitx5-999999999 **\n&#x3D;app-i18n&#x2F;kcm-fcitx5-99999999 **\n&#x3D;app-i18n&#x2F;fcitx5-qt-9999999999 **\napp-i18n&#x2F;fcitx5-chinese-addons\n&#x3D;app-i18n&#x2F;libime-99999999 **\n&#x3D;x11-libs&#x2F;xcb-imdkit-99999999999 **\n&#x3D;app-i18n&#x2F;cldr-emoji-annotation-9999 **\n&#x3D;app-i18n&#x2F;fcitx5-gtk-999999999 **<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge boost\nemerge xcb-imdkit cldr-emoji-annotation fcitx5 kcm-fcitx5 fcitx5-qt fcitx5-chinese-addons libime fcitx5-gtk<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><code>app-text/enchant-1.6.1-r1</code> CC  CXX </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">CC&#x3D;x86_64-pc-linux-gnu-gcc\nCXX&#x3D;x86_64-pc-linux-gnu-g++<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>libime <code>=app-i18n/libime-99999999 **</code><code>app-i18n/libime</code><code>fcitx5-chinese-addons</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># ~&#x2F;.xprofile\n\nexport GTK_IM_MODULE&#x3D;fcitx5\nexport QT_IM_MODULE&#x3D;fcitx5\nexport XMODIFIERS&#x3D;&quot;@im&#x3D;fcitx&quot;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">mkdir ~&#x2F;.config&#x2F;autostart\ncp &#x2F;usr&#x2F;share&#x2F;applications&#x2F;fcitx5.desktop ~&#x2F;.config&#x2F;autostart\n\n#  start and shutdown <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p> fcitx5</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">mkdir -p ~&#x2F;.local&#x2F;share&#x2F;fcitx5&#x2F;themes&#x2F;Material-Color\n\n# hosxy&#x2F;Fcitx5-Material-Color\n\ngit clone https:&#x2F;&#x2F;github.com&#x2F;hosxy&#x2F;Fcitx5-Material-Color.git ~&#x2F;.local&#x2F;share&#x2F;fcitx5&#x2F;themes&#x2F;Material-Color\n\ncd ~&#x2F;.local&#x2F;share&#x2F;fcitx5&#x2F;themes&#x2F;Material-Color\n\nln -sf .&#x2F;panel-teal.png panel.png\n\nln -sf .&#x2F;highlight-teal.png highlight.png\n\n# ~&#x2F;.config&#x2F;fcitx5&#x2F;conf&#x2F;classicui.conf\n\nVertical Candidate List&#x3D;False\nPerScreenDPI&#x3D;True\nTheme&#x3D;Material-Color<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>kcm-fcitx5</code></p>\n<h2 id=\"tlp\"><a href=\"#tlp\" class=\"headerlink\" title=\"tlp\"></a>tlp</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">eselect repository add tlp git https:&#x2F;&#x2F;github.com&#x2F;dywisor&#x2F;tlp-portage\n\n# &#x2F;etc&#x2F;portage&#x2F;package.accept_keywords&#x2F;tlp\n\napp-laptop&#x2F;tlp\nsys-power&#x2F;linux-x86-power-tools\n\n# \n\nemerge tlp\nsystemctl enable tlp<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"zsh\"><a href=\"#zsh\" class=\"headerlink\" title=\"zsh\"></a>zsh</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge zsh\n# zshshell\nchsh -s &#x2F;bin&#x2F;zsh\n# shell\necho $SHELL\n# oh-my-zsh\ngit clone git:&#x2F;&#x2F;github.com&#x2F;robbyrussell&#x2F;oh-my-zsh.git ~&#x2F;.oh-my-zsh\ncp ~&#x2F;.oh-my-zsh&#x2F;templates&#x2F;zshrc.zsh-template ~&#x2F;.zshrc\n# oh-my-zsh\ngit clone https:&#x2F;&#x2F;github.com&#x2F;zsh-users&#x2F;zsh-syntax-highlighting.git $&#123;ZSH_CUSTOM:-~&#x2F;.oh-my-zsh&#x2F;custom&#125;&#x2F;plugins&#x2F;zsh-syntax-highlighting\ngit clone git:&#x2F;&#x2F;github.com&#x2F;zsh-users&#x2F;zsh-autosuggestions $ZSH_CUSTOM&#x2F;plugins&#x2F;zsh-autosuggestions\n\nnvim ~&#x2F;.oh-my-zsh&#x2F;custom&#x2F;plugins&#x2F;zsh-autosuggestions&#x2F;zsh-autosuggestions.zsh\n\nZSH_AUTOSUGGEST_HIGHLIGHT_STYLE&#x3D;fg&#x3D;20\n\nnvim ~&#x2F;.zshrc\n# \nZSH_THEME&#x3D;&quot;ys&quot;\n# \nplugins&#x3D;(git z zsh-syntax-highlighting zsh-autosuggestions extract vi-mode)\n\nsource ~&#x2F;.zshrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge xmodmap\nxmodmap -pke &gt; ~&#x2F;.Xmodmap\n#  ~&#x2F;.Xmodmap\nxmodmap ~&#x2F;.Xmodmap # ssh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo gpasswd -a $USER input\nemerge x11-misc&#x2F;libinput-gestures\nlibinput-gestures-setup autostart\n\n# dev-libs&#x2F;libinputx11-drivers&#x2F;xf86-input-libinputx11-misc&#x2F;xdotool\n\nmkdir &#x2F;etc&#x2F;X11&#x2F;xorg.conf.d\ncp &#x2F;usr&#x2F;share&#x2F;X11&#x2F;xorg.conf.d&#x2F;40-libinput.conf &#x2F;etc&#x2F;X11&#x2F;xorg.conf.d&#x2F;40-libinput.conf\ncp &#x2F;etc&#x2F;libinput-gestures.conf ~&#x2F;.config&#x2F;libinput-gestures.conf\n#  ~&#x2F;.config&#x2F;libinput-gestures.conf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"grub-\"><a href=\"#grub-\" class=\"headerlink\" title=\"grub \"></a>grub </h2><p><a href=\"https://www.gnome-look.org/browse/cat/109/\"> grub </a></p>\n<p><code>/boot/grub/themes</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># &#x2F;etc&#x2F;default&#x2F;grub\n\nGRUB_THEME&#x3D;&quot;&#x2F;boot&#x2F;grub&#x2F;themes&#x2F;&#x2F;theme.txt&quot;\nGRUB_GFXMODE&#x3D;&quot;1920x1080x32&quot;\n\n# \n\ngrub-mkconfig -o &#x2F;boot&#x2F;grub&#x2F;grub.cfg<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"-snap\"><a href=\"#-snap\" class=\"headerlink\" title=\" snap\"></a> snap</h2><ul>\n<li> USE flag</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sys-apps&#x2F;systemd policykit apparmor\nsys-libs&#x2F;libseccomp static-libs<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sys-libs&#x2F;libapparmor\nsys-apps&#x2F;apparmor\napp-emulation&#x2F;snapd\nsec-policy&#x2F;apparmor-profiles<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">emerge sys-apps&#x2F;systemd\nemerge sys-apps&#x2F;apparmor<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li> grub </li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nvim &#x2F;etc&#x2F;default&#x2F;grub\n# \nGRUB_CMDLINE_LINIX_DEFAULT&#x3D;&quot;apparmor&#x3D;1 security&#x3D;apparmor&quot;\n\ngrub-mkconfig -o &#x2F;boot&#x2F;grub&#x2F;grub.cfg<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li> snap</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">layman -a snapd\neix-sync\n# CONFIG_SECURITY_APPARMOR\n# &#x2F;usr&#x2F;src&#x2F;linux&#x2F;.config\nemerge --ask app-emulation&#x2F;snapd\n\nsudo systemctl enable --now snapd\nsudo systemctl enable --now snapd.socket\nsudo systemctl enable --now snapd.apparmor<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>snap </li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo systemctl edit snapd\n\n[Service]\nEnvironment&#x3D;&quot;http_proxy&#x3D;http:&#x2F;&#x2F;127.0.0.1:port&quot;\nEnvironment&#x3D;&quot;https_proxy&#x3D;http:&#x2F;&#x2F;127.0.0.1:port&quot;\n\nsudo systemctl daemon-reload\nsudo systemctl restart snapd<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Gentoo Tutorials Directory","date":"2020-08-06T14:00:09.000Z","_content":"\n# Gentoo \n\n## [Gentoo Preface](https://niuiic.top/2020/08/04/gentoo-preface/)\n\n## [Gentoo Package Management](https://niuiic.top/2020/08/05/gentoo-package-management/)\n\n## [Gentoo Compiler Selection](https://niuiic.top/2020/08/05/gentoo-compiler-selection/)\n\n## [Gentoo Compile Error Handling](https://niuiic.top/2020/08/06/gentoo-compile-error-handling/)\n\n## [Gentoo Basic System Installation](https://www.niuiic.top/2020/08/07/gentoo-basic-system-installation/)\n\n## [Gentoo Kool Desktop Environment Installation](https://www.niuiic.top/2020/08/08/gentoo-kool-desktop-environment-installation/)\n\n## [Gentoo System Further Improvement](https://www.niuiic.top/2020/08/08/gentoo-system-further-improvement/)\n","source":"_posts/gentoo-tutorials-directory.md","raw":"---\ntitle: Gentoo Tutorials Directory\ndate: 2020-08-06 22:00:09\ntags:\n        - Gentoo\ncategories:\n        - Gentoo\n---\n\n# Gentoo \n\n## [Gentoo Preface](https://niuiic.top/2020/08/04/gentoo-preface/)\n\n## [Gentoo Package Management](https://niuiic.top/2020/08/05/gentoo-package-management/)\n\n## [Gentoo Compiler Selection](https://niuiic.top/2020/08/05/gentoo-compiler-selection/)\n\n## [Gentoo Compile Error Handling](https://niuiic.top/2020/08/06/gentoo-compile-error-handling/)\n\n## [Gentoo Basic System Installation](https://www.niuiic.top/2020/08/07/gentoo-basic-system-installation/)\n\n## [Gentoo Kool Desktop Environment Installation](https://www.niuiic.top/2020/08/08/gentoo-kool-desktop-environment-installation/)\n\n## [Gentoo System Further Improvement](https://www.niuiic.top/2020/08/08/gentoo-system-further-improvement/)\n","slug":"gentoo-tutorials-directory","published":1,"updated":"2021-03-23T11:11:18.582Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9cz002odbiz86nufw4d","content":"<h1 id=\"Gentoo-\"><a href=\"#Gentoo-\" class=\"headerlink\" title=\"Gentoo \"></a>Gentoo </h1><h2 id=\"Gentoo-Preface\"><a href=\"#Gentoo-Preface\" class=\"headerlink\" title=\"Gentoo Preface\"></a><a href=\"https://niuiic.top/2020/08/04/gentoo-preface/\">Gentoo Preface</a></h2><h2 id=\"Gentoo-Package-Management\"><a href=\"#Gentoo-Package-Management\" class=\"headerlink\" title=\"Gentoo Package Management\"></a><a href=\"https://niuiic.top/2020/08/05/gentoo-package-management/\">Gentoo Package Management</a></h2><h2 id=\"Gentoo-Compiler-Selection\"><a href=\"#Gentoo-Compiler-Selection\" class=\"headerlink\" title=\"Gentoo Compiler Selection\"></a><a href=\"https://niuiic.top/2020/08/05/gentoo-compiler-selection/\">Gentoo Compiler Selection</a></h2><h2 id=\"Gentoo-Compile-Error-Handling\"><a href=\"#Gentoo-Compile-Error-Handling\" class=\"headerlink\" title=\"Gentoo Compile Error Handling\"></a><a href=\"https://niuiic.top/2020/08/06/gentoo-compile-error-handling/\">Gentoo Compile Error Handling</a></h2><h2 id=\"Gentoo-Basic-System-Installation\"><a href=\"#Gentoo-Basic-System-Installation\" class=\"headerlink\" title=\"Gentoo Basic System Installation\"></a><a href=\"https://www.niuiic.top/2020/08/07/gentoo-basic-system-installation/\">Gentoo Basic System Installation</a></h2><h2 id=\"Gentoo-Kool-Desktop-Environment-Installation\"><a href=\"#Gentoo-Kool-Desktop-Environment-Installation\" class=\"headerlink\" title=\"Gentoo Kool Desktop Environment Installation\"></a><a href=\"https://www.niuiic.top/2020/08/08/gentoo-kool-desktop-environment-installation/\">Gentoo Kool Desktop Environment Installation</a></h2><h2 id=\"Gentoo-System-Further-Improvement\"><a href=\"#Gentoo-System-Further-Improvement\" class=\"headerlink\" title=\"Gentoo System Further Improvement\"></a><a href=\"https://www.niuiic.top/2020/08/08/gentoo-system-further-improvement/\">Gentoo System Further Improvement</a></h2>","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"Gentoo-\"><a href=\"#Gentoo-\" class=\"headerlink\" title=\"Gentoo \"></a>Gentoo </h1><h2 id=\"Gentoo-Preface\"><a href=\"#Gentoo-Preface\" class=\"headerlink\" title=\"Gentoo Preface\"></a><a href=\"https://niuiic.top/2020/08/04/gentoo-preface/\">Gentoo Preface</a></h2><h2 id=\"Gentoo-Package-Management\"><a href=\"#Gentoo-Package-Management\" class=\"headerlink\" title=\"Gentoo Package Management\"></a><a href=\"https://niuiic.top/2020/08/05/gentoo-package-management/\">Gentoo Package Management</a></h2><h2 id=\"Gentoo-Compiler-Selection\"><a href=\"#Gentoo-Compiler-Selection\" class=\"headerlink\" title=\"Gentoo Compiler Selection\"></a><a href=\"https://niuiic.top/2020/08/05/gentoo-compiler-selection/\">Gentoo Compiler Selection</a></h2><h2 id=\"Gentoo-Compile-Error-Handling\"><a href=\"#Gentoo-Compile-Error-Handling\" class=\"headerlink\" title=\"Gentoo Compile Error Handling\"></a><a href=\"https://niuiic.top/2020/08/06/gentoo-compile-error-handling/\">Gentoo Compile Error Handling</a></h2><h2 id=\"Gentoo-Basic-System-Installation\"><a href=\"#Gentoo-Basic-System-Installation\" class=\"headerlink\" title=\"Gentoo Basic System Installation\"></a><a href=\"https://www.niuiic.top/2020/08/07/gentoo-basic-system-installation/\">Gentoo Basic System Installation</a></h2><h2 id=\"Gentoo-Kool-Desktop-Environment-Installation\"><a href=\"#Gentoo-Kool-Desktop-Environment-Installation\" class=\"headerlink\" title=\"Gentoo Kool Desktop Environment Installation\"></a><a href=\"https://www.niuiic.top/2020/08/08/gentoo-kool-desktop-environment-installation/\">Gentoo Kool Desktop Environment Installation</a></h2><h2 id=\"Gentoo-System-Further-Improvement\"><a href=\"#Gentoo-System-Further-Improvement\" class=\"headerlink\" title=\"Gentoo System Further Improvement\"></a><a href=\"https://www.niuiic.top/2020/08/08/gentoo-system-further-improvement/\">Gentoo System Further Improvement</a></h2>"},{"title":"Install Manjaro on rpi4","date":"2021-05-15T13:53:05.000Z","_content":"\n#  4  manjaro\n\n 4 \n\n## \n\n1.  SD  USB \n2.  USB \n3.  64  manjaro  arch \n\n> 1. SD  M  USB3.0  M 10 \n> 2. \n> 3.  manjaro  arch \n\n## \n\n1.  SD 16G \n2.  USB \n3.  USB \n4.  128G \n5. \n\n> 1. \n> 2.  m2  USB3.0 500M/s \n\n##  USB \n\n USB \n\n>  4\n\n###  Raspberry Pi OS\n\n[](https://www.raspberrypi.org/software/) Raspberry Pi Imager\n\n SD  Raspberry Pi OS \n\n\n\n windows \n\n windows  wifi windows \n\n\n\n cmd`arp -a`\n\n![cmd](1.png)\n\n ip `192.168.137.1` ip \n\n>  ip ip  192.168  wifi\n\n SD \n\n boot `cmdline.txt``ip=192.168.137.20``192.168.137` 20 \n\n SSH  SSH\n\n SD \n\n putty `192.168.137.20` pi raspberry\n\n USB  USB2.0\n\n>  USB2.0  USB3 \n\n\n\n```\n# wifi name  password wifi\nwpa_passphrase \"wifi name\" password > internet.conf\n# wlan0ip aUSBUSB\nsudo wpa_supplicant -c ./internet.conf -i wlan0 &\nsudo dhcpcd &\n```\n\n\n\n```\n# /etc/apt/sources.list\ndeb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib\ndeb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib\n# /etc/apt/sources.list.d/raspi.list\ndeb http://mirrors.tuna.tsinghua.edu.cn/raspberrypi/ buster main ui\n```\n\n### \n\n```\nsudo apt update\nsudo apt full-upgrade\n# /etc/default/rpi-eeprom-update\nFIRMWARE_RELEASE_STATUS=\"stable\"\n\nsudo rpi-eeprom-update -d -a\n```\n\n### \n\n`sudo raspi-config` boot order \n\n##  manjaro\n\n[](https://mirrors.tuna.tsinghua.edu.cn/osdn/storage/g/m/ma/manjaro-arm/rpi4/)\n\n>  i3  xfce  wayland sway\n\n\n\n`cmdline.txt``ip=192.168.137.20``SSH`\n\n USB3 \n\n### \n\n`root`\n\n1.  us\n2. `Asia/Shanghai`\n3. locale `en_US.UTF-8``zh_CN.UTF-8`\n\n\n\n### \n\n`ip a`\n![ip a](2.png)\n\n1. `sudo ip link set wlan0 down`\n2.  wifi`sudo nmcli d wifi connect \"KFC_free\" password \"12345678\"`\n   >  NetworkManager  wlan0  wifi wlan0 ip\n\n### \n\n```\nsudo pacman-mirrors -i -c China -m rank\n#  /etc/pacman.conf\n\n[archlinuxcn]\nSigLevel = Optional TrustAll\nServer = http://mirrors.163.com/archlinux-cn/$arch\n\n# \nsudo pacman -Syyy\n```\n\n> 1.  manjaro  arch \n> 2.  ip \n\n yay`sudo pacman -S yay`\n`yay --aururl \"https://aur.tuna.tsinghua.edu.cn\" --save`\n\n> \n\n`sudo pacman -Syu`\n\n### VNC\n\n\n\n```\nsudo pacman -S tigervnc\n# \nvncpasswd\n# niuiic\nif [ -z \"$(grep niuiic /etc/tigervnc/vncserver.users)\" ];then\n        #sudo sed -i '/niuiic/d' /etc/tigervnc/vncserver.users\n        echo \"  :1=niuiic\" | sudo tee -a /etc/tigervnc/vncserver.users\n    fi\n# sway\n# swaywayland\n# https://github.com/swaywm/sway/issues/100\nls   /usr/share/xsessions/\n# ~/.vnc/config\n# sessiongeometry\nsession=xfce\ngeometry=1920x1080\nalwaysshared\n# vnc\n# 5901\nsudo systemctl enable vncserver@:1\nsudo systemctl start vncserver@:1\n```\n\n vncviewer `192.168.137.20:5901`\n\n![screen](3.png)\n\n### vulkan\n\n vulkan  vulkan ~~\n\n```\nsudo pacman -Syu linux-rpi4-rc linux-rpi4-rc-headers mesa-git\n# xf86-video-fbturbo\nsudo pacman -U xf86-video-fbturbo\n```\n\n mesa-git  DRI3\n\n v2ray  GitHub \n\n\n","source":"_posts/install-manjaro-on-rpi4.md","raw":"---\ntitle: Install Manjaro on rpi4\ndate: 2021-05-15 21:53:05\ntags:\n  - Raspberry Pi\n  - Manjaro\ncategories:\n  - Raspberry Pi\n---\n\n#  4  manjaro\n\n 4 \n\n## \n\n1.  SD  USB \n2.  USB \n3.  64  manjaro  arch \n\n> 1. SD  M  USB3.0  M 10 \n> 2. \n> 3.  manjaro  arch \n\n## \n\n1.  SD 16G \n2.  USB \n3.  USB \n4.  128G \n5. \n\n> 1. \n> 2.  m2  USB3.0 500M/s \n\n##  USB \n\n USB \n\n>  4\n\n###  Raspberry Pi OS\n\n[](https://www.raspberrypi.org/software/) Raspberry Pi Imager\n\n SD  Raspberry Pi OS \n\n\n\n windows \n\n windows  wifi windows \n\n\n\n cmd`arp -a`\n\n![cmd](1.png)\n\n ip `192.168.137.1` ip \n\n>  ip ip  192.168  wifi\n\n SD \n\n boot `cmdline.txt``ip=192.168.137.20``192.168.137` 20 \n\n SSH  SSH\n\n SD \n\n putty `192.168.137.20` pi raspberry\n\n USB  USB2.0\n\n>  USB2.0  USB3 \n\n\n\n```\n# wifi name  password wifi\nwpa_passphrase \"wifi name\" password > internet.conf\n# wlan0ip aUSBUSB\nsudo wpa_supplicant -c ./internet.conf -i wlan0 &\nsudo dhcpcd &\n```\n\n\n\n```\n# /etc/apt/sources.list\ndeb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib\ndeb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib\n# /etc/apt/sources.list.d/raspi.list\ndeb http://mirrors.tuna.tsinghua.edu.cn/raspberrypi/ buster main ui\n```\n\n### \n\n```\nsudo apt update\nsudo apt full-upgrade\n# /etc/default/rpi-eeprom-update\nFIRMWARE_RELEASE_STATUS=\"stable\"\n\nsudo rpi-eeprom-update -d -a\n```\n\n### \n\n`sudo raspi-config` boot order \n\n##  manjaro\n\n[](https://mirrors.tuna.tsinghua.edu.cn/osdn/storage/g/m/ma/manjaro-arm/rpi4/)\n\n>  i3  xfce  wayland sway\n\n\n\n`cmdline.txt``ip=192.168.137.20``SSH`\n\n USB3 \n\n### \n\n`root`\n\n1.  us\n2. `Asia/Shanghai`\n3. locale `en_US.UTF-8``zh_CN.UTF-8`\n\n\n\n### \n\n`ip a`\n![ip a](2.png)\n\n1. `sudo ip link set wlan0 down`\n2.  wifi`sudo nmcli d wifi connect \"KFC_free\" password \"12345678\"`\n   >  NetworkManager  wlan0  wifi wlan0 ip\n\n### \n\n```\nsudo pacman-mirrors -i -c China -m rank\n#  /etc/pacman.conf\n\n[archlinuxcn]\nSigLevel = Optional TrustAll\nServer = http://mirrors.163.com/archlinux-cn/$arch\n\n# \nsudo pacman -Syyy\n```\n\n> 1.  manjaro  arch \n> 2.  ip \n\n yay`sudo pacman -S yay`\n`yay --aururl \"https://aur.tuna.tsinghua.edu.cn\" --save`\n\n> \n\n`sudo pacman -Syu`\n\n### VNC\n\n\n\n```\nsudo pacman -S tigervnc\n# \nvncpasswd\n# niuiic\nif [ -z \"$(grep niuiic /etc/tigervnc/vncserver.users)\" ];then\n        #sudo sed -i '/niuiic/d' /etc/tigervnc/vncserver.users\n        echo \"  :1=niuiic\" | sudo tee -a /etc/tigervnc/vncserver.users\n    fi\n# sway\n# swaywayland\n# https://github.com/swaywm/sway/issues/100\nls   /usr/share/xsessions/\n# ~/.vnc/config\n# sessiongeometry\nsession=xfce\ngeometry=1920x1080\nalwaysshared\n# vnc\n# 5901\nsudo systemctl enable vncserver@:1\nsudo systemctl start vncserver@:1\n```\n\n vncviewer `192.168.137.20:5901`\n\n![screen](3.png)\n\n### vulkan\n\n vulkan  vulkan ~~\n\n```\nsudo pacman -Syu linux-rpi4-rc linux-rpi4-rc-headers mesa-git\n# xf86-video-fbturbo\nsudo pacman -U xf86-video-fbturbo\n```\n\n mesa-git  DRI3\n\n v2ray  GitHub \n\n\n","slug":"install-manjaro-on-rpi4","published":1,"updated":"2021-05-15T14:02:39.093Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9d0002rdbiz3zp7gbff","content":"<h1 id=\"-4--manjaro\"><a href=\"#-4--manjaro\" class=\"headerlink\" title=\" 4  manjaro\"></a> 4  manjaro</h1><p> 4 </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li> SD  USB </li>\n<li> USB </li>\n<li> 64  manjaro  arch </li>\n</ol>\n<blockquote>\n<ol>\n<li>SD  M  USB3.0  M 10 </li>\n<li></li>\n<li> manjaro  arch </li>\n</ol>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li> SD 16G </li>\n<li> USB </li>\n<li> USB </li>\n<li> 128G </li>\n<li></li>\n</ol>\n<blockquote>\n<ol>\n<li></li>\n<li> m2  USB3.0 500M/s </li>\n</ol>\n</blockquote>\n<h2 id=\"-USB-\"><a href=\"#-USB-\" class=\"headerlink\" title=\" USB \"></a> USB </h2><p> USB </p>\n<blockquote>\n<p> 4</p>\n</blockquote>\n<h3 id=\"-Raspberry-Pi-OS\"><a href=\"#-Raspberry-Pi-OS\" class=\"headerlink\" title=\" Raspberry Pi OS\"></a> Raspberry Pi OS</h3><p><a href=\"https://www.raspberrypi.org/software/\"></a> Raspberry Pi Imager</p>\n<p> SD  Raspberry Pi OS </p>\n<p></p>\n<p> windows </p>\n<p> windows  wifi windows </p>\n<p></p>\n<p> cmd<code>arp -a</code></p>\n<p><img src=\"1.png\" alt=\"cmd\"></p>\n<p> ip <code>192.168.137.1</code> ip </p>\n<blockquote>\n<p> ip ip  192.168  wifi</p>\n</blockquote>\n<p> SD </p>\n<p> boot <code>cmdline.txt</code><code>ip=192.168.137.20</code><code>192.168.137</code> 20 </p>\n<p> SSH  SSH</p>\n<p> SD </p>\n<p> putty <code>192.168.137.20</code> pi raspberry</p>\n<p> USB  USB2.0</p>\n<blockquote>\n<p> USB2.0  USB3 </p>\n</blockquote>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># wifi name  password wifi\nwpa_passphrase &quot;wifi name&quot; password &gt; internet.conf\n# wlan0ip aUSBUSB\nsudo wpa_supplicant -c .&#x2F;internet.conf -i wlan0 &amp;\nsudo dhcpcd &amp;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># &#x2F;etc&#x2F;apt&#x2F;sources.list\ndeb http:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;raspbian&#x2F;raspbian&#x2F; buster main non-free contrib\ndeb-src http:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;raspbian&#x2F;raspbian&#x2F; buster main non-free contrib\n# &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;raspi.list\ndeb http:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;raspberrypi&#x2F; buster main ui<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo apt update\nsudo apt full-upgrade\n# &#x2F;etc&#x2F;default&#x2F;rpi-eeprom-update\nFIRMWARE_RELEASE_STATUS&#x3D;&quot;stable&quot;\n\nsudo rpi-eeprom-update -d -a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>sudo raspi-config</code> boot order </p>\n<h2 id=\"-manjaro\"><a href=\"#-manjaro\" class=\"headerlink\" title=\" manjaro\"></a> manjaro</h2><p><a href=\"https://mirrors.tuna.tsinghua.edu.cn/osdn/storage/g/m/ma/manjaro-arm/rpi4/\"></a></p>\n<blockquote>\n<p> i3  xfce  wayland sway</p>\n</blockquote>\n<p></p>\n<p><code>cmdline.txt</code><code>ip=192.168.137.20</code><code>SSH</code></p>\n<p> USB3 </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>root</code></p>\n<ol>\n<li> us</li>\n<li><code>Asia/Shanghai</code></li>\n<li>locale <code>en_US.UTF-8</code><code>zh_CN.UTF-8</code></li>\n</ol>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>ip a</code><br><img src=\"2.png\" alt=\"ip a\"></p>\n<ol>\n<li><code>sudo ip link set wlan0 down</code></li>\n<li> wifi<code>sudo nmcli d wifi connect &quot;KFC_free&quot; password &quot;12345678&quot;</code><blockquote>\n<p> NetworkManager  wlan0  wifi wlan0 ip</p>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo pacman-mirrors -i -c China -m rank\n#  &#x2F;etc&#x2F;pacman.conf\n\n[archlinuxcn]\nSigLevel &#x3D; Optional TrustAll\nServer &#x3D; http:&#x2F;&#x2F;mirrors.163.com&#x2F;archlinux-cn&#x2F;$arch\n\n# \nsudo pacman -Syyy<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<ol>\n<li> manjaro  arch </li>\n<li> ip </li>\n</ol>\n</blockquote>\n<p> yay<code>sudo pacman -S yay</code><br><code>yay --aururl &quot;https://aur.tuna.tsinghua.edu.cn&quot; --save</code></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p><code>sudo pacman -Syu</code></p>\n<h3 id=\"VNC\"><a href=\"#VNC\" class=\"headerlink\" title=\"VNC\"></a>VNC</h3><p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo pacman -S tigervnc\n# \nvncpasswd\n# niuiic\nif [ -z &quot;$(grep niuiic &#x2F;etc&#x2F;tigervnc&#x2F;vncserver.users)&quot; ];then\n        #sudo sed -i &#39;&#x2F;niuiic&#x2F;d&#39; &#x2F;etc&#x2F;tigervnc&#x2F;vncserver.users\n        echo &quot;  :1&#x3D;niuiic&quot; | sudo tee -a &#x2F;etc&#x2F;tigervnc&#x2F;vncserver.users\n    fi\n# sway\n# swaywayland\n# https:&#x2F;&#x2F;github.com&#x2F;swaywm&#x2F;sway&#x2F;issues&#x2F;100\nls   &#x2F;usr&#x2F;share&#x2F;xsessions&#x2F;\n# ~&#x2F;.vnc&#x2F;config\n# sessiongeometry\nsession&#x3D;xfce\ngeometry&#x3D;1920x1080\nalwaysshared\n# vnc\n# 5901\nsudo systemctl enable vncserver@:1\nsudo systemctl start vncserver@:1<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> vncviewer <code>192.168.137.20:5901</code></p>\n<p><img src=\"3.png\" alt=\"screen\"></p>\n<h3 id=\"vulkan\"><a href=\"#vulkan\" class=\"headerlink\" title=\"vulkan\"></a>vulkan</h3><p> vulkan  vulkan ~~</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo pacman -Syu linux-rpi4-rc linux-rpi4-rc-headers mesa-git\n# xf86-video-fbturbo\nsudo pacman -U xf86-video-fbturbo<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p> mesa-git  DRI3</p>\n<p> v2ray  GitHub </p>\n<p></p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-4--manjaro\"><a href=\"#-4--manjaro\" class=\"headerlink\" title=\" 4  manjaro\"></a> 4  manjaro</h1><p> 4 </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li> SD  USB </li>\n<li> USB </li>\n<li> 64  manjaro  arch </li>\n</ol>\n<blockquote>\n<ol>\n<li>SD  M  USB3.0  M 10 </li>\n<li></li>\n<li> manjaro  arch </li>\n</ol>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li> SD 16G </li>\n<li> USB </li>\n<li> USB </li>\n<li> 128G </li>\n<li></li>\n</ol>\n<blockquote>\n<ol>\n<li></li>\n<li> m2  USB3.0 500M/s </li>\n</ol>\n</blockquote>\n<h2 id=\"-USB-\"><a href=\"#-USB-\" class=\"headerlink\" title=\" USB \"></a> USB </h2><p> USB </p>\n<blockquote>\n<p> 4</p>\n</blockquote>\n<h3 id=\"-Raspberry-Pi-OS\"><a href=\"#-Raspberry-Pi-OS\" class=\"headerlink\" title=\" Raspberry Pi OS\"></a> Raspberry Pi OS</h3><p><a href=\"https://www.raspberrypi.org/software/\"></a> Raspberry Pi Imager</p>\n<p> SD  Raspberry Pi OS </p>\n<p></p>\n<p> windows </p>\n<p> windows  wifi windows </p>\n<p></p>\n<p> cmd<code>arp -a</code></p>\n<p><img src=\"1.png\" alt=\"cmd\"></p>\n<p> ip <code>192.168.137.1</code> ip </p>\n<blockquote>\n<p> ip ip  192.168  wifi</p>\n</blockquote>\n<p> SD </p>\n<p> boot <code>cmdline.txt</code><code>ip=192.168.137.20</code><code>192.168.137</code> 20 </p>\n<p> SSH  SSH</p>\n<p> SD </p>\n<p> putty <code>192.168.137.20</code> pi raspberry</p>\n<p> USB  USB2.0</p>\n<blockquote>\n<p> USB2.0  USB3 </p>\n</blockquote>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># wifi name  password wifi\nwpa_passphrase &quot;wifi name&quot; password &gt; internet.conf\n# wlan0ip aUSBUSB\nsudo wpa_supplicant -c .&#x2F;internet.conf -i wlan0 &amp;\nsudo dhcpcd &amp;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># &#x2F;etc&#x2F;apt&#x2F;sources.list\ndeb http:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;raspbian&#x2F;raspbian&#x2F; buster main non-free contrib\ndeb-src http:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;raspbian&#x2F;raspbian&#x2F; buster main non-free contrib\n# &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;raspi.list\ndeb http:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;raspberrypi&#x2F; buster main ui<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo apt update\nsudo apt full-upgrade\n# &#x2F;etc&#x2F;default&#x2F;rpi-eeprom-update\nFIRMWARE_RELEASE_STATUS&#x3D;&quot;stable&quot;\n\nsudo rpi-eeprom-update -d -a<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>sudo raspi-config</code> boot order </p>\n<h2 id=\"-manjaro\"><a href=\"#-manjaro\" class=\"headerlink\" title=\" manjaro\"></a> manjaro</h2><p><a href=\"https://mirrors.tuna.tsinghua.edu.cn/osdn/storage/g/m/ma/manjaro-arm/rpi4/\"></a></p>\n<blockquote>\n<p> i3  xfce  wayland sway</p>\n</blockquote>\n<p></p>\n<p><code>cmdline.txt</code><code>ip=192.168.137.20</code><code>SSH</code></p>\n<p> USB3 </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>root</code></p>\n<ol>\n<li> us</li>\n<li><code>Asia/Shanghai</code></li>\n<li>locale <code>en_US.UTF-8</code><code>zh_CN.UTF-8</code></li>\n</ol>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>ip a</code><br><img src=\"2.png\" alt=\"ip a\"></p>\n<ol>\n<li><code>sudo ip link set wlan0 down</code></li>\n<li> wifi<code>sudo nmcli d wifi connect &quot;KFC_free&quot; password &quot;12345678&quot;</code><blockquote>\n<p> NetworkManager  wlan0  wifi wlan0 ip</p>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo pacman-mirrors -i -c China -m rank\n#  &#x2F;etc&#x2F;pacman.conf\n\n[archlinuxcn]\nSigLevel &#x3D; Optional TrustAll\nServer &#x3D; http:&#x2F;&#x2F;mirrors.163.com&#x2F;archlinux-cn&#x2F;$arch\n\n# \nsudo pacman -Syyy<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<ol>\n<li> manjaro  arch </li>\n<li> ip </li>\n</ol>\n</blockquote>\n<p> yay<code>sudo pacman -S yay</code><br><code>yay --aururl &quot;https://aur.tuna.tsinghua.edu.cn&quot; --save</code></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p><code>sudo pacman -Syu</code></p>\n<h3 id=\"VNC\"><a href=\"#VNC\" class=\"headerlink\" title=\"VNC\"></a>VNC</h3><p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo pacman -S tigervnc\n# \nvncpasswd\n# niuiic\nif [ -z &quot;$(grep niuiic &#x2F;etc&#x2F;tigervnc&#x2F;vncserver.users)&quot; ];then\n        #sudo sed -i &#39;&#x2F;niuiic&#x2F;d&#39; &#x2F;etc&#x2F;tigervnc&#x2F;vncserver.users\n        echo &quot;  :1&#x3D;niuiic&quot; | sudo tee -a &#x2F;etc&#x2F;tigervnc&#x2F;vncserver.users\n    fi\n# sway\n# swaywayland\n# https:&#x2F;&#x2F;github.com&#x2F;swaywm&#x2F;sway&#x2F;issues&#x2F;100\nls   &#x2F;usr&#x2F;share&#x2F;xsessions&#x2F;\n# ~&#x2F;.vnc&#x2F;config\n# sessiongeometry\nsession&#x3D;xfce\ngeometry&#x3D;1920x1080\nalwaysshared\n# vnc\n# 5901\nsudo systemctl enable vncserver@:1\nsudo systemctl start vncserver@:1<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> vncviewer <code>192.168.137.20:5901</code></p>\n<p><img src=\"3.png\" alt=\"screen\"></p>\n<h3 id=\"vulkan\"><a href=\"#vulkan\" class=\"headerlink\" title=\"vulkan\"></a>vulkan</h3><p> vulkan  vulkan ~~</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo pacman -Syu linux-rpi4-rc linux-rpi4-rc-headers mesa-git\n# xf86-video-fbturbo\nsudo pacman -U xf86-video-fbturbo<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p> mesa-git  DRI3</p>\n<p> v2ray  GitHub </p>\n<p></p>\n"},{"title":"Install Oracle Jdk and Jre on Gentoo","date":"2021-03-23T10:14:01.000Z","_content":"\n# GentooOracle jdkjre\n\n## why not openjdk\n\nopenjdk  javafx \n\ngentoo  javafx USE flag  openjdk profile  openjfx javafx  webkit \n\n## \n\ngentoo overlay  oracle-jdk-bin  ebuild oracle \n\n overlay  emerge  ebuild copy  overlay  jdkjre \n\n## \n\n oracle [](https://www.oracle.com/java/technologies/javase-downloads.html)  jdk oracle-jdk8u271 \n\n1. \n2. \n\n```\ntar xvzf XXX\nsudo chown -R 777 XXX\nmv XXX XXX\n```\n\n`XXX`\n\n3.  java \n\n`/usr/share/java-config-2/vm/oracle-jdk8u271`\n\n```\nVERSION=\"Oracle-Sun JDK 8u271\"\nJAVA_HOME=\"/opt/jdk1.8.0_271\"\nJDK_HOME=\"/opt/jdk1.8.0_271\"\nJAVAC=\"${JAVA_HOME}/bin/javac\"\nPATH=\"${JAVA_HOME}/bin:${JAVA_HOME}/jre/bin\"\nROOTPATH=\"${JAVA_HOME}/bin:${JAVA_HOME}/jre/bin\"\nLDPATH=\"${JAVA_HOME}/jre/lib/amd64/:${JAVA_HOME}/jre/lib/amd64/native_threads/:${JAVA_HOME}/jre/lib/amd64/xawt/:${JAVA_HOME}/jre/lib/amd64/server/\"\nMANPATH=\"/opt/icedtea-bin-8.2.2.1/man\"\nPROVIDES_TYPE=\"JDK JRE\"\nPROVIDES_VERSION=\"1.8\"\n# Taken from sun.boot.class.path property\nBOOTCLASSPATH=\"${JAVA_HOME}/jre/lib/resources.jar:${JAVA_HOME}/jre/lib/rt.jar:${JAVA_HOME}/jre/lib/jsse.jar:${JAVA_HOME}/jre/lib/jce.jar:${JAVA_HOME}/jre/lib/charsets.jar\"\nGENERATION=\"2\"\nENV_VARS=\"JAVA_HOME JDK_HOME JAVAC PATH ROOTPATH LDPATH MANPATH\"\nVMHANDLE=\"oracle-jdk8\"\nBUILD_ONLY=\"FALSE\"\n```\n\n\n\n4.  jdk `/usr/lib/jvm`\n\n`ln -s /opt/jdk1.8.0_271/ /usr/lib/jvm/oracle-jdk8u271`\n\n5.  java \n\n```\n// java\neselect java-vm list\n// sudo\neselect java-vm set user number\n// \neselect java-vm set system number\n```\n\n linux `java-config -L``java-config set number` gentoo \n","source":"_posts/install-oracle-jdk-and-jre-on-gentoo.md","raw":"---\ntitle: Install Oracle Jdk and Jre on Gentoo\ndate: 2021-03-23 18:14:01\ntags:\n\t\t- Gentoo\n\t\t- Java\n\t\t- Oracle\ncategories:\n\t\t- Gentoo\n---\n\n# GentooOracle jdkjre\n\n## why not openjdk\n\nopenjdk  javafx \n\ngentoo  javafx USE flag  openjdk profile  openjfx javafx  webkit \n\n## \n\ngentoo overlay  oracle-jdk-bin  ebuild oracle \n\n overlay  emerge  ebuild copy  overlay  jdkjre \n\n## \n\n oracle [](https://www.oracle.com/java/technologies/javase-downloads.html)  jdk oracle-jdk8u271 \n\n1. \n2. \n\n```\ntar xvzf XXX\nsudo chown -R 777 XXX\nmv XXX XXX\n```\n\n`XXX`\n\n3.  java \n\n`/usr/share/java-config-2/vm/oracle-jdk8u271`\n\n```\nVERSION=\"Oracle-Sun JDK 8u271\"\nJAVA_HOME=\"/opt/jdk1.8.0_271\"\nJDK_HOME=\"/opt/jdk1.8.0_271\"\nJAVAC=\"${JAVA_HOME}/bin/javac\"\nPATH=\"${JAVA_HOME}/bin:${JAVA_HOME}/jre/bin\"\nROOTPATH=\"${JAVA_HOME}/bin:${JAVA_HOME}/jre/bin\"\nLDPATH=\"${JAVA_HOME}/jre/lib/amd64/:${JAVA_HOME}/jre/lib/amd64/native_threads/:${JAVA_HOME}/jre/lib/amd64/xawt/:${JAVA_HOME}/jre/lib/amd64/server/\"\nMANPATH=\"/opt/icedtea-bin-8.2.2.1/man\"\nPROVIDES_TYPE=\"JDK JRE\"\nPROVIDES_VERSION=\"1.8\"\n# Taken from sun.boot.class.path property\nBOOTCLASSPATH=\"${JAVA_HOME}/jre/lib/resources.jar:${JAVA_HOME}/jre/lib/rt.jar:${JAVA_HOME}/jre/lib/jsse.jar:${JAVA_HOME}/jre/lib/jce.jar:${JAVA_HOME}/jre/lib/charsets.jar\"\nGENERATION=\"2\"\nENV_VARS=\"JAVA_HOME JDK_HOME JAVAC PATH ROOTPATH LDPATH MANPATH\"\nVMHANDLE=\"oracle-jdk8\"\nBUILD_ONLY=\"FALSE\"\n```\n\n\n\n4.  jdk `/usr/lib/jvm`\n\n`ln -s /opt/jdk1.8.0_271/ /usr/lib/jvm/oracle-jdk8u271`\n\n5.  java \n\n```\n// java\neselect java-vm list\n// sudo\neselect java-vm set user number\n// \neselect java-vm set system number\n```\n\n linux `java-config -L``java-config set number` gentoo \n","slug":"install-oracle-jdk-and-jre-on-gentoo","published":1,"updated":"2021-03-23T11:11:18.585Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9d2002wdbiz0l1e2taw","content":"<h1 id=\"GentooOracle-jdkjre\"><a href=\"#GentooOracle-jdkjre\" class=\"headerlink\" title=\"GentooOracle jdkjre\"></a>GentooOracle jdkjre</h1><h2 id=\"why-not-openjdk\"><a href=\"#why-not-openjdk\" class=\"headerlink\" title=\"why not openjdk\"></a>why not openjdk</h2><p>openjdk  javafx </p>\n<p>gentoo  javafx USE flag  openjdk profile  openjfx javafx  webkit </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>gentoo overlay  oracle-jdk-bin  ebuild oracle </p>\n<p> overlay  emerge  ebuild copy  overlay  jdkjre </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> oracle <a href=\"https://www.oracle.com/java/technologies/javase-downloads.html\"></a>  jdk oracle-jdk8u271 </p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">tar xvzf XXX\nsudo chown -R 777 XXX\nmv XXX XXX<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><code>XXX</code></p>\n<ol start=\"3\">\n<li> java </li>\n</ol>\n<p><code>/usr/share/java-config-2/vm/oracle-jdk8u271</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">VERSION&#x3D;&quot;Oracle-Sun JDK 8u271&quot;\nJAVA_HOME&#x3D;&quot;&#x2F;opt&#x2F;jdk1.8.0_271&quot;\nJDK_HOME&#x3D;&quot;&#x2F;opt&#x2F;jdk1.8.0_271&quot;\nJAVAC&#x3D;&quot;$&#123;JAVA_HOME&#125;&#x2F;bin&#x2F;javac&quot;\nPATH&#x3D;&quot;$&#123;JAVA_HOME&#125;&#x2F;bin:$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;bin&quot;\nROOTPATH&#x3D;&quot;$&#123;JAVA_HOME&#125;&#x2F;bin:$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;bin&quot;\nLDPATH&#x3D;&quot;$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;lib&#x2F;amd64&#x2F;:$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;lib&#x2F;amd64&#x2F;native_threads&#x2F;:$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;lib&#x2F;amd64&#x2F;xawt&#x2F;:$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;lib&#x2F;amd64&#x2F;server&#x2F;&quot;\nMANPATH&#x3D;&quot;&#x2F;opt&#x2F;icedtea-bin-8.2.2.1&#x2F;man&quot;\nPROVIDES_TYPE&#x3D;&quot;JDK JRE&quot;\nPROVIDES_VERSION&#x3D;&quot;1.8&quot;\n# Taken from sun.boot.class.path property\nBOOTCLASSPATH&#x3D;&quot;$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;lib&#x2F;resources.jar:$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;lib&#x2F;rt.jar:$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;lib&#x2F;jsse.jar:$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;lib&#x2F;jce.jar:$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;lib&#x2F;charsets.jar&quot;\nGENERATION&#x3D;&quot;2&quot;\nENV_VARS&#x3D;&quot;JAVA_HOME JDK_HOME JAVAC PATH ROOTPATH LDPATH MANPATH&quot;\nVMHANDLE&#x3D;&quot;oracle-jdk8&quot;\nBUILD_ONLY&#x3D;&quot;FALSE&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<ol start=\"4\">\n<li> jdk <code>/usr/lib/jvm</code></li>\n</ol>\n<p><code>ln -s /opt/jdk1.8.0_271/ /usr/lib/jvm/oracle-jdk8u271</code></p>\n<ol start=\"5\">\n<li> java </li>\n</ol>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;&#x2F; java\neselect java-vm list\n&#x2F;&#x2F; sudo\neselect java-vm set user number\n&#x2F;&#x2F; \neselect java-vm set system number<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> linux <code>java-config -L</code><code>java-config set number</code> gentoo </p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"GentooOracle-jdkjre\"><a href=\"#GentooOracle-jdkjre\" class=\"headerlink\" title=\"GentooOracle jdkjre\"></a>GentooOracle jdkjre</h1><h2 id=\"why-not-openjdk\"><a href=\"#why-not-openjdk\" class=\"headerlink\" title=\"why not openjdk\"></a>why not openjdk</h2><p>openjdk  javafx </p>\n<p>gentoo  javafx USE flag  openjdk profile  openjfx javafx  webkit </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>gentoo overlay  oracle-jdk-bin  ebuild oracle </p>\n<p> overlay  emerge  ebuild copy  overlay  jdkjre </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> oracle <a href=\"https://www.oracle.com/java/technologies/javase-downloads.html\"></a>  jdk oracle-jdk8u271 </p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">tar xvzf XXX\nsudo chown -R 777 XXX\nmv XXX XXX<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><code>XXX</code></p>\n<ol start=\"3\">\n<li> java </li>\n</ol>\n<p><code>/usr/share/java-config-2/vm/oracle-jdk8u271</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">VERSION&#x3D;&quot;Oracle-Sun JDK 8u271&quot;\nJAVA_HOME&#x3D;&quot;&#x2F;opt&#x2F;jdk1.8.0_271&quot;\nJDK_HOME&#x3D;&quot;&#x2F;opt&#x2F;jdk1.8.0_271&quot;\nJAVAC&#x3D;&quot;$&#123;JAVA_HOME&#125;&#x2F;bin&#x2F;javac&quot;\nPATH&#x3D;&quot;$&#123;JAVA_HOME&#125;&#x2F;bin:$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;bin&quot;\nROOTPATH&#x3D;&quot;$&#123;JAVA_HOME&#125;&#x2F;bin:$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;bin&quot;\nLDPATH&#x3D;&quot;$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;lib&#x2F;amd64&#x2F;:$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;lib&#x2F;amd64&#x2F;native_threads&#x2F;:$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;lib&#x2F;amd64&#x2F;xawt&#x2F;:$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;lib&#x2F;amd64&#x2F;server&#x2F;&quot;\nMANPATH&#x3D;&quot;&#x2F;opt&#x2F;icedtea-bin-8.2.2.1&#x2F;man&quot;\nPROVIDES_TYPE&#x3D;&quot;JDK JRE&quot;\nPROVIDES_VERSION&#x3D;&quot;1.8&quot;\n# Taken from sun.boot.class.path property\nBOOTCLASSPATH&#x3D;&quot;$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;lib&#x2F;resources.jar:$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;lib&#x2F;rt.jar:$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;lib&#x2F;jsse.jar:$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;lib&#x2F;jce.jar:$&#123;JAVA_HOME&#125;&#x2F;jre&#x2F;lib&#x2F;charsets.jar&quot;\nGENERATION&#x3D;&quot;2&quot;\nENV_VARS&#x3D;&quot;JAVA_HOME JDK_HOME JAVAC PATH ROOTPATH LDPATH MANPATH&quot;\nVMHANDLE&#x3D;&quot;oracle-jdk8&quot;\nBUILD_ONLY&#x3D;&quot;FALSE&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<ol start=\"4\">\n<li> jdk <code>/usr/lib/jvm</code></li>\n</ol>\n<p><code>ln -s /opt/jdk1.8.0_271/ /usr/lib/jvm/oracle-jdk8u271</code></p>\n<ol start=\"5\">\n<li> java </li>\n</ol>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;&#x2F; java\neselect java-vm list\n&#x2F;&#x2F; sudo\neselect java-vm set user number\n&#x2F;&#x2F; \neselect java-vm set system number<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> linux <code>java-config -L</code><code>java-config set number</code> gentoo </p>\n"},{"title":"Install rpm/deb Packages on Gentoo","date":"2021-03-23T10:28:40.000Z","_content":"\n#  gentoo  deb/rpm \n\n## \n\n\n\n arm  amd64 \n\n deb  rpm\n\n## \n\n utools \n\n deb \n\n deb \n\n\n\ncontrol  datadata  usr  opt  usr  opt \n\n.desktop utools  utools.desktop \n\n```\n[Desktop Entry]\nName=uTools\nExec=/opt/utools/data/opt/uTools/utools\nTerminal=false\nType=Application\nIcon=/opt/utools/data/usr/share/icons/hicolor/512x512/apps/utools.png\nStartupWMClass=uTools\nComment=\nCategories=System;\n```\n\n`Exec`\n\n`./utools` usr  opt /opt /opt/utools\n\n.desktop `~/.local/share/applications``/usr/share/applications``/usr/share/applications`.desktop \n\n\n\n\n\n arch deb  arch gentoo  ebuild\n","source":"_posts/install-rpm-deb-packages-on-gentoo.md","raw":"---\ntitle: Install rpm/deb Packages on Gentoo\ndate: 2021-03-23 18:28:40\ntags:\n\t\t- Gentoo\ncategories:\n\t\t- Gentoo\n---\n\n#  gentoo  deb/rpm \n\n## \n\n\n\n arm  amd64 \n\n deb  rpm\n\n## \n\n utools \n\n deb \n\n deb \n\n\n\ncontrol  datadata  usr  opt  usr  opt \n\n.desktop utools  utools.desktop \n\n```\n[Desktop Entry]\nName=uTools\nExec=/opt/utools/data/opt/uTools/utools\nTerminal=false\nType=Application\nIcon=/opt/utools/data/usr/share/icons/hicolor/512x512/apps/utools.png\nStartupWMClass=uTools\nComment=\nCategories=System;\n```\n\n`Exec`\n\n`./utools` usr  opt /opt /opt/utools\n\n.desktop `~/.local/share/applications``/usr/share/applications``/usr/share/applications`.desktop \n\n\n\n\n\n arch deb  arch gentoo  ebuild\n","slug":"install-rpm-deb-packages-on-gentoo","published":1,"updated":"2021-03-23T11:11:18.585Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9d3002zdbizd6jfhot8","content":"<h1 id=\"-gentoo--deb-rpm-\"><a href=\"#-gentoo--deb-rpm-\" class=\"headerlink\" title=\" gentoo  deb/rpm \"></a> gentoo  deb/rpm </h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p> arm  amd64 </p>\n<p> deb  rpm</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> utools </p>\n<p> deb </p>\n<p> deb </p>\n<p></p>\n<p>control  datadata  usr  opt  usr  opt </p>\n<p>.desktop utools  utools.desktop </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[Desktop Entry]\nName&#x3D;uTools\nExec&#x3D;&#x2F;opt&#x2F;utools&#x2F;data&#x2F;opt&#x2F;uTools&#x2F;utools\nTerminal&#x3D;false\nType&#x3D;Application\nIcon&#x3D;&#x2F;opt&#x2F;utools&#x2F;data&#x2F;usr&#x2F;share&#x2F;icons&#x2F;hicolor&#x2F;512x512&#x2F;apps&#x2F;utools.png\nStartupWMClass&#x3D;uTools\nComment&#x3D;\nCategories&#x3D;System;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>Exec</code></p>\n<p><code>./utools</code> usr  opt /opt /opt/utools</p>\n<p>.desktop <code>~/.local/share/applications</code><code>/usr/share/applications</code><code>/usr/share/applications</code>.desktop </p>\n<p></p>\n<p></p>\n<p> arch deb  arch gentoo  ebuild</p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-gentoo--deb-rpm-\"><a href=\"#-gentoo--deb-rpm-\" class=\"headerlink\" title=\" gentoo  deb/rpm \"></a> gentoo  deb/rpm </h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p> arm  amd64 </p>\n<p> deb  rpm</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> utools </p>\n<p> deb </p>\n<p> deb </p>\n<p></p>\n<p>control  datadata  usr  opt  usr  opt </p>\n<p>.desktop utools  utools.desktop </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[Desktop Entry]\nName&#x3D;uTools\nExec&#x3D;&#x2F;opt&#x2F;utools&#x2F;data&#x2F;opt&#x2F;uTools&#x2F;utools\nTerminal&#x3D;false\nType&#x3D;Application\nIcon&#x3D;&#x2F;opt&#x2F;utools&#x2F;data&#x2F;usr&#x2F;share&#x2F;icons&#x2F;hicolor&#x2F;512x512&#x2F;apps&#x2F;utools.png\nStartupWMClass&#x3D;uTools\nComment&#x3D;\nCategories&#x3D;System;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>Exec</code></p>\n<p><code>./utools</code> usr  opt /opt /opt/utools</p>\n<p>.desktop <code>~/.local/share/applications</code><code>/usr/share/applications</code><code>/usr/share/applications</code>.desktop </p>\n<p></p>\n<p></p>\n<p> arch deb  arch gentoo  ebuild</p>\n"},{"title":"Rust Tauri \"Hello World\"","date":"2021-05-11T12:14:05.000Z","_content":"\n# Rust Tauri \"Hello World\"\n\n linux  tauri \n\n> js \n\n##  tauri\n\ntauri  electron  electron \n\n## Hello World\n\n tauri \n\n### \n\n[](https://tauri.studio/en/docs/getting-started/setup-linux)\n\n linux  tauri  webkit librarynodejs runtime  rust \n\n>  yarn  js \n\n yarn  cargo \n\n### \n\n1. `yarn init`\n\n\n\n2. `yarn add @tauri-apps/cli`\n\n tauri \n\n`package.json`\n\n```json\n  \"scripts\": {\n    \"tauri\": \"tauri\"\n  }\n```\n\n`yarn tauri``tauri.js`\n\n3. `yarn tauri init`\n\n tauri \n\n`Where are your web assets (HTML/CSS/JS) located` htmlcssjs `../dist`\n\n`What is the url of your dev server` url`http://localhost:8080`\n\n4. `yarn tauri info`\n\n\n\n5. `yarn tauri dev`\n\n\n\n> \n\n`could not connect to server`\n\n\n\n6. `yarn add webpack-dev-server`\n\n\n\n`package.json`\n\n```json\n  \"scripts\": {\n    \"tauri\": \"tauri\",\n    \"dev\": \"webpack serve\"\n  }\n```\n\n`yarn add webpack`\n\n`yarn dev`\n\n\n\n7. \n\n`webpack.config.js`\n\n```javascript\nconst path = require(\"path\");\nmodule.exports = {\n  entry: path.join(__dirname, \"src/js/index.js\"),\n  output: {\n    path: path.join(__dirname, \"dist\"),\n    filename: \"bundle.js\",\n  },\n};\n```\n\n> \n\n\n\n src  src  cssjs  src `index.html` js `index.js`\n\n dist \n\n`package.json`\n\n```json\n  \"scripts\": {\n    \"tauri\": \"tauri\",\n    \"dev\": \"webpack serve --config webpack.config.js --mode development\"\n  },\n```\n\n`yarn dev``yarn tauri dev`\n\n\n","source":"_posts/rust-tauri-hello-world.md","raw":"---\ntitle: Rust Tauri \"Hello World\"\ndate: 2021-05-11 20:14:05\ntags:\n\t\t- Rust\n\t\t- Tauri\ncategories:\n\t\t- Rust\n---\n\n# Rust Tauri \"Hello World\"\n\n linux  tauri \n\n> js \n\n##  tauri\n\ntauri  electron  electron \n\n## Hello World\n\n tauri \n\n### \n\n[](https://tauri.studio/en/docs/getting-started/setup-linux)\n\n linux  tauri  webkit librarynodejs runtime  rust \n\n>  yarn  js \n\n yarn  cargo \n\n### \n\n1. `yarn init`\n\n\n\n2. `yarn add @tauri-apps/cli`\n\n tauri \n\n`package.json`\n\n```json\n  \"scripts\": {\n    \"tauri\": \"tauri\"\n  }\n```\n\n`yarn tauri``tauri.js`\n\n3. `yarn tauri init`\n\n tauri \n\n`Where are your web assets (HTML/CSS/JS) located` htmlcssjs `../dist`\n\n`What is the url of your dev server` url`http://localhost:8080`\n\n4. `yarn tauri info`\n\n\n\n5. `yarn tauri dev`\n\n\n\n> \n\n`could not connect to server`\n\n\n\n6. `yarn add webpack-dev-server`\n\n\n\n`package.json`\n\n```json\n  \"scripts\": {\n    \"tauri\": \"tauri\",\n    \"dev\": \"webpack serve\"\n  }\n```\n\n`yarn add webpack`\n\n`yarn dev`\n\n\n\n7. \n\n`webpack.config.js`\n\n```javascript\nconst path = require(\"path\");\nmodule.exports = {\n  entry: path.join(__dirname, \"src/js/index.js\"),\n  output: {\n    path: path.join(__dirname, \"dist\"),\n    filename: \"bundle.js\",\n  },\n};\n```\n\n> \n\n\n\n src  src  cssjs  src `index.html` js `index.js`\n\n dist \n\n`package.json`\n\n```json\n  \"scripts\": {\n    \"tauri\": \"tauri\",\n    \"dev\": \"webpack serve --config webpack.config.js --mode development\"\n  },\n```\n\n`yarn dev``yarn tauri dev`\n\n\n","slug":"rust-tauri-hello-world","published":1,"updated":"2021-05-11T14:25:32.263Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9d40034dbizgkgz85b1","content":"<h1 id=\"Rust-Tauri-Hello-World\"><a href=\"#Rust-Tauri-Hello-World\" class=\"headerlink\" title=\"Rust Tauri Hello World\"></a>Rust Tauri Hello World</h1><p> linux  tauri </p>\n<blockquote>\n<p>js </p>\n</blockquote>\n<h2 id=\"-tauri\"><a href=\"#-tauri\" class=\"headerlink\" title=\" tauri\"></a> tauri</h2><p>tauri  electron  electron </p>\n<h2 id=\"Hello-World\"><a href=\"#Hello-World\" class=\"headerlink\" title=\"Hello World\"></a>Hello World</h2><p> tauri </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://tauri.studio/en/docs/getting-started/setup-linux\"></a></p>\n<p> linux  tauri  webkit librarynodejs runtime  rust </p>\n<blockquote>\n<p> yarn  js </p>\n</blockquote>\n<p> yarn  cargo </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><code>yarn init</code></li>\n</ol>\n<p></p>\n<ol start=\"2\">\n<li><code>yarn add @tauri-apps/cli</code></li>\n</ol>\n<p> tauri </p>\n<p><code>package.json</code></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"tauri\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tauri\"</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><code>yarn tauri</code><code>tauri.js</code></p>\n<ol start=\"3\">\n<li><code>yarn tauri init</code></li>\n</ol>\n<p> tauri </p>\n<p><code>Where are your web assets (HTML/CSS/JS) located</code> htmlcssjs <code>../dist</code></p>\n<p><code>What is the url of your dev server</code> url<code>http://localhost:8080</code></p>\n<ol start=\"4\">\n<li><code>yarn tauri info</code></li>\n</ol>\n<p></p>\n<ol start=\"5\">\n<li><code>yarn tauri dev</code></li>\n</ol>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p><code>could not connect to server</code></p>\n<p></p>\n<ol start=\"6\">\n<li><code>yarn add webpack-dev-server</code></li>\n</ol>\n<p></p>\n<p><code>package.json</code></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"tauri\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tauri\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"dev\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack serve\"</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>yarn add webpack</code></p>\n<p><code>yarn dev</code></p>\n<p></p>\n<ol start=\"7\">\n<li></li>\n</ol>\n<p><code>webpack.config.js</code></p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n  entry<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"src/js/index.js\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  output<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    path<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"dist\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    filename<span class=\"token operator\">:</span> <span class=\"token string\">\"bundle.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<p> src  src  cssjs  src <code>index.html</code> js <code>index.js</code></p>\n<p> dist </p>\n<p><code>package.json</code></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"tauri\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tauri\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"dev\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack serve --config webpack.config.js --mode development\"</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>yarn dev</code><code>yarn tauri dev</code></p>\n<p></p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"Rust-Tauri-Hello-World\"><a href=\"#Rust-Tauri-Hello-World\" class=\"headerlink\" title=\"Rust Tauri Hello World\"></a>Rust Tauri Hello World</h1><p> linux  tauri </p>\n<blockquote>\n<p>js </p>\n</blockquote>\n<h2 id=\"-tauri\"><a href=\"#-tauri\" class=\"headerlink\" title=\" tauri\"></a> tauri</h2><p>tauri  electron  electron </p>\n<h2 id=\"Hello-World\"><a href=\"#Hello-World\" class=\"headerlink\" title=\"Hello World\"></a>Hello World</h2><p> tauri </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://tauri.studio/en/docs/getting-started/setup-linux\"></a></p>\n<p> linux  tauri  webkit librarynodejs runtime  rust </p>\n<blockquote>\n<p> yarn  js </p>\n</blockquote>\n<p> yarn  cargo </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><code>yarn init</code></li>\n</ol>\n<p></p>\n<ol start=\"2\">\n<li><code>yarn add @tauri-apps/cli</code></li>\n</ol>\n<p> tauri </p>\n<p><code>package.json</code></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"tauri\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tauri\"</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><code>yarn tauri</code><code>tauri.js</code></p>\n<ol start=\"3\">\n<li><code>yarn tauri init</code></li>\n</ol>\n<p> tauri </p>\n<p><code>Where are your web assets (HTML/CSS/JS) located</code> htmlcssjs <code>../dist</code></p>\n<p><code>What is the url of your dev server</code> url<code>http://localhost:8080</code></p>\n<ol start=\"4\">\n<li><code>yarn tauri info</code></li>\n</ol>\n<p></p>\n<ol start=\"5\">\n<li><code>yarn tauri dev</code></li>\n</ol>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p><code>could not connect to server</code></p>\n<p></p>\n<ol start=\"6\">\n<li><code>yarn add webpack-dev-server</code></li>\n</ol>\n<p></p>\n<p><code>package.json</code></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"tauri\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tauri\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"dev\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack serve\"</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>yarn add webpack</code></p>\n<p><code>yarn dev</code></p>\n<p></p>\n<ol start=\"7\">\n<li></li>\n</ol>\n<p><code>webpack.config.js</code></p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n  entry<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"src/js/index.js\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  output<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    path<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"dist\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    filename<span class=\"token operator\">:</span> <span class=\"token string\">\"bundle.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<p> src  src  cssjs  src <code>index.html</code> js <code>index.js</code></p>\n<p> dist </p>\n<p><code>package.json</code></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"tauri\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tauri\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"dev\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack serve --config webpack.config.js --mode development\"</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>yarn dev</code><code>yarn tauri dev</code></p>\n<p></p>\n"},{"title":"Basic Tutorial of Spartan Edge Accelerator Board","date":"2021-06-03T08:57:37.000Z","_content":"\n# Spartan Edge Accelerator Board \n\n FPGA Spartan Edge Accelerator Board Spartan-7 FPGA  SEA-S7\n\n![develop board](1.png)\n\n## \n\n### \n\n1.  200-300 \n2. [](https://wiki.seeedstudio.com/Spartan-Edge-Accelerator-Board/) [](https://wiki.seeedstudio.com/cn/Spartan-Edge-Accelerator-Board/)\n3.  vivadovivado  Spartan6 Spartan7\n4. arduino  FPGA  FPGA ZYNQarm + FPGA\n5.  arduino  arduino \n\n### \n\n1.  FPGA \n2. \n\n## Hello World\n\n blink \n\n> \n\n### \n\n1. \n2.  Type-C \n3. [] Platform Cable USB II JTAG  FPGA \n4.  SD \n\n### \n\n1. arduino IDE\n2. vivado webpack  Spartan-7\n3. CP2102 USB [](https://www.usb-drivers.org/cp2102-usb-to-uart-bridge-driver.html)\n\n### \n\n FPGA  arduino \n\n#### \n\n PWR_MODE arduino  PWR_MODE  off  FPGA \n\n Slave  Slave FPGA  arduino  SD  FPGA\n\n SD  FAT16  FAT32 \n\n#### \n\n arduino IDE`--``https://dl.espressif.com/dl/package_esp32_index.json`\n\n`--` esp32 \n\n`-``DOIT ESP32 DEVKIT V1`\n\n\n\n Type-C windows(`lsusb` linux) arduino IDE `-`\n\n> Type-C \n\n arduino  FPGA \n\n[](https://github.com/sandrobenigno/spartan-edge-esp32-boot/archive/master.zip) arduino IDE `--.ZIP`\n\n`-``01LoadDefaultBitstream.ino`\n\n`-Upload Speed` 115200`-`\n\narduino  FPGA \n\n### Blink\n\n[](https://gitee.com/SEA-S7/SEA)`Hello-World/FPGA/Verilog/HelloWorld-Verilog` vivado \n\n`Hello-World.v`\n\n```verilog\n`timescale 1ns / 1ps\n\nmodule Hello_World(\n    input clk,\n    output reg signal_2\n    );\n\n    reg [32:0] m;\n\n    always @(posedge clk) begin\n        m = m + 1;\n        if (m == 100000000) begin\n            signal_2 = signal_2 == 1 ? 0 : 1;\n            m = 0;\n        end\n    end\nendmodule\n```\n\n`system.xdc`\n\n```\nset_property -dict {PACKAGE_PIN H4 IOSTANDARD LVCMOS33} [get_ports clk]\ncreate_clock -add -name sys_clk_pin -period 10.00 -waveform {0 5} [get_ports {clk}];\n\nset_property IOSTANDARD LVCMOS33 [get_ports {signal_2}]\nset_property PACKAGE_PIN J1 [get_ports {signal_2}]\nset_property PULLDOWN true [get_ports {signal_2}]\n```\n\n`generate bitstream``HelloWorld-Verilog.runs\\impl_1``Hello_World.bit` SD `overlay``default.bit`\n\n SD \n\n LED \n\n SD \n\n arduino  FPGA\n\n`Platform Cable USB II`( 100 )`Platform Cable USB II` JTAG  vivado  Slave \n\n## \n\n\n\nPCB [](https://wiki.seeedstudio.com/Spartan-Edge-Accelerator-Board/)[](https://forum.seeedstudio.com/)\n","source":"_posts/spartan-edge-accelerator-board-tutorial.md","raw":"---\ntitle: Basic Tutorial of Spartan Edge Accelerator Board\ndate: 2021-06-03 16:57:37\ntags:\n\t\t- FPGA\n\t\t- Arduino\ncategories:\n\t\t- Embedded\n---\n\n# Spartan Edge Accelerator Board \n\n FPGA Spartan Edge Accelerator Board Spartan-7 FPGA  SEA-S7\n\n![develop board](1.png)\n\n## \n\n### \n\n1.  200-300 \n2. [](https://wiki.seeedstudio.com/Spartan-Edge-Accelerator-Board/) [](https://wiki.seeedstudio.com/cn/Spartan-Edge-Accelerator-Board/)\n3.  vivadovivado  Spartan6 Spartan7\n4. arduino  FPGA  FPGA ZYNQarm + FPGA\n5.  arduino  arduino \n\n### \n\n1.  FPGA \n2. \n\n## Hello World\n\n blink \n\n> \n\n### \n\n1. \n2.  Type-C \n3. [] Platform Cable USB II JTAG  FPGA \n4.  SD \n\n### \n\n1. arduino IDE\n2. vivado webpack  Spartan-7\n3. CP2102 USB [](https://www.usb-drivers.org/cp2102-usb-to-uart-bridge-driver.html)\n\n### \n\n FPGA  arduino \n\n#### \n\n PWR_MODE arduino  PWR_MODE  off  FPGA \n\n Slave  Slave FPGA  arduino  SD  FPGA\n\n SD  FAT16  FAT32 \n\n#### \n\n arduino IDE`--``https://dl.espressif.com/dl/package_esp32_index.json`\n\n`--` esp32 \n\n`-``DOIT ESP32 DEVKIT V1`\n\n\n\n Type-C windows(`lsusb` linux) arduino IDE `-`\n\n> Type-C \n\n arduino  FPGA \n\n[](https://github.com/sandrobenigno/spartan-edge-esp32-boot/archive/master.zip) arduino IDE `--.ZIP`\n\n`-``01LoadDefaultBitstream.ino`\n\n`-Upload Speed` 115200`-`\n\narduino  FPGA \n\n### Blink\n\n[](https://gitee.com/SEA-S7/SEA)`Hello-World/FPGA/Verilog/HelloWorld-Verilog` vivado \n\n`Hello-World.v`\n\n```verilog\n`timescale 1ns / 1ps\n\nmodule Hello_World(\n    input clk,\n    output reg signal_2\n    );\n\n    reg [32:0] m;\n\n    always @(posedge clk) begin\n        m = m + 1;\n        if (m == 100000000) begin\n            signal_2 = signal_2 == 1 ? 0 : 1;\n            m = 0;\n        end\n    end\nendmodule\n```\n\n`system.xdc`\n\n```\nset_property -dict {PACKAGE_PIN H4 IOSTANDARD LVCMOS33} [get_ports clk]\ncreate_clock -add -name sys_clk_pin -period 10.00 -waveform {0 5} [get_ports {clk}];\n\nset_property IOSTANDARD LVCMOS33 [get_ports {signal_2}]\nset_property PACKAGE_PIN J1 [get_ports {signal_2}]\nset_property PULLDOWN true [get_ports {signal_2}]\n```\n\n`generate bitstream``HelloWorld-Verilog.runs\\impl_1``Hello_World.bit` SD `overlay``default.bit`\n\n SD \n\n LED \n\n SD \n\n arduino  FPGA\n\n`Platform Cable USB II`( 100 )`Platform Cable USB II` JTAG  vivado  Slave \n\n## \n\n\n\nPCB [](https://wiki.seeedstudio.com/Spartan-Edge-Accelerator-Board/)[](https://forum.seeedstudio.com/)\n","slug":"spartan-edge-accelerator-board-tutorial","published":1,"updated":"2021-06-03T14:42:05.565Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9d50037dbizbt3u2mbt","content":"<h1 id=\"Spartan-Edge-Accelerator-Board-\"><a href=\"#Spartan-Edge-Accelerator-Board-\" class=\"headerlink\" title=\"Spartan Edge Accelerator Board \"></a>Spartan Edge Accelerator Board </h1><p> FPGA Spartan Edge Accelerator Board Spartan-7 FPGA  SEA-S7</p>\n<p><img src=\"1.png\" alt=\"develop board\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li> 200-300 </li>\n<li><a href=\"https://wiki.seeedstudio.com/Spartan-Edge-Accelerator-Board/\"></a> <a href=\"https://wiki.seeedstudio.com/cn/Spartan-Edge-Accelerator-Board/\"></a></li>\n<li> vivadovivado  Spartan6 Spartan7</li>\n<li>arduino  FPGA  FPGA ZYNQarm + FPGA</li>\n<li> arduino  arduino </li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li> FPGA </li>\n<li></li>\n</ol>\n<h2 id=\"Hello-World\"><a href=\"#Hello-World\" class=\"headerlink\" title=\"Hello World\"></a>Hello World</h2><p> blink </p>\n<blockquote>\n<p></p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li></li>\n<li> Type-C </li>\n<li>[] Platform Cable USB II JTAG  FPGA </li>\n<li> SD </li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>arduino IDE</li>\n<li>vivado webpack  Spartan-7</li>\n<li>CP2102 USB <a href=\"https://www.usb-drivers.org/cp2102-usb-to-uart-bridge-driver.html\"></a></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> FPGA  arduino </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> PWR_MODE arduino  PWR_MODE  off  FPGA </p>\n<p> Slave  Slave FPGA  arduino  SD  FPGA</p>\n<p> SD  FAT16  FAT32 </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> arduino IDE<code>--</code><code>https://dl.espressif.com/dl/package_esp32_index.json</code></p>\n<p><code>--</code> esp32 </p>\n<p><code>-</code><code>DOIT ESP32 DEVKIT V1</code></p>\n<p></p>\n<p> Type-C windows(<code>lsusb</code> linux) arduino IDE <code>-</code></p>\n<blockquote>\n<p>Type-C </p>\n</blockquote>\n<p> arduino  FPGA </p>\n<p><a href=\"https://github.com/sandrobenigno/spartan-edge-esp32-boot/archive/master.zip\"></a> arduino IDE <code>--.ZIP</code></p>\n<p><code>-</code><code>01LoadDefaultBitstream.ino</code></p>\n<p><code>-Upload Speed</code> 115200<code>-</code></p>\n<p>arduino  FPGA </p>\n<h3 id=\"Blink\"><a href=\"#Blink\" class=\"headerlink\" title=\"Blink\"></a>Blink</h3><p><a href=\"https://gitee.com/SEA-S7/SEA\"></a><code>Hello-World/FPGA/Verilog/HelloWorld-Verilog</code> vivado </p>\n<p><code>Hello-World.v</code></p>\n<pre class=\"line-numbers language-verilog\" data-language=\"verilog\"><code class=\"language-verilog\"><span class=\"token constant\">`timescale</span> <span class=\"token number\">1</span>ns <span class=\"token operator\">/</span> <span class=\"token number\">1</span>ps\n\n<span class=\"token keyword\">module</span> <span class=\"token function\">Hello_World</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">input</span> clk<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">output</span> <span class=\"token keyword\">reg</span> signal_2\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">reg</span> <span class=\"token punctuation\">[</span><span class=\"token number\">32</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> m<span class=\"token punctuation\">;</span>\n\n    <span class=\"token important\">always @</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">posedge</span> clk<span class=\"token punctuation\">)</span> <span class=\"token keyword\">begin</span>\n        m <span class=\"token operator\">=</span> m <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>m <span class=\"token operator\">==</span> <span class=\"token number\">100000000</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">begin</span>\n            signal_2 <span class=\"token operator\">=</span> signal_2 <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token operator\">?</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n            m <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">end</span>\n    <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">endmodule</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>system.xdc</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">set_property -dict &#123;PACKAGE_PIN H4 IOSTANDARD LVCMOS33&#125; [get_ports clk]\ncreate_clock -add -name sys_clk_pin -period 10.00 -waveform &#123;0 5&#125; [get_ports &#123;clk&#125;];\n\nset_property IOSTANDARD LVCMOS33 [get_ports &#123;signal_2&#125;]\nset_property PACKAGE_PIN J1 [get_ports &#123;signal_2&#125;]\nset_property PULLDOWN true [get_ports &#123;signal_2&#125;]<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>generate bitstream</code><code>HelloWorld-Verilog.runs\\impl_1</code><code>Hello_World.bit</code> SD <code>overlay</code><code>default.bit</code></p>\n<p> SD </p>\n<p> LED </p>\n<p> SD </p>\n<p> arduino  FPGA</p>\n<p><code>Platform Cable USB II</code>( 100 )<code>Platform Cable USB II</code> JTAG  vivado  Slave </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>PCB <a href=\"https://wiki.seeedstudio.com/Spartan-Edge-Accelerator-Board/\"></a><a href=\"https://forum.seeedstudio.com/\"></a></p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"Spartan-Edge-Accelerator-Board-\"><a href=\"#Spartan-Edge-Accelerator-Board-\" class=\"headerlink\" title=\"Spartan Edge Accelerator Board \"></a>Spartan Edge Accelerator Board </h1><p> FPGA Spartan Edge Accelerator Board Spartan-7 FPGA  SEA-S7</p>\n<p><img src=\"1.png\" alt=\"develop board\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li> 200-300 </li>\n<li><a href=\"https://wiki.seeedstudio.com/Spartan-Edge-Accelerator-Board/\"></a> <a href=\"https://wiki.seeedstudio.com/cn/Spartan-Edge-Accelerator-Board/\"></a></li>\n<li> vivadovivado  Spartan6 Spartan7</li>\n<li>arduino  FPGA  FPGA ZYNQarm + FPGA</li>\n<li> arduino  arduino </li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li> FPGA </li>\n<li></li>\n</ol>\n<h2 id=\"Hello-World\"><a href=\"#Hello-World\" class=\"headerlink\" title=\"Hello World\"></a>Hello World</h2><p> blink </p>\n<blockquote>\n<p></p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li></li>\n<li> Type-C </li>\n<li>[] Platform Cable USB II JTAG  FPGA </li>\n<li> SD </li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>arduino IDE</li>\n<li>vivado webpack  Spartan-7</li>\n<li>CP2102 USB <a href=\"https://www.usb-drivers.org/cp2102-usb-to-uart-bridge-driver.html\"></a></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> FPGA  arduino </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> PWR_MODE arduino  PWR_MODE  off  FPGA </p>\n<p> Slave  Slave FPGA  arduino  SD  FPGA</p>\n<p> SD  FAT16  FAT32 </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> arduino IDE<code>--</code><code>https://dl.espressif.com/dl/package_esp32_index.json</code></p>\n<p><code>--</code> esp32 </p>\n<p><code>-</code><code>DOIT ESP32 DEVKIT V1</code></p>\n<p></p>\n<p> Type-C windows(<code>lsusb</code> linux) arduino IDE <code>-</code></p>\n<blockquote>\n<p>Type-C </p>\n</blockquote>\n<p> arduino  FPGA </p>\n<p><a href=\"https://github.com/sandrobenigno/spartan-edge-esp32-boot/archive/master.zip\"></a> arduino IDE <code>--.ZIP</code></p>\n<p><code>-</code><code>01LoadDefaultBitstream.ino</code></p>\n<p><code>-Upload Speed</code> 115200<code>-</code></p>\n<p>arduino  FPGA </p>\n<h3 id=\"Blink\"><a href=\"#Blink\" class=\"headerlink\" title=\"Blink\"></a>Blink</h3><p><a href=\"https://gitee.com/SEA-S7/SEA\"></a><code>Hello-World/FPGA/Verilog/HelloWorld-Verilog</code> vivado </p>\n<p><code>Hello-World.v</code></p>\n<pre class=\"line-numbers language-verilog\" data-language=\"verilog\"><code class=\"language-verilog\"><span class=\"token constant\">`timescale</span> <span class=\"token number\">1</span>ns <span class=\"token operator\">/</span> <span class=\"token number\">1</span>ps\n\n<span class=\"token keyword\">module</span> <span class=\"token function\">Hello_World</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">input</span> clk<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">output</span> <span class=\"token keyword\">reg</span> signal_2\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">reg</span> <span class=\"token punctuation\">[</span><span class=\"token number\">32</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> m<span class=\"token punctuation\">;</span>\n\n    <span class=\"token important\">always @</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">posedge</span> clk<span class=\"token punctuation\">)</span> <span class=\"token keyword\">begin</span>\n        m <span class=\"token operator\">=</span> m <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>m <span class=\"token operator\">==</span> <span class=\"token number\">100000000</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">begin</span>\n            signal_2 <span class=\"token operator\">=</span> signal_2 <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token operator\">?</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n            m <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">end</span>\n    <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">endmodule</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>system.xdc</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">set_property -dict &#123;PACKAGE_PIN H4 IOSTANDARD LVCMOS33&#125; [get_ports clk]\ncreate_clock -add -name sys_clk_pin -period 10.00 -waveform &#123;0 5&#125; [get_ports &#123;clk&#125;];\n\nset_property IOSTANDARD LVCMOS33 [get_ports &#123;signal_2&#125;]\nset_property PACKAGE_PIN J1 [get_ports &#123;signal_2&#125;]\nset_property PULLDOWN true [get_ports &#123;signal_2&#125;]<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>generate bitstream</code><code>HelloWorld-Verilog.runs\\impl_1</code><code>Hello_World.bit</code> SD <code>overlay</code><code>default.bit</code></p>\n<p> SD </p>\n<p> LED </p>\n<p> SD </p>\n<p> arduino  FPGA</p>\n<p><code>Platform Cable USB II</code>( 100 )<code>Platform Cable USB II</code> JTAG  vivado  Slave </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>PCB <a href=\"https://wiki.seeedstudio.com/Spartan-Edge-Accelerator-Board/\"></a><a href=\"https://forum.seeedstudio.com/\"></a></p>\n"},{"title":"Use Custom Snippets in Vim","date":"2021-06-05T08:18:12.000Z","_content":"\n#  vim  snippets\n\n vim  snippets snippets \n\n## \n\n`coc-snippets``coc.nvim``coc.nvim``:CocInstall coc-snippets`[github ](https://github.com/neoclide/coc-snippets)`honza/vim-snippets` snippets`SirVer/ultisnips` snippets \n\n`:CocConfig``coc.nvim` snippets `\"snippets.userSnippetsDirectory\": \"/home/niuiic/.config/nvim/snippets\"` json \n\n##  snippets \n\n snippets snippets coc.nvim \n\n`systemverilog.snippets`\n\n```\n# nomal always\nsnippet alw\n\talways @(${0}) begin\n\n\tend\n```\n\n`alw` alw  snippets`${0}` snippets \n\n\n\n```\n# nomal always\nsnippet alw\n\talways @(${1}) begin\n\t\t${0}\n\tend\n```\n\n`${1}`\n\n snippets `endsnippet`\n","source":"_posts/use-custom-snippets-in-vim.md","raw":"---\ntitle: Use Custom Snippets in Vim\ndate: 2021-06-05 16:18:12\ntags:\n  - Vim\ncategories:\n  - Vim\n---\n\n#  vim  snippets\n\n vim  snippets snippets \n\n## \n\n`coc-snippets``coc.nvim``coc.nvim``:CocInstall coc-snippets`[github ](https://github.com/neoclide/coc-snippets)`honza/vim-snippets` snippets`SirVer/ultisnips` snippets \n\n`:CocConfig``coc.nvim` snippets `\"snippets.userSnippetsDirectory\": \"/home/niuiic/.config/nvim/snippets\"` json \n\n##  snippets \n\n snippets snippets coc.nvim \n\n`systemverilog.snippets`\n\n```\n# nomal always\nsnippet alw\n\talways @(${0}) begin\n\n\tend\n```\n\n`alw` alw  snippets`${0}` snippets \n\n\n\n```\n# nomal always\nsnippet alw\n\talways @(${1}) begin\n\t\t${0}\n\tend\n```\n\n`${1}`\n\n snippets `endsnippet`\n","slug":"use-custom-snippets-in-vim","published":1,"updated":"2021-06-05T14:46:03.605Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9d6003cdbiz2o53dl1z","content":"<h1 id=\"-vim--snippets\"><a href=\"#-vim--snippets\" class=\"headerlink\" title=\" vim  snippets\"></a> vim  snippets</h1><p> vim  snippets snippets </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>coc-snippets</code><code>coc.nvim</code><code>coc.nvim</code><code>:CocInstall coc-snippets</code><a href=\"https://github.com/neoclide/coc-snippets\">github </a><code>honza/vim-snippets</code> snippets<code>SirVer/ultisnips</code> snippets </p>\n<p><code>:CocConfig</code><code>coc.nvim</code> snippets <code>&quot;snippets.userSnippetsDirectory&quot;: &quot;/home/niuiic/.config/nvim/snippets&quot;</code> json </p>\n<h2 id=\"-snippets-\"><a href=\"#-snippets-\" class=\"headerlink\" title=\" snippets \"></a> snippets </h2><p> snippets snippets coc.nvim </p>\n<p><code>systemverilog.snippets</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># nomal always\nsnippet alw\n\talways @($&#123;0&#125;) begin\n\n\tend<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>alw</code> alw  snippets<code>$&#123;0&#125;</code> snippets </p>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># nomal always\nsnippet alw\n\talways @($&#123;1&#125;) begin\n\t\t$&#123;0&#125;\n\tend<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>$&#123;1&#125;</code></p>\n<p> snippets <code>endsnippet</code></p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-vim--snippets\"><a href=\"#-vim--snippets\" class=\"headerlink\" title=\" vim  snippets\"></a> vim  snippets</h1><p> vim  snippets snippets </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>coc-snippets</code><code>coc.nvim</code><code>coc.nvim</code><code>:CocInstall coc-snippets</code><a href=\"https://github.com/neoclide/coc-snippets\">github </a><code>honza/vim-snippets</code> snippets<code>SirVer/ultisnips</code> snippets </p>\n<p><code>:CocConfig</code><code>coc.nvim</code> snippets <code>&quot;snippets.userSnippetsDirectory&quot;: &quot;/home/niuiic/.config/nvim/snippets&quot;</code> json </p>\n<h2 id=\"-snippets-\"><a href=\"#-snippets-\" class=\"headerlink\" title=\" snippets \"></a> snippets </h2><p> snippets snippets coc.nvim </p>\n<p><code>systemverilog.snippets</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># nomal always\nsnippet alw\n\talways @($&#123;0&#125;) begin\n\n\tend<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>alw</code> alw  snippets<code>$&#123;0&#125;</code> snippets </p>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># nomal always\nsnippet alw\n\talways @($&#123;1&#125;) begin\n\t\t$&#123;0&#125;\n\tend<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>$&#123;1&#125;</code></p>\n<p> snippets <code>endsnippet</code></p>\n"},{"title":"Use Realvnc on Manjaro on rpi4","date":"2021-05-15T13:58:56.000Z","_content":"\n#  manjaro  realvnc\n\n 4  manjaro  arch  realvnc[](https://www.niuiic.top/2021/05/15/install-manjaro-on-rpi4/) tigervnc \n\n## \n\n```\nyay -S aur/realvnc-vnc-server-aarch64\n```\n\n## \n\n\n\n1. `~/.vnc/config.d/vncserver-x11``Authentication=SystemAuth``Authentication=VncAuth`\n2. `sudo vncpasswd -service`\n3.  vnc\n   `sudo systemctl enable vncserver-x11-serviced.service sudo systemctl enable vncserver-virtuald.service`\n4. `yay -S xf86-video-dummy`\n5. `/etc/X11/xorg.conf.d/10-headless.conf`\n\n```\nSection \"Monitor\"\n        Identifier \"dummy_monitor\"\n        HorizSync 28.0-80.0\n        VertRefresh 48.0-75.0\n        Modeline \"1920x1080\" 172.80 1920 2040 2248 2576 1080 1081 1084 1118\nEndSection\n\nSection \"Device\"\n        Identifier \"dummy_card\"\n        VideoRam 256000\n        Driver \"dummy\"\nEndSection\n\nSection \"Screen\"\n        Identifier \"dummy_screen\"\n        Device \"dummy_card\"\n        Monitor \"dummy_monitor\"\n        SubSection \"Display\"\n        EndSubSection\nEndSection\n```\n\n6. `system-xorg``vncinitconfig -enable-system-xorg` system-xorg\n7.  vnc  vncserver `raspi-config``/etc/X11/vncserver-virtual-dummy.conf``gtf 1920 1080 60`\n","source":"_posts/use-realvnc-on-manjaro-on-rpi4.md","raw":"---\ntitle: Use Realvnc on Manjaro on rpi4\ndate: 2021-05-15 21:58:56\ntags:\n  - Raspberry Pi\n  - Manjaro\n  - Realvnc\ncategories:\n  - Raspberry Pi\n---\n\n#  manjaro  realvnc\n\n 4  manjaro  arch  realvnc[](https://www.niuiic.top/2021/05/15/install-manjaro-on-rpi4/) tigervnc \n\n## \n\n```\nyay -S aur/realvnc-vnc-server-aarch64\n```\n\n## \n\n\n\n1. `~/.vnc/config.d/vncserver-x11``Authentication=SystemAuth``Authentication=VncAuth`\n2. `sudo vncpasswd -service`\n3.  vnc\n   `sudo systemctl enable vncserver-x11-serviced.service sudo systemctl enable vncserver-virtuald.service`\n4. `yay -S xf86-video-dummy`\n5. `/etc/X11/xorg.conf.d/10-headless.conf`\n\n```\nSection \"Monitor\"\n        Identifier \"dummy_monitor\"\n        HorizSync 28.0-80.0\n        VertRefresh 48.0-75.0\n        Modeline \"1920x1080\" 172.80 1920 2040 2248 2576 1080 1081 1084 1118\nEndSection\n\nSection \"Device\"\n        Identifier \"dummy_card\"\n        VideoRam 256000\n        Driver \"dummy\"\nEndSection\n\nSection \"Screen\"\n        Identifier \"dummy_screen\"\n        Device \"dummy_card\"\n        Monitor \"dummy_monitor\"\n        SubSection \"Display\"\n        EndSubSection\nEndSection\n```\n\n6. `system-xorg``vncinitconfig -enable-system-xorg` system-xorg\n7.  vnc  vncserver `raspi-config``/etc/X11/vncserver-virtual-dummy.conf``gtf 1920 1080 60`\n","slug":"use-realvnc-on-manjaro-on-rpi4","published":1,"updated":"2021-05-15T14:02:27.842Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9d7003fdbiz8tk39w3s","content":"<h1 id=\"-manjaro--realvnc\"><a href=\"#-manjaro--realvnc\" class=\"headerlink\" title=\" manjaro  realvnc\"></a> manjaro  realvnc</h1><p> 4  manjaro  arch  realvnc<a href=\"https://www.niuiic.top/2021/05/15/install-manjaro-on-rpi4/\"></a> tigervnc </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">yay -S aur&#x2F;realvnc-vnc-server-aarch64<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li><code>~/.vnc/config.d/vncserver-x11</code><code>Authentication=SystemAuth</code><code>Authentication=VncAuth</code></li>\n<li><code>sudo vncpasswd -service</code></li>\n<li> vnc<br><code>sudo systemctl enable vncserver-x11-serviced.service sudo systemctl enable vncserver-virtuald.service</code></li>\n<li><code>yay -S xf86-video-dummy</code></li>\n<li><code>/etc/X11/xorg.conf.d/10-headless.conf</code></li>\n</ol>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Section &quot;Monitor&quot;\n        Identifier &quot;dummy_monitor&quot;\n        HorizSync 28.0-80.0\n        VertRefresh 48.0-75.0\n        Modeline &quot;1920x1080&quot; 172.80 1920 2040 2248 2576 1080 1081 1084 1118\nEndSection\n\nSection &quot;Device&quot;\n        Identifier &quot;dummy_card&quot;\n        VideoRam 256000\n        Driver &quot;dummy&quot;\nEndSection\n\nSection &quot;Screen&quot;\n        Identifier &quot;dummy_screen&quot;\n        Device &quot;dummy_card&quot;\n        Monitor &quot;dummy_monitor&quot;\n        SubSection &quot;Display&quot;\n        EndSubSection\nEndSection<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ol start=\"6\">\n<li><code>system-xorg</code><code>vncinitconfig -enable-system-xorg</code> system-xorg</li>\n<li> vnc  vncserver <code>raspi-config</code><code>/etc/X11/vncserver-virtual-dummy.conf</code><code>gtf 1920 1080 60</code></li>\n</ol>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-manjaro--realvnc\"><a href=\"#-manjaro--realvnc\" class=\"headerlink\" title=\" manjaro  realvnc\"></a> manjaro  realvnc</h1><p> 4  manjaro  arch  realvnc<a href=\"https://www.niuiic.top/2021/05/15/install-manjaro-on-rpi4/\"></a> tigervnc </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">yay -S aur&#x2F;realvnc-vnc-server-aarch64<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li><code>~/.vnc/config.d/vncserver-x11</code><code>Authentication=SystemAuth</code><code>Authentication=VncAuth</code></li>\n<li><code>sudo vncpasswd -service</code></li>\n<li> vnc<br><code>sudo systemctl enable vncserver-x11-serviced.service sudo systemctl enable vncserver-virtuald.service</code></li>\n<li><code>yay -S xf86-video-dummy</code></li>\n<li><code>/etc/X11/xorg.conf.d/10-headless.conf</code></li>\n</ol>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Section &quot;Monitor&quot;\n        Identifier &quot;dummy_monitor&quot;\n        HorizSync 28.0-80.0\n        VertRefresh 48.0-75.0\n        Modeline &quot;1920x1080&quot; 172.80 1920 2040 2248 2576 1080 1081 1084 1118\nEndSection\n\nSection &quot;Device&quot;\n        Identifier &quot;dummy_card&quot;\n        VideoRam 256000\n        Driver &quot;dummy&quot;\nEndSection\n\nSection &quot;Screen&quot;\n        Identifier &quot;dummy_screen&quot;\n        Device &quot;dummy_card&quot;\n        Monitor &quot;dummy_monitor&quot;\n        SubSection &quot;Display&quot;\n        EndSubSection\nEndSection<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ol start=\"6\">\n<li><code>system-xorg</code><code>vncinitconfig -enable-system-xorg</code> system-xorg</li>\n<li> vnc  vncserver <code>raspi-config</code><code>/etc/X11/vncserver-virtual-dummy.conf</code><code>gtf 1920 1080 60</code></li>\n</ol>\n"},{"title":"Use Vim as the Editor of Systemverilog","date":"2021-03-23T08:42:41.000Z","_content":"\n#  vim  systemverilog \n\n vim  systemverilog \n\n systemverilog  vim [vim ](https://www.niuiic.top/categories/Vim/)\n\n## \n\n neovim  systemverilog  vim `vhda/verilog_systemverilog.vim`\n\n## \n\n svlangserver  svls\n\nsvlangserver  lsp verilator  snippets svls  svls  svlangserver IDE\n\n###  svls\n\n lsp svls  systemverilog \n\nsvls  rust  rust  rust  cargo  snap \n\n lsp  vim  coc.nvim coc.nvim \n\n```json\n\"languageserver\": {\n    \"svls\": {\n        \"command\": \"svls\",\n        \"filetypes\": [\"systemverilog\"]\n    }\n}\n```\n\n`filetypes`.sv  neovim5 `verilog_systemverilog`\n\n[svls github ](https://github.com/dalance/svls)\n\nsvls `.svls.toml`\n\n```toml\n[verilog]\ninclude_paths = [\"src/header\"]\n\n[option]\nlinter = true\n```\n\n`include_paths`.sv \n\n ale  iverilog \n\n`svls` snippets `vim-snippets` snippets  snippets\n\n###  svlangserver\n\n`npm install -g @imc-trading/svlangserver`\n\n`verilator`[google/verible](https://github.com/google/verible)\n\n coc.nvim \n\n```json\n  \"languageserver\": {\n    \"svlangserver\": {\n      \"module\": \"/home/niuiic/Applicants/Npm/npm_global/lib64/node_modules/@imc-trading/svlangserver/lib/svlangserver.js\",\n      \"filetypes\": [\"systemverilog\"],\n      \"settings\": {\n        \"systemverilog.includeIndexing\": [\"**/*.{sv,svh}\"],\n        \"systemverilog.excludeIndexing\": [\"test/**/*.sv*\"],\n        \"systemverilog.defines\": [],\n        \"systemverilog.launchConfiguration\": \"/usr/bin/verilator -sv -Wall --lint-only\",\n        \"systemverilog.formatCommand\": \"/home/niuiic/Applicants/Verible/verible/bin/verible-verilog-format\"\n      }\n    }\n  }\n```\n\n`:Format`\n\n###  snippets\n\n`coc-snippets``coc.nvim``coc.nvim``:CocInstall coc-snippets`[github ](https://github.com/neoclide/coc-snippets)`honza/vim-snippets` snippets`SirVer/ultisnips` snippets \n\n`:CocConfig``coc.nvim` snippets `\"snippets.userSnippetsDirectory\": \"/home/niuiic/.config/nvim/snippets\"` json \n\n snippets snippets coc.nvim \n\n`systemverilog.snippets`\n\n```\n# nomal always\nsnippet alw\n\talways @(${0}) begin\n\n\tend\n```\n\n`alw` alw  snippets`${0}` snippets \n\n\n\n```\n# nomal always\nsnippet alw\n\talways @(${1}) begin\n\t\t${0}\n\tend\n```\n\n`${1}`\n\n snippets `endsnippet`\n\n[svlangserver ](https://github.com/imc-trading/svlangserver) snippets \n\n snippetssvls `coc.nvim`\n\n`/.config/nvim/autoload/coc/source``systemverilog.vim`\n\n\n\n```\nfunction! coc#source#systemverilog#init() abort\n    return {\n        \\'triggerCharacters': [''],\n        \\'filetypes' : ['systemverilog'],\n        \\}\nendfunction\n\nfunction! coc#source#systemverilog#complete(opt, cb) abort\n    let items = ['reg', 'wire', 'forever', 'posedge', 'negedge', 'module', 'endmodule', 'initial', 'input', 'output', 'parameter', 'assign', 'integer']\n    call a:cb(items)\nendfunction\n```\n\n`items` snippets\n\n\n\n## \n\n svlangserver \n\nsystemverilog [verible](https://github.com/google/verible)verible  google  systemverilog \n\nverible .deb .rpm \n\n github `bazel build -c opt //...` C++11  gcc clang \n\n`bazel run -c opt :install -- path` root `bazel run -c opt :install -- -s path` sudo\n\n vim  neoformat\n\nneovimlinux\n\n`~/.local/share/nvim/site/autoload/neoformat/formatters``systemverilog.vim`\n\n```vim\nfunction! neoformat#formatters#systemverilog#enabled() abort\n    return ['verible_format']\nendfunction\n\nfunction! neoformat#formatters#systemverilog#verible_format() abort\n    return {\n        \\ 'exe': '/opt/verible/verilog_format',\n        \\ }\nendfunction\n```\n\n vim  systemverilog `systemverilog``systemverilog``exe``$PATH`\n\n## \n\n vscode  IDE vivado \n\nvscode  svls  vim svls  vim  ale\n\n IDE  systemverilog \n","source":"_posts/use-vim-as-the-editor-of-systemverilog.md","raw":"---\ntitle: Use Vim as the Editor of Systemverilog\ndate: 2021-03-23 16:42:41\ntags:\n  - Vim\ncategories:\n  - [Vim]\n  - [Embedded]\n---\n\n#  vim  systemverilog \n\n vim  systemverilog \n\n systemverilog  vim [vim ](https://www.niuiic.top/categories/Vim/)\n\n## \n\n neovim  systemverilog  vim `vhda/verilog_systemverilog.vim`\n\n## \n\n svlangserver  svls\n\nsvlangserver  lsp verilator  snippets svls  svls  svlangserver IDE\n\n###  svls\n\n lsp svls  systemverilog \n\nsvls  rust  rust  rust  cargo  snap \n\n lsp  vim  coc.nvim coc.nvim \n\n```json\n\"languageserver\": {\n    \"svls\": {\n        \"command\": \"svls\",\n        \"filetypes\": [\"systemverilog\"]\n    }\n}\n```\n\n`filetypes`.sv  neovim5 `verilog_systemverilog`\n\n[svls github ](https://github.com/dalance/svls)\n\nsvls `.svls.toml`\n\n```toml\n[verilog]\ninclude_paths = [\"src/header\"]\n\n[option]\nlinter = true\n```\n\n`include_paths`.sv \n\n ale  iverilog \n\n`svls` snippets `vim-snippets` snippets  snippets\n\n###  svlangserver\n\n`npm install -g @imc-trading/svlangserver`\n\n`verilator`[google/verible](https://github.com/google/verible)\n\n coc.nvim \n\n```json\n  \"languageserver\": {\n    \"svlangserver\": {\n      \"module\": \"/home/niuiic/Applicants/Npm/npm_global/lib64/node_modules/@imc-trading/svlangserver/lib/svlangserver.js\",\n      \"filetypes\": [\"systemverilog\"],\n      \"settings\": {\n        \"systemverilog.includeIndexing\": [\"**/*.{sv,svh}\"],\n        \"systemverilog.excludeIndexing\": [\"test/**/*.sv*\"],\n        \"systemverilog.defines\": [],\n        \"systemverilog.launchConfiguration\": \"/usr/bin/verilator -sv -Wall --lint-only\",\n        \"systemverilog.formatCommand\": \"/home/niuiic/Applicants/Verible/verible/bin/verible-verilog-format\"\n      }\n    }\n  }\n```\n\n`:Format`\n\n###  snippets\n\n`coc-snippets``coc.nvim``coc.nvim``:CocInstall coc-snippets`[github ](https://github.com/neoclide/coc-snippets)`honza/vim-snippets` snippets`SirVer/ultisnips` snippets \n\n`:CocConfig``coc.nvim` snippets `\"snippets.userSnippetsDirectory\": \"/home/niuiic/.config/nvim/snippets\"` json \n\n snippets snippets coc.nvim \n\n`systemverilog.snippets`\n\n```\n# nomal always\nsnippet alw\n\talways @(${0}) begin\n\n\tend\n```\n\n`alw` alw  snippets`${0}` snippets \n\n\n\n```\n# nomal always\nsnippet alw\n\talways @(${1}) begin\n\t\t${0}\n\tend\n```\n\n`${1}`\n\n snippets `endsnippet`\n\n[svlangserver ](https://github.com/imc-trading/svlangserver) snippets \n\n snippetssvls `coc.nvim`\n\n`/.config/nvim/autoload/coc/source``systemverilog.vim`\n\n\n\n```\nfunction! coc#source#systemverilog#init() abort\n    return {\n        \\'triggerCharacters': [''],\n        \\'filetypes' : ['systemverilog'],\n        \\}\nendfunction\n\nfunction! coc#source#systemverilog#complete(opt, cb) abort\n    let items = ['reg', 'wire', 'forever', 'posedge', 'negedge', 'module', 'endmodule', 'initial', 'input', 'output', 'parameter', 'assign', 'integer']\n    call a:cb(items)\nendfunction\n```\n\n`items` snippets\n\n\n\n## \n\n svlangserver \n\nsystemverilog [verible](https://github.com/google/verible)verible  google  systemverilog \n\nverible .deb .rpm \n\n github `bazel build -c opt //...` C++11  gcc clang \n\n`bazel run -c opt :install -- path` root `bazel run -c opt :install -- -s path` sudo\n\n vim  neoformat\n\nneovimlinux\n\n`~/.local/share/nvim/site/autoload/neoformat/formatters``systemverilog.vim`\n\n```vim\nfunction! neoformat#formatters#systemverilog#enabled() abort\n    return ['verible_format']\nendfunction\n\nfunction! neoformat#formatters#systemverilog#verible_format() abort\n    return {\n        \\ 'exe': '/opt/verible/verilog_format',\n        \\ }\nendfunction\n```\n\n vim  systemverilog `systemverilog``systemverilog``exe``$PATH`\n\n## \n\n vscode  IDE vivado \n\nvscode  svls  vim svls  vim  ale\n\n IDE  systemverilog \n","slug":"use-vim-as-the-editor-of-systemverilog","published":1,"updated":"2021-06-14T08:19:03.669Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9d8003jdbizb9716dq7","content":"<h1 id=\"-vim--systemverilog-\"><a href=\"#-vim--systemverilog-\" class=\"headerlink\" title=\" vim  systemverilog \"></a> vim  systemverilog </h1><p> vim  systemverilog </p>\n<p> systemverilog  vim <a href=\"https://www.niuiic.top/categories/Vim/\">vim </a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> neovim  systemverilog  vim <code>vhda/verilog_systemverilog.vim</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> svlangserver  svls</p>\n<p>svlangserver  lsp verilator  snippets svls  svls  svlangserver IDE</p>\n<h3 id=\"-svls\"><a href=\"#-svls\" class=\"headerlink\" title=\" svls\"></a> svls</h3><p> lsp svls  systemverilog </p>\n<p>svls  rust  rust  rust  cargo  snap </p>\n<p> lsp  vim  coc.nvim coc.nvim </p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token property\">\"languageserver\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"svls\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token property\">\"command\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"svls\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"filetypes\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"systemverilog\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>filetypes</code>.sv  neovim5 <code>verilog_systemverilog</code></p>\n<p><a href=\"https://github.com/dalance/svls\">svls github </a></p>\n<p>svls <code>.svls.toml</code></p>\n<pre class=\"line-numbers language-toml\" data-language=\"toml\"><code class=\"language-toml\"><span class=\"token punctuation\">[</span><span class=\"token table class-name\">verilog</span><span class=\"token punctuation\">]</span>\n<span class=\"token key property\">include_paths</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"src/header\"</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token table class-name\">option</span><span class=\"token punctuation\">]</span>\n<span class=\"token key property\">linter</span> <span class=\"token punctuation\">=</span> <span class=\"token boolean\">true</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>include_paths</code>.sv </p>\n<p> ale  iverilog </p>\n<p><code>svls</code> snippets <code>vim-snippets</code> snippets  snippets</p>\n<h3 id=\"-svlangserver\"><a href=\"#-svlangserver\" class=\"headerlink\" title=\" svlangserver\"></a> svlangserver</h3><p><code>npm install -g @imc-trading/svlangserver</code></p>\n<p><code>verilator</code><a href=\"https://github.com/google/verible\">google/verible</a></p>\n<p> coc.nvim </p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token property\">\"languageserver\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"svlangserver\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"module\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/home/niuiic/Applicants/Npm/npm_global/lib64/node_modules/@imc-trading/svlangserver/lib/svlangserver.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"filetypes\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"systemverilog\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"settings\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token property\">\"systemverilog.includeIndexing\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"**/*.&#123;sv,svh&#125;\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"systemverilog.excludeIndexing\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"test/**/*.sv*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"systemverilog.defines\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"systemverilog.launchConfiguration\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/usr/bin/verilator -sv -Wall --lint-only\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"systemverilog.formatCommand\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/home/niuiic/Applicants/Verible/verible/bin/verible-verilog-format\"</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>:Format</code></p>\n<h3 id=\"-snippets\"><a href=\"#-snippets\" class=\"headerlink\" title=\" snippets\"></a> snippets</h3><p><code>coc-snippets</code><code>coc.nvim</code><code>coc.nvim</code><code>:CocInstall coc-snippets</code><a href=\"https://github.com/neoclide/coc-snippets\">github </a><code>honza/vim-snippets</code> snippets<code>SirVer/ultisnips</code> snippets </p>\n<p><code>:CocConfig</code><code>coc.nvim</code> snippets <code>&quot;snippets.userSnippetsDirectory&quot;: &quot;/home/niuiic/.config/nvim/snippets&quot;</code> json </p>\n<p> snippets snippets coc.nvim </p>\n<p><code>systemverilog.snippets</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># nomal always\nsnippet alw\n\talways @($&#123;0&#125;) begin\n\n\tend<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>alw</code> alw  snippets<code>$&#123;0&#125;</code> snippets </p>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># nomal always\nsnippet alw\n\talways @($&#123;1&#125;) begin\n\t\t$&#123;0&#125;\n\tend<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>$&#123;1&#125;</code></p>\n<p> snippets <code>endsnippet</code></p>\n<p><a href=\"https://github.com/imc-trading/svlangserver\">svlangserver </a> snippets </p>\n<p> snippetssvls <code>coc.nvim</code></p>\n<p><code>/.config/nvim/autoload/coc/source</code><code>systemverilog.vim</code></p>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">function! coc#source#systemverilog#init() abort\n    return &#123;\n        \\&#39;triggerCharacters&#39;: [&#39;&#39;],\n        \\&#39;filetypes&#39; : [&#39;systemverilog&#39;],\n        \\&#125;\nendfunction\n\nfunction! coc#source#systemverilog#complete(opt, cb) abort\n    let items &#x3D; [&#39;reg&#39;, &#39;wire&#39;, &#39;forever&#39;, &#39;posedge&#39;, &#39;negedge&#39;, &#39;module&#39;, &#39;endmodule&#39;, &#39;initial&#39;, &#39;input&#39;, &#39;output&#39;, &#39;parameter&#39;, &#39;assign&#39;, &#39;integer&#39;]\n    call a:cb(items)\nendfunction<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>items</code> snippets</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> svlangserver </p>\n<p>systemverilog <a href=\"https://github.com/google/verible\">verible</a>verible  google  systemverilog </p>\n<p>verible .deb .rpm </p>\n<p> github <code>bazel build -c opt //...</code> C++11  gcc clang </p>\n<p><code>bazel run -c opt :install -- path</code> root <code>bazel run -c opt :install -- -s path</code> sudo</p>\n<p> vim  neoformat</p>\n<p>neovimlinux</p>\n<p><code>~/.local/share/nvim/site/autoload/neoformat/formatters</code><code>systemverilog.vim</code></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token keyword\">function</span><span class=\"token operator\">!</span> neoformat#formatters#systemverilog#<span class=\"token function\">enabled</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> abort\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'verible_format'</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">endfunction</span>\n\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> neoformat#formatters#systemverilog#<span class=\"token function\">verible_format</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> abort\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n        \\ <span class=\"token string\">'exe'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'/opt/verible/verilog_format'</span><span class=\"token punctuation\">,</span>\n        \\ <span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">endfunction</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> vim  systemverilog <code>systemverilog</code><code>systemverilog</code><code>exe</code><code>$PATH</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> vscode  IDE vivado </p>\n<p>vscode  svls  vim svls  vim  ale</p>\n<p> IDE  systemverilog </p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-vim--systemverilog-\"><a href=\"#-vim--systemverilog-\" class=\"headerlink\" title=\" vim  systemverilog \"></a> vim  systemverilog </h1><p> vim  systemverilog </p>\n<p> systemverilog  vim <a href=\"https://www.niuiic.top/categories/Vim/\">vim </a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> neovim  systemverilog  vim <code>vhda/verilog_systemverilog.vim</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> svlangserver  svls</p>\n<p>svlangserver  lsp verilator  snippets svls  svls  svlangserver IDE</p>\n<h3 id=\"-svls\"><a href=\"#-svls\" class=\"headerlink\" title=\" svls\"></a> svls</h3><p> lsp svls  systemverilog </p>\n<p>svls  rust  rust  rust  cargo  snap </p>\n<p> lsp  vim  coc.nvim coc.nvim </p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token property\">\"languageserver\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"svls\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token property\">\"command\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"svls\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"filetypes\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"systemverilog\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>filetypes</code>.sv  neovim5 <code>verilog_systemverilog</code></p>\n<p><a href=\"https://github.com/dalance/svls\">svls github </a></p>\n<p>svls <code>.svls.toml</code></p>\n<pre class=\"line-numbers language-toml\" data-language=\"toml\"><code class=\"language-toml\"><span class=\"token punctuation\">[</span><span class=\"token table class-name\">verilog</span><span class=\"token punctuation\">]</span>\n<span class=\"token key property\">include_paths</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"src/header\"</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token table class-name\">option</span><span class=\"token punctuation\">]</span>\n<span class=\"token key property\">linter</span> <span class=\"token punctuation\">=</span> <span class=\"token boolean\">true</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>include_paths</code>.sv </p>\n<p> ale  iverilog </p>\n<p><code>svls</code> snippets <code>vim-snippets</code> snippets  snippets</p>\n<h3 id=\"-svlangserver\"><a href=\"#-svlangserver\" class=\"headerlink\" title=\" svlangserver\"></a> svlangserver</h3><p><code>npm install -g @imc-trading/svlangserver</code></p>\n<p><code>verilator</code><a href=\"https://github.com/google/verible\">google/verible</a></p>\n<p> coc.nvim </p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token property\">\"languageserver\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"svlangserver\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"module\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/home/niuiic/Applicants/Npm/npm_global/lib64/node_modules/@imc-trading/svlangserver/lib/svlangserver.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"filetypes\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"systemverilog\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"settings\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token property\">\"systemverilog.includeIndexing\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"**/*.&#123;sv,svh&#125;\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"systemverilog.excludeIndexing\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"test/**/*.sv*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"systemverilog.defines\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"systemverilog.launchConfiguration\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/usr/bin/verilator -sv -Wall --lint-only\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"systemverilog.formatCommand\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/home/niuiic/Applicants/Verible/verible/bin/verible-verilog-format\"</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>:Format</code></p>\n<h3 id=\"-snippets\"><a href=\"#-snippets\" class=\"headerlink\" title=\" snippets\"></a> snippets</h3><p><code>coc-snippets</code><code>coc.nvim</code><code>coc.nvim</code><code>:CocInstall coc-snippets</code><a href=\"https://github.com/neoclide/coc-snippets\">github </a><code>honza/vim-snippets</code> snippets<code>SirVer/ultisnips</code> snippets </p>\n<p><code>:CocConfig</code><code>coc.nvim</code> snippets <code>&quot;snippets.userSnippetsDirectory&quot;: &quot;/home/niuiic/.config/nvim/snippets&quot;</code> json </p>\n<p> snippets snippets coc.nvim </p>\n<p><code>systemverilog.snippets</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># nomal always\nsnippet alw\n\talways @($&#123;0&#125;) begin\n\n\tend<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>alw</code> alw  snippets<code>$&#123;0&#125;</code> snippets </p>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># nomal always\nsnippet alw\n\talways @($&#123;1&#125;) begin\n\t\t$&#123;0&#125;\n\tend<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>$&#123;1&#125;</code></p>\n<p> snippets <code>endsnippet</code></p>\n<p><a href=\"https://github.com/imc-trading/svlangserver\">svlangserver </a> snippets </p>\n<p> snippetssvls <code>coc.nvim</code></p>\n<p><code>/.config/nvim/autoload/coc/source</code><code>systemverilog.vim</code></p>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">function! coc#source#systemverilog#init() abort\n    return &#123;\n        \\&#39;triggerCharacters&#39;: [&#39;&#39;],\n        \\&#39;filetypes&#39; : [&#39;systemverilog&#39;],\n        \\&#125;\nendfunction\n\nfunction! coc#source#systemverilog#complete(opt, cb) abort\n    let items &#x3D; [&#39;reg&#39;, &#39;wire&#39;, &#39;forever&#39;, &#39;posedge&#39;, &#39;negedge&#39;, &#39;module&#39;, &#39;endmodule&#39;, &#39;initial&#39;, &#39;input&#39;, &#39;output&#39;, &#39;parameter&#39;, &#39;assign&#39;, &#39;integer&#39;]\n    call a:cb(items)\nendfunction<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>items</code> snippets</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> svlangserver </p>\n<p>systemverilog <a href=\"https://github.com/google/verible\">verible</a>verible  google  systemverilog </p>\n<p>verible .deb .rpm </p>\n<p> github <code>bazel build -c opt //...</code> C++11  gcc clang </p>\n<p><code>bazel run -c opt :install -- path</code> root <code>bazel run -c opt :install -- -s path</code> sudo</p>\n<p> vim  neoformat</p>\n<p>neovimlinux</p>\n<p><code>~/.local/share/nvim/site/autoload/neoformat/formatters</code><code>systemverilog.vim</code></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token keyword\">function</span><span class=\"token operator\">!</span> neoformat#formatters#systemverilog#<span class=\"token function\">enabled</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> abort\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'verible_format'</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">endfunction</span>\n\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> neoformat#formatters#systemverilog#<span class=\"token function\">verible_format</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> abort\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n        \\ <span class=\"token string\">'exe'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'/opt/verible/verilog_format'</span><span class=\"token punctuation\">,</span>\n        \\ <span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">endfunction</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> vim  systemverilog <code>systemverilog</code><code>systemverilog</code><code>exe</code><code>$PATH</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> vscode  IDE vivado </p>\n<p>vscode  svls  vim svls  vim  ale</p>\n<p> IDE  systemverilog </p>\n"},{"title":"Vim Automatic Completion","date":"2020-10-19T02:43:22.000Z","_content":"\n vim  coc.nvim  YCM\n\n# vim \n\n## \n\n IDE  vim  IDE\n\n## coc.nvim \n\ncoc.nvim  neovim  YCM\n\n coc.nvim  JS  vscode  coc.nvim\n\n## coc.nvim \n\ncoc.nvim `nodejs``nodejs` coc.nvim [github ](https://github.com/neoclide/coc.nvim)\n\n##  coc.nvim \n\ncoc.nvim  lsp \n\n### \n\n rust `:CocInstall``coc-rust-analyzer``rust-analyzer``rust-analyzer` coc.nvim `:CocConfig`\n\n```json\n{\n  \"languageserver\": {\n    \"rust\": {\n      \"command\": \"rust-analyzer\",\n      \"filetypes\": [\"rust\"],\n      \"rootPatterns\": [\"Cargo.toml\"]\n    }\n  }\n}\n```\n\n`command`\n\n coc  lsp [coc.nvim wiki](https://github.com/neoclide/coc.nvim/wiki)\n\nrust coc.nvim `main.rs``cargo new demo``Cargo.toml` markdown \n\n### \n\n`coc-actions`\n\n`coc-snippets``coc-ultisnips``honza/vim-snippets``SirVer/ultisnips`\n\n### \n\ncoc.nvim  buffer lsp [coc.nvim wiki](https://github.com/neoclide/coc.nvim/wiki/Create-custom-source)\n\n markdown  latex \n\n`~/.config/nvim/autoload/coc/source` linux  wiki\n\n`latex.vim`\n\n```vim\nfunction! coc#source#latex#init() abort\n\treturn {\n\t\t\t\t\\'triggerCharacters': ['\\'],\n\t\t\t\t\\'filetypes' : ['markdown'],\n\t\t\t\t\\}\nendfunction\n\nfunction! coc#source#latex#complete(opt, cb) abort\n\tlet items = ['kappa', 'theta', 'dot{}', 'ddot{}', 'bar{}', 'hat{}', 'exp', 'sin', 'cos', 'tan', 'sec', 'csc', 'vec{}', 'cot', 'arcsin', 'arccos', 'arctan', 'sinh', 'cosh', 'tanh', 'coth', 'sh', 'ch', 'th', 'max', 'min', 'partial', 'nabla', 'prime', 'backprime', 'infty', 'eth', 'hbar', 'sqrt{}', 'sqrt[]{}', 'pm', 'mp', 'times', 'div', 'cdot', 'odot', 'bigodot' , '{ \\}', 'in', 'not', 'ni', 'cap', 'Cap', 'bigcap', 'cup', 'Cup', 'bigcup', 'subset', 'supset', 'supseteq', 'subseteq', 'subseteqq', 'supseteqq', 'subsetneq', 'supsetneq', 'supsetneqq', 'subsetneqq', 'sim', 'approx', 'leq', 'geq', 'parallel', 'nparallel', 'perp', 'angle', 'Box', 'bigtriangleup', 'bigtriangledown', 'forall', 'therefore', 'because', 'overline{}', 'Rightarrow', 'Leftarrow', 'rightarrow', 'leftarrow', 'leftrightarrow', 'nRightarrow', 'nLeftarrow', 'nleftarrow', 'nrightarrow', 'nleftrightarrow', 'overleftarrow{}', 'overrightarrow{}', 'overset{}', 'underline{}', 'sum', 'prod', 'lim', 'limits', 'int', 'iint', 'oint', 'iiint', 'frac{}{}', 'tfrac{}{}', 'dfrac{}{}', '\\begin{matrix}\\end{matrix}', '\\begin{vmatrix}\\end{vmatrix}', '\\begin{bmatrix}\\end{bmatrix}', '\\begin{Bmatrix}\\end{Bmatrix}', '\\begin{pmatrix}\\end{pmatrix}','\\begin{cases}\\end{cases}', '\\begin{aligned}\\end{aligned}', '\\begin{array}\\end{array}', 'alpha', 'psi', 'Delta', 'delta', 'beta', 'lambda', 'rho', 'varepsilon', 'Gamma', 'chi', 'mu', 'sigma', 'Lambda', 'tau', 'varphi', 'varPhi', 'phi', 'Phi', 'eta', 'omega', 'varrho', 'Pi', 'pi', 'gamma', 'xi', 'Psi', 'Sigma', 'varnothing', 'iiiint']\n\tcall a:cb(items)\nendfunction\n```\n\n wiki `triggerCharacters``filetypes` wiki\n\n## \n\n coc.nvim \n\n\n\n```vim\n\" \n:syn off\n\" \n:syn enable\n```\n\n Vim \n\n```vim\nau VimEnter * :syn off<CR>\nau VimEnter * :syn enable<CR>\n```\n\n## \n\ncoc.nvim \n\n\n\n```vim\n\" scroll preview window\nif has('nvim-0.4.0') || has('patch-8.2.0750')\n    nnoremap <silent><nowait><expr> <C-]> coc#float#has_scroll() ? coc#float#scroll(1) : \"\\<C-]>\"\n    nnoremap <silent><nowait><expr> <C-[> coc#float#has_scroll() ? coc#float#scroll(0) : \"\\<C-[>\"\n    inoremap <silent><nowait><expr> <C-]> coc#float#has_scroll() ? \"\\<c-r>=coc#float#scroll(1)\\<cr>\" : \"\\<Right>\"\n    inoremap <silent><nowait><expr> <C-[> coc#float#has_scroll() ? \"\\<c-r>=coc#float#scroll(0)\\<cr>\" : \"\\<Left>\"\n    vnoremap <silent><nowait><expr> <C-]> coc#float#has_scroll() ? coc#float#scroll(1) : \"\\<C-]>\"\n    vnoremap <silent><nowait><expr> <C-[> coc#float#has_scroll() ? coc#float#scroll(0) : \"\\<C-[>\"\nendif\n```\n\n\n\n```vim\nnmap <silent><nowait> <space>gy <Plug>(coc-type-definition)\nnmap <silent><nowait> <space>gi <Plug>(coc-implementation)\nnmap <silent><nowait> <space>gr <Plug>(coc-references)\nnmap <silent><nowait> <space>gd <Plug>(coc-definition)\n```\n\n\n\n```vim\nnmap <silent><nowait> <space>cr <Plug>(coc-rename)\n```\n\n\n\n```vim\n\" jump to the next or previous error\nnmap <silent> ck <Plug>(coc-diagnostic-prev)\nnmap <silent> cj <Plug>(coc-diagnostic-next)\n```\n\n coc.nvim `vim-which-key`\n\n```vim\n\" coc.nvim\ninoremap <expr> <C-j> pumvisible() ? \"\\<C-n>\" : \"\\<C-j>\"\ninoremap <expr> <C-k> pumvisible() ? \"\\<C-p>\" : \"\\<C-k>\"\ninoremap <expr> <cr> pumvisible() ? \"\\<C-y>\" : \"\\<C-g>u\\<CR>\"\ninoremap <silent><expr> <cr> pumvisible() ? coc#_select_confirm() : \"\\<C-g>u\\<CR>\"\ninoremap <silent><expr> <cr> pumvisible() ? coc#_select_confirm() : \"\\<C-g>u\\<CR>\\<c-r>=coc#on_enter()\\<CR>\"\nautocmd! CompleteDone * if pumvisible() == 0 | pclose | endif\n\n\" Some servers have issues with backup files, see #649.\nset nobackup\nset nowritebackup\n\n\" Give more space for displaying messages.\nset cmdheight=2\n\n\" Having longer updatetime (default is 4000 ms = 4 s) leads to noticeable\n\" delays and poor user experience.\nset updatetime=300\n\n\" Don't pass messages to |ins-completion-menu|.\nset shortmess+=c\n\n\" scroll preview window\nif has('nvim-0.4.0') || has('patch-8.2.0750')\n    nnoremap <silent><nowait><expr> <C-]> coc#float#has_scroll() ? coc#float#scroll(1) : \"\\<C-]>\"\n    nnoremap <silent><nowait><expr> <C-[> coc#float#has_scroll() ? coc#float#scroll(0) : \"\\<C-[>\"\n    inoremap <silent><nowait><expr> <C-]> coc#float#has_scroll() ? \"\\<c-r>=coc#float#scroll(1)\\<cr>\" : \"\\<Right>\"\n    inoremap <silent><nowait><expr> <C-[> coc#float#has_scroll() ? \"\\<c-r>=coc#float#scroll(0)\\<cr>\" : \"\\<Left>\"\n    vnoremap <silent><nowait><expr> <C-]> coc#float#has_scroll() ? coc#float#scroll(1) : \"\\<C-]>\"\n    vnoremap <silent><nowait><expr> <C-[> coc#float#has_scroll() ? coc#float#scroll(0) : \"\\<C-[>\"\nendif\n\n\n\" Always show the signcolumn, otherwise it would shift the text each time\n\" diagnostics appear/become resolved.\nif has(\"patch-8.1.1564\")\n    Recently vim can merge signcolumn and number column into one\n    set signcolumn=number\nelse\n    set signcolumn=yes\nendif\n\n\" Use tab for trigger completion with characters ahead and navigate.\n\" NOTE: Use command ':verbose imap <tab>' to make sure tab is not mapped by\n\" other plugin before putting this into your config.\ninoremap <silent><expr> <TAB>\n    \\ pumvisible() ? \"\\<C-n>\" :\n    \\ <SID>check_back_space() ? \"\\<TAB>\" :\n    \\ coc#refresh()\ninoremap <expr><S-TAB> pumvisible() ? \"\\<C-p>\" : \"\\<C-h>\"\n\nfunction! s:check_back_space() abort\n    let col = col('.') - 1\n    return !col || getline('.')[col - 1]  =~# '\\s'\nendfunction\n\n\" Use <c-space> to trigger completion.\nif has('nvim')\n    inoremap <silent><expr> <c-space> coc#refresh()\nelse\n    inoremap <silent><expr> <c-@> coc#refresh()\nendif\n\n\" Use <cr> to confirm completion, `<C-g>u` means break undo chain at current\n\" position. Coc only does snippet and additional edit on confirm.\n\" <cr> could be remapped by other vim plugin, try `:verbose imap <CR>`.\nif exists('*complete_info')\n    inoremap <expr> <cr> complete_info()[\"selected\"] != \"-1\" ? \"\\<C-y>\" : \"\\<C-g>u\\<CR>\"\nelse\n    inoremap <expr> <cr> pumvisible() ? \"\\<C-y>\" : \"\\<C-g>u\\<CR>\"\nendif\n\n\" GoTo code navigation.\nnmap <silent><nowait> <space>gy <Plug>(coc-type-definition)\nnmap <silent><nowait> <space>gi <Plug>(coc-implementation)\nnmap <silent><nowait> <space>gr <Plug>(coc-references)\nnmap <silent><nowait> <space>gd <Plug>(coc-definition)\n\nlet g:which_key_map1.g = {\n    \\ 'name': '+coc.goto',\n    \\ 'y' : 'go to type definition',\n    \\ 'i' : 'go to implementation',\n    \\ 'r' : 'go to references',\n    \\ 'd' : 'go to definition',\n    \\ }\n\n\" Use K to show documentation in preview window.\nnnoremap <silent> K :call <SID>show_documentation()<CR>\n\nfunction! s:show_documentation()\n    if (index(['vim','help'], &filetype) >= 0)\n        execute 'h '.expand('<cword>')\n    else\n        call CocActionAsync('doHover')\n    endif\nendfunction\n\n\" Highlight the symbol and its references when holding the cursor.\nautocmd CursorHold * silent call CocActionAsync('highlight')\n\n\" Symbol renaming.\nnmap <silent><nowait> <space>cr <Plug>(coc-rename)\n\n\" Formatting selected code.\nnmap <silent><nowait> <space>cm <Plug>(coc-format-selected)\nxmap <silent><nowait> <space>cm <Plug>(coc-format-selected)\n\nlet g:which_key_map1.c = {\n    \\ 'name' : '+coc',\n    \\ 'f' : 'automatically fix errors in current line',\n    \\ 'm' : 'format selected code',\n    \\ 'r' : 'rename symbol',\n    \\ }\n\naugroup mygroup\n    autocmd!\n    \" Setup formatexpr specified filetype(s).\n    autocmd FileType typescript,json setl formatexpr=CocAction('formatSelected')\n    \" Update signature help on jump placeholder.\n    autocmd User CocJumpPlaceholder call CocActionAsync('showSignatureHelp')\naugroup end\n\n\" Apply AutoFix to problem on the current line.\nnmap <silent><nowait> <space>cf <Plug>(coc-fix-current)\n\n\" Add `:Format` command to format current buffer.\ncommand! -nargs=0 Format :call CocAction('format')\n\n\" Add `:Fold` command to fold current buffer.\ncommand! -nargs=? Fold :call     CocAction('fold', <f-args>)\n\n\" Add `:OR` command for organize imports of the current buffer.\ncommand! -nargs=0 OR   :call     CocAction('runCommand', 'editor.action.organizeImport')\n\n\" Add (Neo)Vim's native statusline support.\n\" NOTE: Please see `:h coc-status` for integrations with external plugins that\n\" provide custom statusline: lightline.vim, vim-airline.\nset statusline^=%{coc#status()}%{get(b:,'coc_current_function','')}\n\n\" jump to the next or previous error\nnmap <silent> ck <Plug>(coc-diagnostic-prev)\nnmap <silent> cj <Plug>(coc-diagnostic-next)\n\n\" Mappings for CoCList\n\" open CocList\nnnoremap <silent><nowait> <leader>ct  :<C-u>CocList<cr>\n\" Show all diagnostics.\nnnoremap <silent><nowait> <leader>ca  :<C-u>CocList diagnostics<cr>\n\" Manage extensions.\nnnoremap <silent><nowait> <leader>ce  :<C-u>CocList extensions<cr>\n\" Show commands.\nnnoremap <silent><nowait> <leader>cc  :<C-u>CocList commands<cr>\n\" Find symbol of current document.\nnnoremap <silent><nowait> <leader>co  :<C-u>CocList outline<cr>\n\" Search workspace symbols.\nnnoremap <silent><nowait> <leader>cs  :<C-u>CocList -I symbols<cr>\n\" Do default action for next item.\nnnoremap <silent><nowait> <leader>cj  :<C-u>CocNext<CR>\n\" Do default action for previous item.\nnnoremap <silent><nowait> <leader>cz  :<C-u>CocPrev<CR>\n\" Resume latest coc list.\nnnoremap <silent><nowait> <leader>cp  :<C-u>CocListResume<CR>\n\nlet g:which_key_map2.c = {\n    \\ 'name' : '+coc',\n    \\ 't' : 'open coc list',\n    \\ 'a' : 'show all diagnostics',\n    \\ 'e' : 'manage extensions',\n    \\ 'c' : 'show commands',\n    \\ 'o' : 'find symbol of current document',\n    \\ 's' : 'search workspace symbols',\n    \\ 'j' : 'do default action for next item',\n    \\ 'z' : 'do default action for previous item',\n    \\ 'p' : 'resume latest coc list',\n    \\ }\n```\n","source":"_posts/vim-automatic-completion.md","raw":"---\ntitle: Vim Automatic Completion\ndate: 2020-10-19 10:43:22\ntags:\n  - Vim\ncategories:\n  - Vim\n---\n\n vim  coc.nvim  YCM\n\n# vim \n\n## \n\n IDE  vim  IDE\n\n## coc.nvim \n\ncoc.nvim  neovim  YCM\n\n coc.nvim  JS  vscode  coc.nvim\n\n## coc.nvim \n\ncoc.nvim `nodejs``nodejs` coc.nvim [github ](https://github.com/neoclide/coc.nvim)\n\n##  coc.nvim \n\ncoc.nvim  lsp \n\n### \n\n rust `:CocInstall``coc-rust-analyzer``rust-analyzer``rust-analyzer` coc.nvim `:CocConfig`\n\n```json\n{\n  \"languageserver\": {\n    \"rust\": {\n      \"command\": \"rust-analyzer\",\n      \"filetypes\": [\"rust\"],\n      \"rootPatterns\": [\"Cargo.toml\"]\n    }\n  }\n}\n```\n\n`command`\n\n coc  lsp [coc.nvim wiki](https://github.com/neoclide/coc.nvim/wiki)\n\nrust coc.nvim `main.rs``cargo new demo``Cargo.toml` markdown \n\n### \n\n`coc-actions`\n\n`coc-snippets``coc-ultisnips``honza/vim-snippets``SirVer/ultisnips`\n\n### \n\ncoc.nvim  buffer lsp [coc.nvim wiki](https://github.com/neoclide/coc.nvim/wiki/Create-custom-source)\n\n markdown  latex \n\n`~/.config/nvim/autoload/coc/source` linux  wiki\n\n`latex.vim`\n\n```vim\nfunction! coc#source#latex#init() abort\n\treturn {\n\t\t\t\t\\'triggerCharacters': ['\\'],\n\t\t\t\t\\'filetypes' : ['markdown'],\n\t\t\t\t\\}\nendfunction\n\nfunction! coc#source#latex#complete(opt, cb) abort\n\tlet items = ['kappa', 'theta', 'dot{}', 'ddot{}', 'bar{}', 'hat{}', 'exp', 'sin', 'cos', 'tan', 'sec', 'csc', 'vec{}', 'cot', 'arcsin', 'arccos', 'arctan', 'sinh', 'cosh', 'tanh', 'coth', 'sh', 'ch', 'th', 'max', 'min', 'partial', 'nabla', 'prime', 'backprime', 'infty', 'eth', 'hbar', 'sqrt{}', 'sqrt[]{}', 'pm', 'mp', 'times', 'div', 'cdot', 'odot', 'bigodot' , '{ \\}', 'in', 'not', 'ni', 'cap', 'Cap', 'bigcap', 'cup', 'Cup', 'bigcup', 'subset', 'supset', 'supseteq', 'subseteq', 'subseteqq', 'supseteqq', 'subsetneq', 'supsetneq', 'supsetneqq', 'subsetneqq', 'sim', 'approx', 'leq', 'geq', 'parallel', 'nparallel', 'perp', 'angle', 'Box', 'bigtriangleup', 'bigtriangledown', 'forall', 'therefore', 'because', 'overline{}', 'Rightarrow', 'Leftarrow', 'rightarrow', 'leftarrow', 'leftrightarrow', 'nRightarrow', 'nLeftarrow', 'nleftarrow', 'nrightarrow', 'nleftrightarrow', 'overleftarrow{}', 'overrightarrow{}', 'overset{}', 'underline{}', 'sum', 'prod', 'lim', 'limits', 'int', 'iint', 'oint', 'iiint', 'frac{}{}', 'tfrac{}{}', 'dfrac{}{}', '\\begin{matrix}\\end{matrix}', '\\begin{vmatrix}\\end{vmatrix}', '\\begin{bmatrix}\\end{bmatrix}', '\\begin{Bmatrix}\\end{Bmatrix}', '\\begin{pmatrix}\\end{pmatrix}','\\begin{cases}\\end{cases}', '\\begin{aligned}\\end{aligned}', '\\begin{array}\\end{array}', 'alpha', 'psi', 'Delta', 'delta', 'beta', 'lambda', 'rho', 'varepsilon', 'Gamma', 'chi', 'mu', 'sigma', 'Lambda', 'tau', 'varphi', 'varPhi', 'phi', 'Phi', 'eta', 'omega', 'varrho', 'Pi', 'pi', 'gamma', 'xi', 'Psi', 'Sigma', 'varnothing', 'iiiint']\n\tcall a:cb(items)\nendfunction\n```\n\n wiki `triggerCharacters``filetypes` wiki\n\n## \n\n coc.nvim \n\n\n\n```vim\n\" \n:syn off\n\" \n:syn enable\n```\n\n Vim \n\n```vim\nau VimEnter * :syn off<CR>\nau VimEnter * :syn enable<CR>\n```\n\n## \n\ncoc.nvim \n\n\n\n```vim\n\" scroll preview window\nif has('nvim-0.4.0') || has('patch-8.2.0750')\n    nnoremap <silent><nowait><expr> <C-]> coc#float#has_scroll() ? coc#float#scroll(1) : \"\\<C-]>\"\n    nnoremap <silent><nowait><expr> <C-[> coc#float#has_scroll() ? coc#float#scroll(0) : \"\\<C-[>\"\n    inoremap <silent><nowait><expr> <C-]> coc#float#has_scroll() ? \"\\<c-r>=coc#float#scroll(1)\\<cr>\" : \"\\<Right>\"\n    inoremap <silent><nowait><expr> <C-[> coc#float#has_scroll() ? \"\\<c-r>=coc#float#scroll(0)\\<cr>\" : \"\\<Left>\"\n    vnoremap <silent><nowait><expr> <C-]> coc#float#has_scroll() ? coc#float#scroll(1) : \"\\<C-]>\"\n    vnoremap <silent><nowait><expr> <C-[> coc#float#has_scroll() ? coc#float#scroll(0) : \"\\<C-[>\"\nendif\n```\n\n\n\n```vim\nnmap <silent><nowait> <space>gy <Plug>(coc-type-definition)\nnmap <silent><nowait> <space>gi <Plug>(coc-implementation)\nnmap <silent><nowait> <space>gr <Plug>(coc-references)\nnmap <silent><nowait> <space>gd <Plug>(coc-definition)\n```\n\n\n\n```vim\nnmap <silent><nowait> <space>cr <Plug>(coc-rename)\n```\n\n\n\n```vim\n\" jump to the next or previous error\nnmap <silent> ck <Plug>(coc-diagnostic-prev)\nnmap <silent> cj <Plug>(coc-diagnostic-next)\n```\n\n coc.nvim `vim-which-key`\n\n```vim\n\" coc.nvim\ninoremap <expr> <C-j> pumvisible() ? \"\\<C-n>\" : \"\\<C-j>\"\ninoremap <expr> <C-k> pumvisible() ? \"\\<C-p>\" : \"\\<C-k>\"\ninoremap <expr> <cr> pumvisible() ? \"\\<C-y>\" : \"\\<C-g>u\\<CR>\"\ninoremap <silent><expr> <cr> pumvisible() ? coc#_select_confirm() : \"\\<C-g>u\\<CR>\"\ninoremap <silent><expr> <cr> pumvisible() ? coc#_select_confirm() : \"\\<C-g>u\\<CR>\\<c-r>=coc#on_enter()\\<CR>\"\nautocmd! CompleteDone * if pumvisible() == 0 | pclose | endif\n\n\" Some servers have issues with backup files, see #649.\nset nobackup\nset nowritebackup\n\n\" Give more space for displaying messages.\nset cmdheight=2\n\n\" Having longer updatetime (default is 4000 ms = 4 s) leads to noticeable\n\" delays and poor user experience.\nset updatetime=300\n\n\" Don't pass messages to |ins-completion-menu|.\nset shortmess+=c\n\n\" scroll preview window\nif has('nvim-0.4.0') || has('patch-8.2.0750')\n    nnoremap <silent><nowait><expr> <C-]> coc#float#has_scroll() ? coc#float#scroll(1) : \"\\<C-]>\"\n    nnoremap <silent><nowait><expr> <C-[> coc#float#has_scroll() ? coc#float#scroll(0) : \"\\<C-[>\"\n    inoremap <silent><nowait><expr> <C-]> coc#float#has_scroll() ? \"\\<c-r>=coc#float#scroll(1)\\<cr>\" : \"\\<Right>\"\n    inoremap <silent><nowait><expr> <C-[> coc#float#has_scroll() ? \"\\<c-r>=coc#float#scroll(0)\\<cr>\" : \"\\<Left>\"\n    vnoremap <silent><nowait><expr> <C-]> coc#float#has_scroll() ? coc#float#scroll(1) : \"\\<C-]>\"\n    vnoremap <silent><nowait><expr> <C-[> coc#float#has_scroll() ? coc#float#scroll(0) : \"\\<C-[>\"\nendif\n\n\n\" Always show the signcolumn, otherwise it would shift the text each time\n\" diagnostics appear/become resolved.\nif has(\"patch-8.1.1564\")\n    Recently vim can merge signcolumn and number column into one\n    set signcolumn=number\nelse\n    set signcolumn=yes\nendif\n\n\" Use tab for trigger completion with characters ahead and navigate.\n\" NOTE: Use command ':verbose imap <tab>' to make sure tab is not mapped by\n\" other plugin before putting this into your config.\ninoremap <silent><expr> <TAB>\n    \\ pumvisible() ? \"\\<C-n>\" :\n    \\ <SID>check_back_space() ? \"\\<TAB>\" :\n    \\ coc#refresh()\ninoremap <expr><S-TAB> pumvisible() ? \"\\<C-p>\" : \"\\<C-h>\"\n\nfunction! s:check_back_space() abort\n    let col = col('.') - 1\n    return !col || getline('.')[col - 1]  =~# '\\s'\nendfunction\n\n\" Use <c-space> to trigger completion.\nif has('nvim')\n    inoremap <silent><expr> <c-space> coc#refresh()\nelse\n    inoremap <silent><expr> <c-@> coc#refresh()\nendif\n\n\" Use <cr> to confirm completion, `<C-g>u` means break undo chain at current\n\" position. Coc only does snippet and additional edit on confirm.\n\" <cr> could be remapped by other vim plugin, try `:verbose imap <CR>`.\nif exists('*complete_info')\n    inoremap <expr> <cr> complete_info()[\"selected\"] != \"-1\" ? \"\\<C-y>\" : \"\\<C-g>u\\<CR>\"\nelse\n    inoremap <expr> <cr> pumvisible() ? \"\\<C-y>\" : \"\\<C-g>u\\<CR>\"\nendif\n\n\" GoTo code navigation.\nnmap <silent><nowait> <space>gy <Plug>(coc-type-definition)\nnmap <silent><nowait> <space>gi <Plug>(coc-implementation)\nnmap <silent><nowait> <space>gr <Plug>(coc-references)\nnmap <silent><nowait> <space>gd <Plug>(coc-definition)\n\nlet g:which_key_map1.g = {\n    \\ 'name': '+coc.goto',\n    \\ 'y' : 'go to type definition',\n    \\ 'i' : 'go to implementation',\n    \\ 'r' : 'go to references',\n    \\ 'd' : 'go to definition',\n    \\ }\n\n\" Use K to show documentation in preview window.\nnnoremap <silent> K :call <SID>show_documentation()<CR>\n\nfunction! s:show_documentation()\n    if (index(['vim','help'], &filetype) >= 0)\n        execute 'h '.expand('<cword>')\n    else\n        call CocActionAsync('doHover')\n    endif\nendfunction\n\n\" Highlight the symbol and its references when holding the cursor.\nautocmd CursorHold * silent call CocActionAsync('highlight')\n\n\" Symbol renaming.\nnmap <silent><nowait> <space>cr <Plug>(coc-rename)\n\n\" Formatting selected code.\nnmap <silent><nowait> <space>cm <Plug>(coc-format-selected)\nxmap <silent><nowait> <space>cm <Plug>(coc-format-selected)\n\nlet g:which_key_map1.c = {\n    \\ 'name' : '+coc',\n    \\ 'f' : 'automatically fix errors in current line',\n    \\ 'm' : 'format selected code',\n    \\ 'r' : 'rename symbol',\n    \\ }\n\naugroup mygroup\n    autocmd!\n    \" Setup formatexpr specified filetype(s).\n    autocmd FileType typescript,json setl formatexpr=CocAction('formatSelected')\n    \" Update signature help on jump placeholder.\n    autocmd User CocJumpPlaceholder call CocActionAsync('showSignatureHelp')\naugroup end\n\n\" Apply AutoFix to problem on the current line.\nnmap <silent><nowait> <space>cf <Plug>(coc-fix-current)\n\n\" Add `:Format` command to format current buffer.\ncommand! -nargs=0 Format :call CocAction('format')\n\n\" Add `:Fold` command to fold current buffer.\ncommand! -nargs=? Fold :call     CocAction('fold', <f-args>)\n\n\" Add `:OR` command for organize imports of the current buffer.\ncommand! -nargs=0 OR   :call     CocAction('runCommand', 'editor.action.organizeImport')\n\n\" Add (Neo)Vim's native statusline support.\n\" NOTE: Please see `:h coc-status` for integrations with external plugins that\n\" provide custom statusline: lightline.vim, vim-airline.\nset statusline^=%{coc#status()}%{get(b:,'coc_current_function','')}\n\n\" jump to the next or previous error\nnmap <silent> ck <Plug>(coc-diagnostic-prev)\nnmap <silent> cj <Plug>(coc-diagnostic-next)\n\n\" Mappings for CoCList\n\" open CocList\nnnoremap <silent><nowait> <leader>ct  :<C-u>CocList<cr>\n\" Show all diagnostics.\nnnoremap <silent><nowait> <leader>ca  :<C-u>CocList diagnostics<cr>\n\" Manage extensions.\nnnoremap <silent><nowait> <leader>ce  :<C-u>CocList extensions<cr>\n\" Show commands.\nnnoremap <silent><nowait> <leader>cc  :<C-u>CocList commands<cr>\n\" Find symbol of current document.\nnnoremap <silent><nowait> <leader>co  :<C-u>CocList outline<cr>\n\" Search workspace symbols.\nnnoremap <silent><nowait> <leader>cs  :<C-u>CocList -I symbols<cr>\n\" Do default action for next item.\nnnoremap <silent><nowait> <leader>cj  :<C-u>CocNext<CR>\n\" Do default action for previous item.\nnnoremap <silent><nowait> <leader>cz  :<C-u>CocPrev<CR>\n\" Resume latest coc list.\nnnoremap <silent><nowait> <leader>cp  :<C-u>CocListResume<CR>\n\nlet g:which_key_map2.c = {\n    \\ 'name' : '+coc',\n    \\ 't' : 'open coc list',\n    \\ 'a' : 'show all diagnostics',\n    \\ 'e' : 'manage extensions',\n    \\ 'c' : 'show commands',\n    \\ 'o' : 'find symbol of current document',\n    \\ 's' : 'search workspace symbols',\n    \\ 'j' : 'do default action for next item',\n    \\ 'z' : 'do default action for previous item',\n    \\ 'p' : 'resume latest coc list',\n    \\ }\n```\n","slug":"vim-automatic-completion","published":1,"updated":"2021-06-22T15:02:16.034Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9da003ndbizdbyf349e","content":"<p> vim  coc.nvim  YCM</p>\n<h1 id=\"vim-\"><a href=\"#vim-\" class=\"headerlink\" title=\"vim \"></a>vim </h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> IDE  vim  IDE</p>\n<h2 id=\"coc-nvim-\"><a href=\"#coc-nvim-\" class=\"headerlink\" title=\"coc.nvim \"></a>coc.nvim </h2><p>coc.nvim  neovim  YCM</p>\n<p> coc.nvim  JS  vscode  coc.nvim</p>\n<h2 id=\"coc-nvim-\"><a href=\"#coc-nvim-\" class=\"headerlink\" title=\"coc.nvim \"></a>coc.nvim </h2><p>coc.nvim <code>nodejs</code><code>nodejs</code> coc.nvim <a href=\"https://github.com/neoclide/coc.nvim\">github </a></p>\n<h2 id=\"-coc-nvim-\"><a href=\"#-coc-nvim-\" class=\"headerlink\" title=\" coc.nvim \"></a> coc.nvim </h2><p>coc.nvim  lsp </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> rust <code>:CocInstall</code><code>coc-rust-analyzer</code><code>rust-analyzer</code><code>rust-analyzer</code> coc.nvim <code>:CocConfig</code></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"languageserver\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"rust\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token property\">\"command\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rust-analyzer\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"filetypes\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"rust\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"rootPatterns\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"Cargo.toml\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>command</code></p>\n<p> coc  lsp <a href=\"https://github.com/neoclide/coc.nvim/wiki\">coc.nvim wiki</a></p>\n<p>rust coc.nvim <code>main.rs</code><code>cargo new demo</code><code>Cargo.toml</code> markdown </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>coc-actions</code></p>\n<p><code>coc-snippets</code><code>coc-ultisnips</code><code>honza/vim-snippets</code><code>SirVer/ultisnips</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>coc.nvim  buffer lsp <a href=\"https://github.com/neoclide/coc.nvim/wiki/Create-custom-source\">coc.nvim wiki</a></p>\n<p> markdown  latex </p>\n<p><code>~/.config/nvim/autoload/coc/source</code> linux  wiki</p>\n<p><code>latex.vim</code></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token keyword\">function</span><span class=\"token operator\">!</span> coc#<span class=\"token keyword\">source</span>#latex#<span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> abort\n\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t\t\\<span class=\"token string\">'triggerCharacters'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'\\'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\\<span class=\"token string\">'filetypes'</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'markdown'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\\<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">endfunction</span>\n\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> coc#<span class=\"token keyword\">source</span>#latex#<span class=\"token function\">complete</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">opt</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">cb</span><span class=\"token punctuation\">)</span> abort\n\t<span class=\"token keyword\">let</span> items <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'kappa'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'theta'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'dot&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ddot&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bar&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'hat&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'exp'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sin'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'cos'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'tan'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sec'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'csc'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'vec&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'cot'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'arcsin'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'arccos'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'arctan'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sinh'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'cosh'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'tanh'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'coth'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sh'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ch'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'th'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'max'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'min'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'partial'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'nabla'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'prime'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'backprime'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'infty'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'eth'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'hbar'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sqrt&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sqrt[]&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'pm'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'mp'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'times'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'div'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'cdot'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'odot'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bigodot'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'&#123; \\&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'in'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'not'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ni'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'cap'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Cap'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bigcap'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'cup'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Cup'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bigcup'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'subset'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'supset'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'supseteq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'subseteq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'subseteqq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'supseteqq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'subsetneq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'supsetneq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'supsetneqq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'subsetneqq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sim'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'approx'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'leq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'geq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'parallel'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'nparallel'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'perp'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'angle'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Box'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bigtriangleup'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bigtriangledown'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'forall'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'therefore'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'because'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'overline&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Rightarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Leftarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'rightarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'leftarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'leftrightarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'nRightarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'nLeftarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'nleftarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'nrightarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'nleftrightarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'overleftarrow&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'overrightarrow&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'overset&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'underline&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sum'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'prod'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'lim'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'limits'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'int'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'iint'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'oint'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'iiint'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'frac&#123;&#125;&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'tfrac&#123;&#125;&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'dfrac&#123;&#125;&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\\begin&#123;matrix&#125;\\end&#123;matrix&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\\begin&#123;vmatrix&#125;\\end&#123;vmatrix&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\\begin&#123;bmatrix&#125;\\end&#123;bmatrix&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\\begin&#123;Bmatrix&#125;\\end&#123;Bmatrix&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\\begin&#123;pmatrix&#125;\\end&#123;pmatrix&#125;'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'\\begin&#123;cases&#125;\\end&#123;cases&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\\begin&#123;aligned&#125;\\end&#123;aligned&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\\begin&#123;array&#125;\\end&#123;array&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'alpha'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'psi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Delta'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'delta'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'beta'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'lambda'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'rho'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'varepsilon'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Gamma'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'chi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'mu'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sigma'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Lambda'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'tau'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'varphi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'varPhi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'phi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Phi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'eta'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'omega'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'varrho'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Pi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'pi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'gamma'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'xi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Psi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Sigma'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'varnothing'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'iiiint'</span><span class=\"token punctuation\">]</span>\n\t<span class=\"token keyword\">call</span> a<span class=\"token punctuation\">:</span><span class=\"token function\">cb</span><span class=\"token punctuation\">(</span>items<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">endfunction</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> wiki <code>triggerCharacters</code><code>filetypes</code> wiki</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> coc.nvim </p>\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" </span>\n<span class=\"token punctuation\">:</span><span class=\"token builtin\">syn</span> off\n<span class=\"token comment\">\" </span>\n<span class=\"token punctuation\">:</span><span class=\"token builtin\">syn</span> enable<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> Vim </p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\">au VimEnter <span class=\"token operator\">*</span> <span class=\"token punctuation\">:</span><span class=\"token builtin\">syn</span> off<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nau VimEnter <span class=\"token operator\">*</span> <span class=\"token punctuation\">:</span><span class=\"token builtin\">syn</span> enable<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>coc.nvim </p>\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" scroll preview window</span>\n<span class=\"token keyword\">if</span> <span class=\"token function\">has</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nvim-0.4.0'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token function\">has</span><span class=\"token punctuation\">(</span><span class=\"token string\">'patch-8.2.0750'</span><span class=\"token punctuation\">)</span>\n    nnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#float#<span class=\"token function\">scroll</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-]>\"</span>\n    nnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">[</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#float#<span class=\"token function\">scroll</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-[>\"</span>\n    inoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;c-r>=coc#float#scroll(1)\\&lt;cr>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;Right>\"</span>\n    inoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">[</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;c-r>=coc#float#scroll(0)\\&lt;cr>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;Left>\"</span>\n    vnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#float#<span class=\"token function\">scroll</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-]>\"</span>\n    vnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">[</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#float#<span class=\"token function\">scroll</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-[>\"</span>\n<span class=\"token keyword\">endif</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\">nmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>gy <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>type<span class=\"token operator\">-</span>definition<span class=\"token punctuation\">)</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>gi <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>implementation<span class=\"token punctuation\">)</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">gr</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>references<span class=\"token punctuation\">)</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token builtin\">gd</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>definition<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\">nmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">cr</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>rename<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" jump to the next or previous error</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> ck <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>diagnostic<span class=\"token operator\">-</span><span class=\"token keyword\">prev</span><span class=\"token punctuation\">)</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> cj <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>diagnostic<span class=\"token operator\">-</span><span class=\"token keyword\">next</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p> coc.nvim <code>vim-which-key</code></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" coc.nvim</span>\ninoremap <span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">j</span><span class=\"token operator\">></span> <span class=\"token function\">pumvisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;C-n>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-j>\"</span>\ninoremap <span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">k</span><span class=\"token operator\">></span> <span class=\"token function\">pumvisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;C-p>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-k>\"</span>\ninoremap <span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span> <span class=\"token function\">pumvisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;C-y>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-g>u\\&lt;CR>\"</span>\ninoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span> <span class=\"token function\">pumvisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#<span class=\"token function\">_select_confirm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-g>u\\&lt;CR>\"</span>\ninoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span> <span class=\"token function\">pumvisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#<span class=\"token function\">_select_confirm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-g>u\\&lt;CR>\\&lt;c-r>=coc#on_enter()\\&lt;CR>\"</span>\n<span class=\"token builtin\">autocmd</span><span class=\"token operator\">!</span> CompleteDone <span class=\"token operator\">*</span> <span class=\"token keyword\">if</span> <span class=\"token function\">pumvisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> | <span class=\"token keyword\">pclose</span> | <span class=\"token keyword\">endif</span>\n\n<span class=\"token comment\">\" Some servers have issues with backup files, see #649.</span>\n<span class=\"token keyword\">set</span> <span class=\"token builtin\">nobackup</span>\n<span class=\"token keyword\">set</span> <span class=\"token builtin\">nowritebackup</span>\n\n<span class=\"token comment\">\" Give more space for displaying messages.</span>\n<span class=\"token keyword\">set</span> <span class=\"token builtin\">cmdheight</span><span class=\"token operator\">=</span><span class=\"token number\">2</span>\n\n<span class=\"token comment\">\" Having longer updatetime (default is 4000 ms = 4 s) leads to noticeable</span>\n<span class=\"token comment\">\" delays and poor user experience.</span>\n<span class=\"token keyword\">set</span> <span class=\"token builtin\">updatetime</span><span class=\"token operator\">=</span><span class=\"token number\">300</span>\n\n<span class=\"token comment\">\" Don't pass messages to |ins-completion-menu|.</span>\n<span class=\"token keyword\">set</span> <span class=\"token builtin\">shortmess</span><span class=\"token operator\">+=</span><span class=\"token keyword\">c</span>\n\n<span class=\"token comment\">\" scroll preview window</span>\n<span class=\"token keyword\">if</span> <span class=\"token function\">has</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nvim-0.4.0'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token function\">has</span><span class=\"token punctuation\">(</span><span class=\"token string\">'patch-8.2.0750'</span><span class=\"token punctuation\">)</span>\n    nnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#float#<span class=\"token function\">scroll</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-]>\"</span>\n    nnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">[</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#float#<span class=\"token function\">scroll</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-[>\"</span>\n    inoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;c-r>=coc#float#scroll(1)\\&lt;cr>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;Right>\"</span>\n    inoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">[</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;c-r>=coc#float#scroll(0)\\&lt;cr>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;Left>\"</span>\n    vnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#float#<span class=\"token function\">scroll</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-]>\"</span>\n    vnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">[</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#float#<span class=\"token function\">scroll</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-[>\"</span>\n<span class=\"token keyword\">endif</span>\n\n\n<span class=\"token comment\">\" Always show the signcolumn, otherwise it would shift the text each time</span>\n<span class=\"token comment\">\" diagnostics appear/become resolved.</span>\n<span class=\"token keyword\">if</span> <span class=\"token function\">has</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"patch-8.1.1564\"</span><span class=\"token punctuation\">)</span>\n    Recently <span class=\"token keyword\">vim</span> can merge signcolumn and <span class=\"token keyword\">number</span> column into one\n    <span class=\"token keyword\">set</span> signcolumn<span class=\"token operator\">=</span><span class=\"token keyword\">number</span>\n<span class=\"token keyword\">else</span>\n    <span class=\"token keyword\">set</span> signcolumn<span class=\"token operator\">=</span>yes\n<span class=\"token keyword\">endif</span>\n\n<span class=\"token comment\">\" Use tab for trigger completion with characters ahead and navigate.</span>\n<span class=\"token comment\">\" NOTE: Use command </span><span class=\"token string\">':verbose imap &lt;tab>'</span> <span class=\"token keyword\">to</span> <span class=\"token keyword\">make</span> sure <span class=\"token keyword\">tab</span> <span class=\"token operator\">is</span> not mapped by\n<span class=\"token comment\">\" other plugin before putting this into your config.</span>\ninoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>TAB<span class=\"token operator\">></span>\n    \\ <span class=\"token function\">pumvisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;C-n>\"</span> <span class=\"token punctuation\">:</span>\n    \\ <span class=\"token operator\">&lt;</span>SID<span class=\"token operator\">></span><span class=\"token function\">check_back_space</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;TAB>\"</span> <span class=\"token punctuation\">:</span>\n    \\ coc#<span class=\"token function\">refresh</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ninoremap <span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>S<span class=\"token operator\">-</span>TAB<span class=\"token operator\">></span> <span class=\"token function\">pumvisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;C-p>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-h>\"</span>\n\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> s<span class=\"token punctuation\">:</span><span class=\"token function\">check_back_space</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> abort\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">col</span> <span class=\"token operator\">=</span> <span class=\"token function\">col</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">!</span><span class=\"token keyword\">col</span> <span class=\"token operator\">||</span> <span class=\"token function\">getline</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token keyword\">col</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span>  <span class=\"token operator\">=~#</span> <span class=\"token string\">'\\s'</span>\n<span class=\"token keyword\">endfunction</span>\n\n<span class=\"token comment\">\" Use &lt;c-space> to trigger completion.</span>\n<span class=\"token keyword\">if</span> <span class=\"token function\">has</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nvim'</span><span class=\"token punctuation\">)</span>\n    inoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">c</span><span class=\"token operator\">-</span>space<span class=\"token operator\">></span> coc#<span class=\"token function\">refresh</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">else</span>\n    inoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">c</span><span class=\"token operator\">-</span>@<span class=\"token operator\">></span> coc#<span class=\"token function\">refresh</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">endif</span>\n\n<span class=\"token comment\">\" Use &lt;cr> to confirm completion, `&lt;C-g>u` means break undo chain at current</span>\n<span class=\"token comment\">\" position. Coc only does snippet and additional edit on confirm.</span>\n<span class=\"token comment\">\" &lt;cr> could be remapped by other vim plugin, try `:verbose imap &lt;CR>`.</span>\n<span class=\"token keyword\">if</span> <span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token string\">'*complete_info'</span><span class=\"token punctuation\">)</span>\n    inoremap <span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span> <span class=\"token function\">complete_info</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"selected\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> <span class=\"token string\">\"-1\"</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;C-y>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-g>u\\&lt;CR>\"</span>\n<span class=\"token keyword\">else</span>\n    inoremap <span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span> <span class=\"token function\">pumvisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;C-y>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-g>u\\&lt;CR>\"</span>\n<span class=\"token keyword\">endif</span>\n\n<span class=\"token comment\">\" GoTo code navigation.</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>gy <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>type<span class=\"token operator\">-</span>definition<span class=\"token punctuation\">)</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>gi <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>implementation<span class=\"token punctuation\">)</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">gr</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>references<span class=\"token punctuation\">)</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token builtin\">gd</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>definition<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span>g <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    \\ <span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'+coc.goto'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'y'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'go to type definition'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'i'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'go to implementation'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'r'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'go to references'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'d'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'go to definition'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">\" Use K to show documentation in preview window.</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> K <span class=\"token punctuation\">:</span><span class=\"token keyword\">call</span> <span class=\"token operator\">&lt;</span>SID<span class=\"token operator\">></span><span class=\"token function\">show_documentation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> s<span class=\"token punctuation\">:</span><span class=\"token function\">show_documentation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">index</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'vim'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'help'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> &amp;<span class=\"token keyword\">filetype</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n        execute <span class=\"token string\">'h '</span><span class=\"token operator\">.</span><span class=\"token function\">expand</span><span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;cword>'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">else</span>\n        <span class=\"token keyword\">call</span> <span class=\"token function\">CocActionAsync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'doHover'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">endif</span>\n<span class=\"token keyword\">endfunction</span>\n\n<span class=\"token comment\">\" Highlight the symbol and its references when holding the cursor.</span>\n<span class=\"token builtin\">autocmd</span> CursorHold <span class=\"token operator\">*</span> <span class=\"token keyword\">silent</span> <span class=\"token keyword\">call</span> <span class=\"token function\">CocActionAsync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'highlight'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">\" Symbol renaming.</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">cr</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>rename<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">\" Formatting selected code.</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>cm <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>format<span class=\"token operator\">-</span>selected<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">xmap</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>cm <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>format<span class=\"token operator\">-</span>selected<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span><span class=\"token keyword\">c</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    \\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+coc'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'f'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'automatically fix errors in current line'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'m'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'format selected code'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'r'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'rename symbol'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token punctuation\">&#125;</span>\n\naugroup mygroup\n    <span class=\"token builtin\">autocmd</span><span class=\"token operator\">!</span>\n    <span class=\"token comment\">\" Setup formatexpr specified filetype(s).</span>\n    <span class=\"token builtin\">autocmd</span> FileType typescript<span class=\"token punctuation\">,</span>json <span class=\"token keyword\">setl</span> <span class=\"token builtin\">formatexpr</span><span class=\"token operator\">=</span><span class=\"token function\">CocAction</span><span class=\"token punctuation\">(</span><span class=\"token string\">'formatSelected'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">\" Update signature help on jump placeholder.</span>\n    <span class=\"token builtin\">autocmd</span> User CocJumpPlaceholder <span class=\"token keyword\">call</span> <span class=\"token function\">CocActionAsync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'showSignatureHelp'</span><span class=\"token punctuation\">)</span>\naugroup end\n\n<span class=\"token comment\">\" Apply AutoFix to problem on the current line.</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">cf</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span><span class=\"token keyword\">fix</span><span class=\"token operator\">-</span>current<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">\" Add `:Format` command to format current buffer.</span>\ncommand<span class=\"token operator\">!</span> <span class=\"token operator\">-</span>nargs<span class=\"token operator\">=</span><span class=\"token number\">0</span> Format <span class=\"token punctuation\">:</span><span class=\"token keyword\">call</span> <span class=\"token function\">CocAction</span><span class=\"token punctuation\">(</span><span class=\"token string\">'format'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">\" Add `:Fold` command to fold current buffer.</span>\ncommand<span class=\"token operator\">!</span> <span class=\"token operator\">-</span>nargs<span class=\"token operator\">=</span><span class=\"token operator\">?</span> Fold <span class=\"token punctuation\">:</span><span class=\"token keyword\">call</span>     <span class=\"token function\">CocAction</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fold'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">f</span><span class=\"token operator\">-</span><span class=\"token keyword\">args</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">\" Add `:OR` command for organize imports of the current buffer.</span>\ncommand<span class=\"token operator\">!</span> <span class=\"token operator\">-</span>nargs<span class=\"token operator\">=</span><span class=\"token number\">0</span> OR   <span class=\"token punctuation\">:</span><span class=\"token keyword\">call</span>     <span class=\"token function\">CocAction</span><span class=\"token punctuation\">(</span><span class=\"token string\">'runCommand'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'editor.action.organizeImport'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">\" Add (Neo)Vim's native statusline support.</span>\n<span class=\"token comment\">\" NOTE: Please see `:h coc-status` for integrations with external plugins that</span>\n<span class=\"token comment\">\" provide custom statusline: lightline.vim, vim-airline.</span>\n<span class=\"token keyword\">set</span> <span class=\"token builtin\">statusline</span>^<span class=\"token operator\">=</span><span class=\"token operator\">%</span><span class=\"token punctuation\">&#123;</span>coc#<span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span><span class=\"token operator\">%</span><span class=\"token punctuation\">&#123;</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">b</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token string\">'coc_current_function'</span><span class=\"token punctuation\">,</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">\" jump to the next or previous error</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> ck <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>diagnostic<span class=\"token operator\">-</span><span class=\"token keyword\">prev</span><span class=\"token punctuation\">)</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> cj <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>diagnostic<span class=\"token operator\">-</span><span class=\"token keyword\">next</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">\" Mappings for CoCList</span>\n<span class=\"token comment\">\" open CocList</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span>ct  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocList<span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span>\n<span class=\"token comment\">\" Show all diagnostics.</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span><span class=\"token keyword\">ca</span>  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocList diagnostics<span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span>\n<span class=\"token comment\">\" Manage extensions.</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span><span class=\"token keyword\">ce</span>  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocList extensions<span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span>\n<span class=\"token comment\">\" Show commands.</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span><span class=\"token keyword\">cc</span>  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocList commands<span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span>\n<span class=\"token comment\">\" Find symbol of current document.</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span><span class=\"token keyword\">co</span>  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocList outline<span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span>\n<span class=\"token comment\">\" Search workspace symbols.</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span>cs  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocList <span class=\"token operator\">-</span>I symbols<span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span>\n<span class=\"token comment\">\" Do default action for next item.</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span>cj  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocNext<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n<span class=\"token comment\">\" Do default action for previous item.</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span>cz  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocPrev<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n<span class=\"token comment\">\" Resume latest coc list.</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span><span class=\"token keyword\">cp</span>  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocListResume<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map2<span class=\"token operator\">.</span><span class=\"token keyword\">c</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    \\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+coc'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'t'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'open coc list'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'a'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'show all diagnostics'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'e'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'manage extensions'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'c'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'show commands'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'o'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'find symbol of current document'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'search workspace symbols'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'j'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'do default action for next item'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'z'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'do default action for previous item'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'p'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'resume latest coc list'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<p> vim  coc.nvim  YCM</p>\n<h1 id=\"vim-\"><a href=\"#vim-\" class=\"headerlink\" title=\"vim \"></a>vim </h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> IDE  vim  IDE</p>\n<h2 id=\"coc-nvim-\"><a href=\"#coc-nvim-\" class=\"headerlink\" title=\"coc.nvim \"></a>coc.nvim </h2><p>coc.nvim  neovim  YCM</p>\n<p> coc.nvim  JS  vscode  coc.nvim</p>\n<h2 id=\"coc-nvim-\"><a href=\"#coc-nvim-\" class=\"headerlink\" title=\"coc.nvim \"></a>coc.nvim </h2><p>coc.nvim <code>nodejs</code><code>nodejs</code> coc.nvim <a href=\"https://github.com/neoclide/coc.nvim\">github </a></p>\n<h2 id=\"-coc-nvim-\"><a href=\"#-coc-nvim-\" class=\"headerlink\" title=\" coc.nvim \"></a> coc.nvim </h2><p>coc.nvim  lsp </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> rust <code>:CocInstall</code><code>coc-rust-analyzer</code><code>rust-analyzer</code><code>rust-analyzer</code> coc.nvim <code>:CocConfig</code></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"languageserver\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"rust\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token property\">\"command\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rust-analyzer\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"filetypes\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"rust\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"rootPatterns\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"Cargo.toml\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>command</code></p>\n<p> coc  lsp <a href=\"https://github.com/neoclide/coc.nvim/wiki\">coc.nvim wiki</a></p>\n<p>rust coc.nvim <code>main.rs</code><code>cargo new demo</code><code>Cargo.toml</code> markdown </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>coc-actions</code></p>\n<p><code>coc-snippets</code><code>coc-ultisnips</code><code>honza/vim-snippets</code><code>SirVer/ultisnips</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>coc.nvim  buffer lsp <a href=\"https://github.com/neoclide/coc.nvim/wiki/Create-custom-source\">coc.nvim wiki</a></p>\n<p> markdown  latex </p>\n<p><code>~/.config/nvim/autoload/coc/source</code> linux  wiki</p>\n<p><code>latex.vim</code></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token keyword\">function</span><span class=\"token operator\">!</span> coc#<span class=\"token keyword\">source</span>#latex#<span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> abort\n\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t\t\\<span class=\"token string\">'triggerCharacters'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'\\'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\\<span class=\"token string\">'filetypes'</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'markdown'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\\<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">endfunction</span>\n\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> coc#<span class=\"token keyword\">source</span>#latex#<span class=\"token function\">complete</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">opt</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">cb</span><span class=\"token punctuation\">)</span> abort\n\t<span class=\"token keyword\">let</span> items <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'kappa'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'theta'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'dot&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ddot&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bar&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'hat&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'exp'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sin'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'cos'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'tan'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sec'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'csc'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'vec&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'cot'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'arcsin'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'arccos'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'arctan'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sinh'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'cosh'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'tanh'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'coth'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sh'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ch'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'th'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'max'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'min'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'partial'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'nabla'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'prime'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'backprime'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'infty'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'eth'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'hbar'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sqrt&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sqrt[]&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'pm'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'mp'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'times'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'div'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'cdot'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'odot'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bigodot'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'&#123; \\&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'in'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'not'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ni'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'cap'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Cap'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bigcap'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'cup'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Cup'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bigcup'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'subset'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'supset'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'supseteq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'subseteq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'subseteqq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'supseteqq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'subsetneq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'supsetneq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'supsetneqq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'subsetneqq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sim'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'approx'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'leq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'geq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'parallel'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'nparallel'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'perp'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'angle'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Box'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bigtriangleup'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bigtriangledown'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'forall'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'therefore'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'because'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'overline&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Rightarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Leftarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'rightarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'leftarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'leftrightarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'nRightarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'nLeftarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'nleftarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'nrightarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'nleftrightarrow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'overleftarrow&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'overrightarrow&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'overset&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'underline&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sum'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'prod'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'lim'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'limits'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'int'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'iint'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'oint'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'iiint'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'frac&#123;&#125;&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'tfrac&#123;&#125;&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'dfrac&#123;&#125;&#123;&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\\begin&#123;matrix&#125;\\end&#123;matrix&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\\begin&#123;vmatrix&#125;\\end&#123;vmatrix&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\\begin&#123;bmatrix&#125;\\end&#123;bmatrix&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\\begin&#123;Bmatrix&#125;\\end&#123;Bmatrix&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\\begin&#123;pmatrix&#125;\\end&#123;pmatrix&#125;'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'\\begin&#123;cases&#125;\\end&#123;cases&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\\begin&#123;aligned&#125;\\end&#123;aligned&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\\begin&#123;array&#125;\\end&#123;array&#125;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'alpha'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'psi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Delta'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'delta'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'beta'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'lambda'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'rho'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'varepsilon'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Gamma'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'chi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'mu'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sigma'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Lambda'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'tau'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'varphi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'varPhi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'phi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Phi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'eta'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'omega'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'varrho'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Pi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'pi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'gamma'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'xi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Psi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Sigma'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'varnothing'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'iiiint'</span><span class=\"token punctuation\">]</span>\n\t<span class=\"token keyword\">call</span> a<span class=\"token punctuation\">:</span><span class=\"token function\">cb</span><span class=\"token punctuation\">(</span>items<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">endfunction</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> wiki <code>triggerCharacters</code><code>filetypes</code> wiki</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> coc.nvim </p>\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" </span>\n<span class=\"token punctuation\">:</span><span class=\"token builtin\">syn</span> off\n<span class=\"token comment\">\" </span>\n<span class=\"token punctuation\">:</span><span class=\"token builtin\">syn</span> enable<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> Vim </p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\">au VimEnter <span class=\"token operator\">*</span> <span class=\"token punctuation\">:</span><span class=\"token builtin\">syn</span> off<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nau VimEnter <span class=\"token operator\">*</span> <span class=\"token punctuation\">:</span><span class=\"token builtin\">syn</span> enable<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>coc.nvim </p>\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" scroll preview window</span>\n<span class=\"token keyword\">if</span> <span class=\"token function\">has</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nvim-0.4.0'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token function\">has</span><span class=\"token punctuation\">(</span><span class=\"token string\">'patch-8.2.0750'</span><span class=\"token punctuation\">)</span>\n    nnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#float#<span class=\"token function\">scroll</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-]>\"</span>\n    nnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">[</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#float#<span class=\"token function\">scroll</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-[>\"</span>\n    inoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;c-r>=coc#float#scroll(1)\\&lt;cr>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;Right>\"</span>\n    inoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">[</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;c-r>=coc#float#scroll(0)\\&lt;cr>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;Left>\"</span>\n    vnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#float#<span class=\"token function\">scroll</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-]>\"</span>\n    vnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">[</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#float#<span class=\"token function\">scroll</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-[>\"</span>\n<span class=\"token keyword\">endif</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\">nmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>gy <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>type<span class=\"token operator\">-</span>definition<span class=\"token punctuation\">)</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>gi <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>implementation<span class=\"token punctuation\">)</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">gr</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>references<span class=\"token punctuation\">)</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token builtin\">gd</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>definition<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\">nmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">cr</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>rename<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" jump to the next or previous error</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> ck <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>diagnostic<span class=\"token operator\">-</span><span class=\"token keyword\">prev</span><span class=\"token punctuation\">)</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> cj <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>diagnostic<span class=\"token operator\">-</span><span class=\"token keyword\">next</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p> coc.nvim <code>vim-which-key</code></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" coc.nvim</span>\ninoremap <span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">j</span><span class=\"token operator\">></span> <span class=\"token function\">pumvisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;C-n>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-j>\"</span>\ninoremap <span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">k</span><span class=\"token operator\">></span> <span class=\"token function\">pumvisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;C-p>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-k>\"</span>\ninoremap <span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span> <span class=\"token function\">pumvisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;C-y>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-g>u\\&lt;CR>\"</span>\ninoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span> <span class=\"token function\">pumvisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#<span class=\"token function\">_select_confirm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-g>u\\&lt;CR>\"</span>\ninoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span> <span class=\"token function\">pumvisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#<span class=\"token function\">_select_confirm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-g>u\\&lt;CR>\\&lt;c-r>=coc#on_enter()\\&lt;CR>\"</span>\n<span class=\"token builtin\">autocmd</span><span class=\"token operator\">!</span> CompleteDone <span class=\"token operator\">*</span> <span class=\"token keyword\">if</span> <span class=\"token function\">pumvisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> | <span class=\"token keyword\">pclose</span> | <span class=\"token keyword\">endif</span>\n\n<span class=\"token comment\">\" Some servers have issues with backup files, see #649.</span>\n<span class=\"token keyword\">set</span> <span class=\"token builtin\">nobackup</span>\n<span class=\"token keyword\">set</span> <span class=\"token builtin\">nowritebackup</span>\n\n<span class=\"token comment\">\" Give more space for displaying messages.</span>\n<span class=\"token keyword\">set</span> <span class=\"token builtin\">cmdheight</span><span class=\"token operator\">=</span><span class=\"token number\">2</span>\n\n<span class=\"token comment\">\" Having longer updatetime (default is 4000 ms = 4 s) leads to noticeable</span>\n<span class=\"token comment\">\" delays and poor user experience.</span>\n<span class=\"token keyword\">set</span> <span class=\"token builtin\">updatetime</span><span class=\"token operator\">=</span><span class=\"token number\">300</span>\n\n<span class=\"token comment\">\" Don't pass messages to |ins-completion-menu|.</span>\n<span class=\"token keyword\">set</span> <span class=\"token builtin\">shortmess</span><span class=\"token operator\">+=</span><span class=\"token keyword\">c</span>\n\n<span class=\"token comment\">\" scroll preview window</span>\n<span class=\"token keyword\">if</span> <span class=\"token function\">has</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nvim-0.4.0'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token function\">has</span><span class=\"token punctuation\">(</span><span class=\"token string\">'patch-8.2.0750'</span><span class=\"token punctuation\">)</span>\n    nnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#float#<span class=\"token function\">scroll</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-]>\"</span>\n    nnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">[</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#float#<span class=\"token function\">scroll</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-[>\"</span>\n    inoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;c-r>=coc#float#scroll(1)\\&lt;cr>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;Right>\"</span>\n    inoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">[</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;c-r>=coc#float#scroll(0)\\&lt;cr>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;Left>\"</span>\n    vnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#float#<span class=\"token function\">scroll</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-]>\"</span>\n    vnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token punctuation\">[</span><span class=\"token operator\">></span> coc#float#<span class=\"token function\">has_scroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> coc#float#<span class=\"token function\">scroll</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-[>\"</span>\n<span class=\"token keyword\">endif</span>\n\n\n<span class=\"token comment\">\" Always show the signcolumn, otherwise it would shift the text each time</span>\n<span class=\"token comment\">\" diagnostics appear/become resolved.</span>\n<span class=\"token keyword\">if</span> <span class=\"token function\">has</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"patch-8.1.1564\"</span><span class=\"token punctuation\">)</span>\n    Recently <span class=\"token keyword\">vim</span> can merge signcolumn and <span class=\"token keyword\">number</span> column into one\n    <span class=\"token keyword\">set</span> signcolumn<span class=\"token operator\">=</span><span class=\"token keyword\">number</span>\n<span class=\"token keyword\">else</span>\n    <span class=\"token keyword\">set</span> signcolumn<span class=\"token operator\">=</span>yes\n<span class=\"token keyword\">endif</span>\n\n<span class=\"token comment\">\" Use tab for trigger completion with characters ahead and navigate.</span>\n<span class=\"token comment\">\" NOTE: Use command </span><span class=\"token string\">':verbose imap &lt;tab>'</span> <span class=\"token keyword\">to</span> <span class=\"token keyword\">make</span> sure <span class=\"token keyword\">tab</span> <span class=\"token operator\">is</span> not mapped by\n<span class=\"token comment\">\" other plugin before putting this into your config.</span>\ninoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>TAB<span class=\"token operator\">></span>\n    \\ <span class=\"token function\">pumvisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;C-n>\"</span> <span class=\"token punctuation\">:</span>\n    \\ <span class=\"token operator\">&lt;</span>SID<span class=\"token operator\">></span><span class=\"token function\">check_back_space</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;TAB>\"</span> <span class=\"token punctuation\">:</span>\n    \\ coc#<span class=\"token function\">refresh</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ninoremap <span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>S<span class=\"token operator\">-</span>TAB<span class=\"token operator\">></span> <span class=\"token function\">pumvisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;C-p>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-h>\"</span>\n\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> s<span class=\"token punctuation\">:</span><span class=\"token function\">check_back_space</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> abort\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">col</span> <span class=\"token operator\">=</span> <span class=\"token function\">col</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">!</span><span class=\"token keyword\">col</span> <span class=\"token operator\">||</span> <span class=\"token function\">getline</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token keyword\">col</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span>  <span class=\"token operator\">=~#</span> <span class=\"token string\">'\\s'</span>\n<span class=\"token keyword\">endfunction</span>\n\n<span class=\"token comment\">\" Use &lt;c-space> to trigger completion.</span>\n<span class=\"token keyword\">if</span> <span class=\"token function\">has</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nvim'</span><span class=\"token punctuation\">)</span>\n    inoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">c</span><span class=\"token operator\">-</span>space<span class=\"token operator\">></span> coc#<span class=\"token function\">refresh</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">else</span>\n    inoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">c</span><span class=\"token operator\">-</span>@<span class=\"token operator\">></span> coc#<span class=\"token function\">refresh</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">endif</span>\n\n<span class=\"token comment\">\" Use &lt;cr> to confirm completion, `&lt;C-g>u` means break undo chain at current</span>\n<span class=\"token comment\">\" position. Coc only does snippet and additional edit on confirm.</span>\n<span class=\"token comment\">\" &lt;cr> could be remapped by other vim plugin, try `:verbose imap &lt;CR>`.</span>\n<span class=\"token keyword\">if</span> <span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token string\">'*complete_info'</span><span class=\"token punctuation\">)</span>\n    inoremap <span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span> <span class=\"token function\">complete_info</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"selected\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> <span class=\"token string\">\"-1\"</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;C-y>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-g>u\\&lt;CR>\"</span>\n<span class=\"token keyword\">else</span>\n    inoremap <span class=\"token operator\">&lt;</span>expr<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span> <span class=\"token function\">pumvisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"\\&lt;C-y>\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\&lt;C-g>u\\&lt;CR>\"</span>\n<span class=\"token keyword\">endif</span>\n\n<span class=\"token comment\">\" GoTo code navigation.</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>gy <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>type<span class=\"token operator\">-</span>definition<span class=\"token punctuation\">)</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>gi <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>implementation<span class=\"token punctuation\">)</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">gr</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>references<span class=\"token punctuation\">)</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token builtin\">gd</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>definition<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span>g <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    \\ <span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'+coc.goto'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'y'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'go to type definition'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'i'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'go to implementation'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'r'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'go to references'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'d'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'go to definition'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">\" Use K to show documentation in preview window.</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> K <span class=\"token punctuation\">:</span><span class=\"token keyword\">call</span> <span class=\"token operator\">&lt;</span>SID<span class=\"token operator\">></span><span class=\"token function\">show_documentation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> s<span class=\"token punctuation\">:</span><span class=\"token function\">show_documentation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">index</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'vim'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'help'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> &amp;<span class=\"token keyword\">filetype</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n        execute <span class=\"token string\">'h '</span><span class=\"token operator\">.</span><span class=\"token function\">expand</span><span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;cword>'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">else</span>\n        <span class=\"token keyword\">call</span> <span class=\"token function\">CocActionAsync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'doHover'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">endif</span>\n<span class=\"token keyword\">endfunction</span>\n\n<span class=\"token comment\">\" Highlight the symbol and its references when holding the cursor.</span>\n<span class=\"token builtin\">autocmd</span> CursorHold <span class=\"token operator\">*</span> <span class=\"token keyword\">silent</span> <span class=\"token keyword\">call</span> <span class=\"token function\">CocActionAsync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'highlight'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">\" Symbol renaming.</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">cr</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>rename<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">\" Formatting selected code.</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>cm <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>format<span class=\"token operator\">-</span>selected<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">xmap</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>cm <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>format<span class=\"token operator\">-</span>selected<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span><span class=\"token keyword\">c</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    \\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+coc'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'f'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'automatically fix errors in current line'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'m'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'format selected code'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'r'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'rename symbol'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token punctuation\">&#125;</span>\n\naugroup mygroup\n    <span class=\"token builtin\">autocmd</span><span class=\"token operator\">!</span>\n    <span class=\"token comment\">\" Setup formatexpr specified filetype(s).</span>\n    <span class=\"token builtin\">autocmd</span> FileType typescript<span class=\"token punctuation\">,</span>json <span class=\"token keyword\">setl</span> <span class=\"token builtin\">formatexpr</span><span class=\"token operator\">=</span><span class=\"token function\">CocAction</span><span class=\"token punctuation\">(</span><span class=\"token string\">'formatSelected'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">\" Update signature help on jump placeholder.</span>\n    <span class=\"token builtin\">autocmd</span> User CocJumpPlaceholder <span class=\"token keyword\">call</span> <span class=\"token function\">CocActionAsync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'showSignatureHelp'</span><span class=\"token punctuation\">)</span>\naugroup end\n\n<span class=\"token comment\">\" Apply AutoFix to problem on the current line.</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">cf</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span><span class=\"token keyword\">fix</span><span class=\"token operator\">-</span>current<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">\" Add `:Format` command to format current buffer.</span>\ncommand<span class=\"token operator\">!</span> <span class=\"token operator\">-</span>nargs<span class=\"token operator\">=</span><span class=\"token number\">0</span> Format <span class=\"token punctuation\">:</span><span class=\"token keyword\">call</span> <span class=\"token function\">CocAction</span><span class=\"token punctuation\">(</span><span class=\"token string\">'format'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">\" Add `:Fold` command to fold current buffer.</span>\ncommand<span class=\"token operator\">!</span> <span class=\"token operator\">-</span>nargs<span class=\"token operator\">=</span><span class=\"token operator\">?</span> Fold <span class=\"token punctuation\">:</span><span class=\"token keyword\">call</span>     <span class=\"token function\">CocAction</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fold'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">f</span><span class=\"token operator\">-</span><span class=\"token keyword\">args</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">\" Add `:OR` command for organize imports of the current buffer.</span>\ncommand<span class=\"token operator\">!</span> <span class=\"token operator\">-</span>nargs<span class=\"token operator\">=</span><span class=\"token number\">0</span> OR   <span class=\"token punctuation\">:</span><span class=\"token keyword\">call</span>     <span class=\"token function\">CocAction</span><span class=\"token punctuation\">(</span><span class=\"token string\">'runCommand'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'editor.action.organizeImport'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">\" Add (Neo)Vim's native statusline support.</span>\n<span class=\"token comment\">\" NOTE: Please see `:h coc-status` for integrations with external plugins that</span>\n<span class=\"token comment\">\" provide custom statusline: lightline.vim, vim-airline.</span>\n<span class=\"token keyword\">set</span> <span class=\"token builtin\">statusline</span>^<span class=\"token operator\">=</span><span class=\"token operator\">%</span><span class=\"token punctuation\">&#123;</span>coc#<span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span><span class=\"token operator\">%</span><span class=\"token punctuation\">&#123;</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">b</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token string\">'coc_current_function'</span><span class=\"token punctuation\">,</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">\" jump to the next or previous error</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> ck <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>diagnostic<span class=\"token operator\">-</span><span class=\"token keyword\">prev</span><span class=\"token punctuation\">)</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> cj <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>diagnostic<span class=\"token operator\">-</span><span class=\"token keyword\">next</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">\" Mappings for CoCList</span>\n<span class=\"token comment\">\" open CocList</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span>ct  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocList<span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span>\n<span class=\"token comment\">\" Show all diagnostics.</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span><span class=\"token keyword\">ca</span>  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocList diagnostics<span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span>\n<span class=\"token comment\">\" Manage extensions.</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span><span class=\"token keyword\">ce</span>  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocList extensions<span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span>\n<span class=\"token comment\">\" Show commands.</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span><span class=\"token keyword\">cc</span>  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocList commands<span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span>\n<span class=\"token comment\">\" Find symbol of current document.</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span><span class=\"token keyword\">co</span>  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocList outline<span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span>\n<span class=\"token comment\">\" Search workspace symbols.</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span>cs  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocList <span class=\"token operator\">-</span>I symbols<span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span>\n<span class=\"token comment\">\" Do default action for next item.</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span>cj  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocNext<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n<span class=\"token comment\">\" Do default action for previous item.</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span>cz  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocPrev<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n<span class=\"token comment\">\" Resume latest coc list.</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span><span class=\"token keyword\">cp</span>  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocListResume<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map2<span class=\"token operator\">.</span><span class=\"token keyword\">c</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    \\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+coc'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'t'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'open coc list'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'a'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'show all diagnostics'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'e'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'manage extensions'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'c'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'show commands'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'o'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'find symbol of current document'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'search workspace symbols'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'j'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'do default action for next item'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'z'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'do default action for previous item'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token string\">'p'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'resume latest coc list'</span><span class=\"token punctuation\">,</span>\n    \\ <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Vim Clipboard History Plugin","date":"2021-03-23T08:46:32.000Z","_content":"\n# vim\n\n vim \n\n## \n\nvimer vim  vim \n\n\n\n## \n\n YankRing`<C-n>`\n\n`coc.nvim``coc-yank` coc \n\n```vim\n\" coc-yank\nnnoremap <silent> <space>p  :<C-u>CocList -A --normal yank<cr>\n```\n","source":"_posts/vim-clipboard-history-plugin.md","raw":"---\ntitle: Vim Clipboard History Plugin\ndate: 2021-03-23 16:46:32\ntags:\n  - Vim\ncategories:\n  - Vim\n---\n\n# vim\n\n vim \n\n## \n\nvimer vim  vim \n\n\n\n## \n\n YankRing`<C-n>`\n\n`coc.nvim``coc-yank` coc \n\n```vim\n\" coc-yank\nnnoremap <silent> <space>p  :<C-u>CocList -A --normal yank<cr>\n```\n","slug":"vim-clipboard-history-plugin","published":1,"updated":"2021-03-23T11:11:18.585Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9db003rdbizgml74il6","content":"<h1 id=\"vim\"><a href=\"#vim\" class=\"headerlink\" title=\"vim\"></a>vim</h1><p> vim </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>vimer vim  vim </p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> YankRing<code>&lt;C-n&gt;</code></p>\n<p><code>coc.nvim</code><code>coc-yank</code> coc </p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" coc-yank</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">p</span>  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocList <span class=\"token operator\">-</span>A <span class=\"token operator\">-</span><span class=\"token operator\">-</span>normal <span class=\"token keyword\">yank</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"vim\"><a href=\"#vim\" class=\"headerlink\" title=\"vim\"></a>vim</h1><p> vim </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>vimer vim  vim </p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> YankRing<code>&lt;C-n&gt;</code></p>\n<p><code>coc.nvim</code><code>coc-yank</code> coc </p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" coc-yank</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">p</span>  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>CocList <span class=\"token operator\">-</span>A <span class=\"token operator\">-</span><span class=\"token operator\">-</span>normal <span class=\"token keyword\">yank</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n"},{"title":"Vim Debugging Scheme","date":"2020-10-20T02:29:48.000Z","_content":"\n# vim \n\n vim  vimspector  IDE \n\n## \n\n- \n\n vim  gdblldb  vim tmux terminal  ui  vim \n\n- vimspector \n\n[github ](https://github.com/puremourning/vimspector) vimspector \n\n## vimspector \n\n\n\n`pack/x/opt``xxx/pack/x/opt``xxx``x` vim `set packpath= the_path_to_your_pack_directory``pack`\n\n## vimspector \n\n`:VimspectorInstall``:VimspectorInstall --enable-c``:VimspectorUpdate`\n\n\n\n`let g:vimspector_enable_mappings = 'HUMAN'``let g:vimspector_enable_mappings = 'VISUAL_STUDIO'`\n\n\n\n```vim\nnmap <silent><nowait><space>dn <Plug>VimspectorStepOver\nnmap <A-n> <Plug>VimspectorStepOver\nnmap <silent><nowait><space>db <Plug>VimspectorToggleBreakpoint\nnmap <A-b> <Plug>VimspectorToggleBreakpoint\nnmap <silent><nowait><space>ds <Plug>VimspectorContinue\nnmap <silent><nowait><space>dr <Plug>VimspectorRestart\nnmap <silent><nowait><space>dp <Plug>VimspectorPause\nnmap <silent><nowait><space>dt <Plug>VimspectorStop\nnmap <silent><nowait><space>df <Plug>VimspectorAddFunctionBreakpoint\nnmap <silent><nowait><space>dc <Plug>VimspectorToggleConditionalBreakpoint\nnmap <silent><nowait><space>do <Plug>VimspectorStepOut\nnmap <A-o> <Plug>VimspectorStepOut\nnmap <silent><nowait><space>di <Plug>VimspectorStepInto\nnmap <A-i> <Plug>VimspectorStepInto\nnmap <silent><nowait><space>dq <Plug>VimspectorReset<CR>\nnmap <silent><nowait><space>dlc <Plug>VimspectorShowOutput Console<CR>\nnmap <silent><nowait><space>dld <Plug>VimspectorShowOutput stderr<CR>\nnmap <silent><nowait><space>dlo <Plug>VimspectorShowOutput Vimspector-out<CR>\nnmap <silent><nowait><space>dle <Plug>VimspectorShowOutput Vimspector-err<CR>\nnmap <silent><nowait><space>dls <Plug>VimspectorShowOutput server<CR>\nnmap <silent><nowait><space>dlt <Plug>VimspectorShowOutput Telemetry<CR>\nnmap <silent><nowait><space>de :<C-u>VimspectorEval<space>\nnmap <silent><nowait><space>dw :<C-u>VimspectorWatch<space>\nnmap <A-w> :<C-u>VimspectorWatch<space>\n\nlet g:which_key_map1.d = {\n\t\t\t\\ 'name' : '+debug',\n\t\t\t\\ 'e' : 'eval',\n\t\t\t\\ 'w' : 'variable watch',\n\t\t\t\\ 's' : 'start or continue',\n\t\t\t\\ 't' : 'stop',\n\t\t\t\\ 'r' : 'restart',\n\t\t\t\\ 'p' : 'pause',\n\t\t\t\\ 'b' : 'set breakpoint',\n\t\t\t\\ 'c' : 'set condition breakpoint',\n\t\t\t\\ 'f' : 'add function breakpoint',\n\t\t\t\\ 'n' : 'next',\n\t\t\t\\ 'i' : 'step in',\n\t\t\t\\ 'o' : 'step out',\n\t\t\t\\ 'q' : 'quit',\n\t\t\t\\ 'l' :  {\n\t\t\t\\ 'name' : '+switch_output',\n\t\t\t\\ 'c' : 'Console',\n\t\t\t\\ 'd' : 'stderr',\n\t\t\t\\ 'o' : 'Vimspector-out',\n\t\t\t\\ 'e' : 'Vimspector-err',\n\t\t\t\\ 's' : 'server',\n\t\t\t\\ 't' : 'Telemetry',\n\t\t\t\\},\n\t\t\t\\}\n```\n\n vimspector  neovim neovim \n\n```vim\nnmap <silent><nowait><space>dlc <Plug>VimspectorShowOutput Console<CR>\nnmap <silent><nowait><space>dld <Plug>VimspectorShowOutput stderr<CR>\nnmap <silent><nowait><space>dlo <Plug>VimspectorShowOutput Vimspector-out<CR>\nnmap <silent><nowait><space>dle <Plug>VimspectorShowOutput Vimspector-err<CR>\nnmap <silent><nowait><space>dls <Plug>VimspectorShowOutput server<CR>\nnmap <silent><nowait><space>dlt <Plug>VimspectorShowOutput Telemetry<CR>\n```\n\n\n\n`.gadgets.json``.vimspector.json`\n\n`.vimspector.json`copy \n\n rust \n\n```json\n{\n  \"configurations\": {\n    \"launch\": {\n      \"adapter\": \"CodeLLDB\",\n      \"configuration\": {\n        \"request\": \"launch\",\n        \"program\": \"${workspaceRoot}/target/debug/vimspector_test\"\n      }\n    }\n  }\n}\n```\n\n`program`\n\n\n\n\n","source":"_posts/vim-debugging-scheme.md","raw":"---\ntitle: Vim Debugging Scheme\ndate: 2020-10-20 10:29:48\ntags:\n  - Vim\ncategories:\n  - Vim\n---\n\n# vim \n\n vim  vimspector  IDE \n\n## \n\n- \n\n vim  gdblldb  vim tmux terminal  ui  vim \n\n- vimspector \n\n[github ](https://github.com/puremourning/vimspector) vimspector \n\n## vimspector \n\n\n\n`pack/x/opt``xxx/pack/x/opt``xxx``x` vim `set packpath= the_path_to_your_pack_directory``pack`\n\n## vimspector \n\n`:VimspectorInstall``:VimspectorInstall --enable-c``:VimspectorUpdate`\n\n\n\n`let g:vimspector_enable_mappings = 'HUMAN'``let g:vimspector_enable_mappings = 'VISUAL_STUDIO'`\n\n\n\n```vim\nnmap <silent><nowait><space>dn <Plug>VimspectorStepOver\nnmap <A-n> <Plug>VimspectorStepOver\nnmap <silent><nowait><space>db <Plug>VimspectorToggleBreakpoint\nnmap <A-b> <Plug>VimspectorToggleBreakpoint\nnmap <silent><nowait><space>ds <Plug>VimspectorContinue\nnmap <silent><nowait><space>dr <Plug>VimspectorRestart\nnmap <silent><nowait><space>dp <Plug>VimspectorPause\nnmap <silent><nowait><space>dt <Plug>VimspectorStop\nnmap <silent><nowait><space>df <Plug>VimspectorAddFunctionBreakpoint\nnmap <silent><nowait><space>dc <Plug>VimspectorToggleConditionalBreakpoint\nnmap <silent><nowait><space>do <Plug>VimspectorStepOut\nnmap <A-o> <Plug>VimspectorStepOut\nnmap <silent><nowait><space>di <Plug>VimspectorStepInto\nnmap <A-i> <Plug>VimspectorStepInto\nnmap <silent><nowait><space>dq <Plug>VimspectorReset<CR>\nnmap <silent><nowait><space>dlc <Plug>VimspectorShowOutput Console<CR>\nnmap <silent><nowait><space>dld <Plug>VimspectorShowOutput stderr<CR>\nnmap <silent><nowait><space>dlo <Plug>VimspectorShowOutput Vimspector-out<CR>\nnmap <silent><nowait><space>dle <Plug>VimspectorShowOutput Vimspector-err<CR>\nnmap <silent><nowait><space>dls <Plug>VimspectorShowOutput server<CR>\nnmap <silent><nowait><space>dlt <Plug>VimspectorShowOutput Telemetry<CR>\nnmap <silent><nowait><space>de :<C-u>VimspectorEval<space>\nnmap <silent><nowait><space>dw :<C-u>VimspectorWatch<space>\nnmap <A-w> :<C-u>VimspectorWatch<space>\n\nlet g:which_key_map1.d = {\n\t\t\t\\ 'name' : '+debug',\n\t\t\t\\ 'e' : 'eval',\n\t\t\t\\ 'w' : 'variable watch',\n\t\t\t\\ 's' : 'start or continue',\n\t\t\t\\ 't' : 'stop',\n\t\t\t\\ 'r' : 'restart',\n\t\t\t\\ 'p' : 'pause',\n\t\t\t\\ 'b' : 'set breakpoint',\n\t\t\t\\ 'c' : 'set condition breakpoint',\n\t\t\t\\ 'f' : 'add function breakpoint',\n\t\t\t\\ 'n' : 'next',\n\t\t\t\\ 'i' : 'step in',\n\t\t\t\\ 'o' : 'step out',\n\t\t\t\\ 'q' : 'quit',\n\t\t\t\\ 'l' :  {\n\t\t\t\\ 'name' : '+switch_output',\n\t\t\t\\ 'c' : 'Console',\n\t\t\t\\ 'd' : 'stderr',\n\t\t\t\\ 'o' : 'Vimspector-out',\n\t\t\t\\ 'e' : 'Vimspector-err',\n\t\t\t\\ 's' : 'server',\n\t\t\t\\ 't' : 'Telemetry',\n\t\t\t\\},\n\t\t\t\\}\n```\n\n vimspector  neovim neovim \n\n```vim\nnmap <silent><nowait><space>dlc <Plug>VimspectorShowOutput Console<CR>\nnmap <silent><nowait><space>dld <Plug>VimspectorShowOutput stderr<CR>\nnmap <silent><nowait><space>dlo <Plug>VimspectorShowOutput Vimspector-out<CR>\nnmap <silent><nowait><space>dle <Plug>VimspectorShowOutput Vimspector-err<CR>\nnmap <silent><nowait><space>dls <Plug>VimspectorShowOutput server<CR>\nnmap <silent><nowait><space>dlt <Plug>VimspectorShowOutput Telemetry<CR>\n```\n\n\n\n`.gadgets.json``.vimspector.json`\n\n`.vimspector.json`copy \n\n rust \n\n```json\n{\n  \"configurations\": {\n    \"launch\": {\n      \"adapter\": \"CodeLLDB\",\n      \"configuration\": {\n        \"request\": \"launch\",\n        \"program\": \"${workspaceRoot}/target/debug/vimspector_test\"\n      }\n    }\n  }\n}\n```\n\n`program`\n\n\n\n\n","slug":"vim-debugging-scheme","published":1,"updated":"2021-03-23T11:11:18.585Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9dc003vdbiz5ot3592k","content":"<h1 id=\"vim-\"><a href=\"#vim-\" class=\"headerlink\" title=\"vim \"></a>vim </h1><p> vim  vimspector  IDE </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n</ul>\n<p> vim  gdblldb  vim tmux terminal  ui  vim </p>\n<ul>\n<li>vimspector </li>\n</ul>\n<p><a href=\"https://github.com/puremourning/vimspector\">github </a> vimspector </p>\n<h2 id=\"vimspector-\"><a href=\"#vimspector-\" class=\"headerlink\" title=\"vimspector \"></a>vimspector </h2><p></p>\n<p><code>pack/x/opt</code><code>xxx/pack/x/opt</code><code>xxx</code><code>x</code> vim <code>set packpath= the_path_to_your_pack_directory</code><code>pack</code></p>\n<h2 id=\"vimspector-\"><a href=\"#vimspector-\" class=\"headerlink\" title=\"vimspector \"></a>vimspector </h2><p><code>:VimspectorInstall</code><code>:VimspectorInstall --enable-c</code><code>:VimspectorUpdate</code></p>\n<p></p>\n<p><code>let g:vimspector_enable_mappings = &#39;HUMAN&#39;</code><code>let g:vimspector_enable_mappings = &#39;VISUAL_STUDIO&#39;</code></p>\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\">nmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dn <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorStepOver\nnmap <span class=\"token operator\">&lt;</span>A<span class=\"token operator\">-</span><span class=\"token keyword\">n</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorStepOver\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>db <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorToggleBreakpoint\nnmap <span class=\"token operator\">&lt;</span>A<span class=\"token operator\">-</span><span class=\"token keyword\">b</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorToggleBreakpoint\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">ds</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorContinue\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">dr</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorRestart\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dp <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorPause\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dt <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorStop\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>df <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorAddFunctionBreakpoint\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dc <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorToggleConditionalBreakpoint\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>do <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorStepOut\nnmap <span class=\"token operator\">&lt;</span>A<span class=\"token operator\">-</span><span class=\"token keyword\">o</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorStepOut\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">di</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorStepInto\nnmap <span class=\"token operator\">&lt;</span>A<span class=\"token operator\">-</span>i<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorStepInto\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dq <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorReset<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dlc <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput Console<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dld <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput stderr<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dlo <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput Vimspector<span class=\"token operator\">-</span>out<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dle <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput Vimspector<span class=\"token operator\">-</span>err<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dls <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput server<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dlt <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput Telemetry<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>de <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>VimspectorEval<span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dw <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>VimspectorWatch<span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span>A<span class=\"token operator\">-</span><span class=\"token keyword\">w</span><span class=\"token operator\">></span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>VimspectorWatch<span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span><span class=\"token keyword\">d</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t\\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+debug'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'e'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'eval'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'w'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'variable watch'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'start or continue'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'t'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'stop'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'r'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'restart'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'p'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'pause'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'b'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'set breakpoint'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'c'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'set condition breakpoint'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'f'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'add function breakpoint'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'n'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'next'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'i'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'step in'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'o'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'step out'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'q'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'quit'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'l'</span> <span class=\"token punctuation\">:</span>  <span class=\"token punctuation\">&#123;</span>\n\t\t\t\\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+switch_output'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'c'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Console'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'d'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'stderr'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'o'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Vimspector-out'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'e'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Vimspector-err'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'server'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'t'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Telemetry'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n\t\t\t\\<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> vimspector  neovim neovim </p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\">nmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dlc <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput Console<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dld <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput stderr<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dlo <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput Vimspector<span class=\"token operator\">-</span>out<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dle <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput Vimspector<span class=\"token operator\">-</span>err<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dls <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput server<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dlt <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput Telemetry<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p><code>.gadgets.json</code><code>.vimspector.json</code></p>\n<p><code>.vimspector.json</code>copy </p>\n<p> rust </p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"configurations\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"launch\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token property\">\"adapter\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"CodeLLDB\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"configuration\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token property\">\"request\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"launch\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"program\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"$&#123;workspaceRoot&#125;/target/debug/vimspector_test\"</span>\n      <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>program</code></p>\n<p></p>\n<p></p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"vim-\"><a href=\"#vim-\" class=\"headerlink\" title=\"vim \"></a>vim </h1><p> vim  vimspector  IDE </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n</ul>\n<p> vim  gdblldb  vim tmux terminal  ui  vim </p>\n<ul>\n<li>vimspector </li>\n</ul>\n<p><a href=\"https://github.com/puremourning/vimspector\">github </a> vimspector </p>\n<h2 id=\"vimspector-\"><a href=\"#vimspector-\" class=\"headerlink\" title=\"vimspector \"></a>vimspector </h2><p></p>\n<p><code>pack/x/opt</code><code>xxx/pack/x/opt</code><code>xxx</code><code>x</code> vim <code>set packpath= the_path_to_your_pack_directory</code><code>pack</code></p>\n<h2 id=\"vimspector-\"><a href=\"#vimspector-\" class=\"headerlink\" title=\"vimspector \"></a>vimspector </h2><p><code>:VimspectorInstall</code><code>:VimspectorInstall --enable-c</code><code>:VimspectorUpdate</code></p>\n<p></p>\n<p><code>let g:vimspector_enable_mappings = &#39;HUMAN&#39;</code><code>let g:vimspector_enable_mappings = &#39;VISUAL_STUDIO&#39;</code></p>\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\">nmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dn <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorStepOver\nnmap <span class=\"token operator\">&lt;</span>A<span class=\"token operator\">-</span><span class=\"token keyword\">n</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorStepOver\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>db <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorToggleBreakpoint\nnmap <span class=\"token operator\">&lt;</span>A<span class=\"token operator\">-</span><span class=\"token keyword\">b</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorToggleBreakpoint\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">ds</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorContinue\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">dr</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorRestart\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dp <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorPause\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dt <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorStop\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>df <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorAddFunctionBreakpoint\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dc <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorToggleConditionalBreakpoint\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>do <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorStepOut\nnmap <span class=\"token operator\">&lt;</span>A<span class=\"token operator\">-</span><span class=\"token keyword\">o</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorStepOut\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">di</span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorStepInto\nnmap <span class=\"token operator\">&lt;</span>A<span class=\"token operator\">-</span>i<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorStepInto\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dq <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorReset<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dlc <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput Console<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dld <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput stderr<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dlo <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput Vimspector<span class=\"token operator\">-</span>out<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dle <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput Vimspector<span class=\"token operator\">-</span>err<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dls <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput server<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dlt <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput Telemetry<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>de <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>VimspectorEval<span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dw <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>VimspectorWatch<span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span>A<span class=\"token operator\">-</span><span class=\"token keyword\">w</span><span class=\"token operator\">></span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>VimspectorWatch<span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span><span class=\"token keyword\">d</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t\\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+debug'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'e'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'eval'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'w'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'variable watch'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'start or continue'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'t'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'stop'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'r'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'restart'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'p'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'pause'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'b'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'set breakpoint'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'c'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'set condition breakpoint'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'f'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'add function breakpoint'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'n'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'next'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'i'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'step in'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'o'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'step out'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'q'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'quit'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'l'</span> <span class=\"token punctuation\">:</span>  <span class=\"token punctuation\">&#123;</span>\n\t\t\t\\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+switch_output'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'c'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Console'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'d'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'stderr'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'o'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Vimspector-out'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'e'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Vimspector-err'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'server'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'t'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Telemetry'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n\t\t\t\\<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> vimspector  neovim neovim </p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\">nmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dlc <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput Console<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dld <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput stderr<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dlo <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput Vimspector<span class=\"token operator\">-</span>out<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dle <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput Vimspector<span class=\"token operator\">-</span>err<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dls <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput server<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>dlt <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span>VimspectorShowOutput Telemetry<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p><code>.gadgets.json</code><code>.vimspector.json</code></p>\n<p><code>.vimspector.json</code>copy </p>\n<p> rust </p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"configurations\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"launch\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token property\">\"adapter\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"CodeLLDB\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"configuration\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token property\">\"request\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"launch\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"program\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"$&#123;workspaceRoot&#125;/target/debug/vimspector_test\"</span>\n      <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>program</code></p>\n<p></p>\n<p></p>\n"},{"title":"Vim File Encoding","date":"2021-04-18T08:10:41.000Z","_content":"\n# Vim \n\n vim \n\n## \n\nvim  utf-8 gbk  gb2312 \n\n vim \n\n`set fencs=utf-8,gbk,big5,cp936,gb18030,gb2312,utf-16` vim \n\n vim-clap  utf-8  utf-8 \n\n`:set fenc=utf8` utf-8 \n\n```vim\nnmap <silent><nowait> <leader>e :set fenc=utf8<CR>\n```\n\n shell  vim \n","source":"_posts/vim-file-encoding.md","raw":"---\ntitle: Vim File Encoding\ndate: 2021-04-18 16:10:41\ntags:\n  - Vim\ncategories:\n  - Vim\n---\n\n# Vim \n\n vim \n\n## \n\nvim  utf-8 gbk  gb2312 \n\n vim \n\n`set fencs=utf-8,gbk,big5,cp936,gb18030,gb2312,utf-16` vim \n\n vim-clap  utf-8  utf-8 \n\n`:set fenc=utf8` utf-8 \n\n```vim\nnmap <silent><nowait> <leader>e :set fenc=utf8<CR>\n```\n\n shell  vim \n","slug":"vim-file-encoding","published":1,"updated":"2021-04-18T08:21:20.464Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9de003zdbizhk60hses","content":"<h1 id=\"Vim-\"><a href=\"#Vim-\" class=\"headerlink\" title=\"Vim \"></a>Vim </h1><p> vim </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>vim  utf-8 gbk  gb2312 </p>\n<p> vim </p>\n<p><code>set fencs=utf-8,gbk,big5,cp936,gb18030,gb2312,utf-16</code> vim </p>\n<p> vim-clap  utf-8  utf-8 </p>\n<p><code>:set fenc=utf8</code> utf-8 </p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\">nmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span><span class=\"token keyword\">e</span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">set</span> <span class=\"token builtin\">fenc</span><span class=\"token operator\">=</span>utf8<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p> shell  vim </p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"Vim-\"><a href=\"#Vim-\" class=\"headerlink\" title=\"Vim \"></a>Vim </h1><p> vim </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>vim  utf-8 gbk  gb2312 </p>\n<p> vim </p>\n<p><code>set fencs=utf-8,gbk,big5,cp936,gb18030,gb2312,utf-16</code> vim </p>\n<p> vim-clap  utf-8  utf-8 </p>\n<p><code>:set fenc=utf8</code> utf-8 </p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\">nmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span><span class=\"token keyword\">e</span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">set</span> <span class=\"token builtin\">fenc</span><span class=\"token operator\">=</span>utf8<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p> shell  vim </p>\n"},{"title":"Vim File Tree","date":"2020-10-19T04:00:04.000Z","_content":"\n# Vim \n\n nerdtree  vim filetree \n\n## coc-explorer\n\ncoc-explorer  coc  coc.nvim nerdtreeicons\n\ncoc-explorer[github](https://github.com/weirongxu/coc-explorer)\n\n`CocInstall coc-explorer`\n\n```vim\n\" coc-explorer\nnnoremap <leader>p :CocCommand explorer<CR>\nlet which_key_map2.p ='file tree'\nfunction! s:coc_list_current_dir(args)\n\tlet node_info = CocAction('runCommand', 'explorer.getNodeInfo', 0)\n\texecute 'cd ' . fnamemodify(node_info['fullpath'], ':h')\n\texecute 'CocList ' . a:args\nendfunction\n\nfunction! s:init_explorer(bufnr)\n\tcall setbufvar(a:bufnr, '&winblend', 50)\nendfunction\n\nfunction! s:enter_explorer()\n\tif !exists('b:has_enter_coc_explorer') && &filetype == 'coc-explorer'\n\t\t\" more mappings\n\t\tnmap <buffer> <Leader>fg :call <SID>coc_list_current_dir('-I grep')<CR>\n\t\tnmap <buffer> <Leader>fG :call <SID>coc_list_current_dir('-I grep -regex')<CR>\n\t\tnmap <buffer> <C-p> :call <SID>coc_list_current_dir('files')<CR>\n\t\tlet b:has_enter_coc_explorer = v:true\n\tendif\n\t\" statusline\n\tsetl statusline=coc-explorer\nendfunction\n\naugroup CocExplorerCustom\n\tautocmd!\n\tautocmd BufEnter call <SID>enter_explorer()\naugroup END\n\n\" hook for explorer window initialized\nfunction! CocExplorerInited(filetype, bufnr)\n\t\" transparent\n\tcall setbufvar(a:bufnr, '&winblend', 10)\nendfunction\n```\n","source":"_posts/vim-file-tree.md","raw":"---\ntitle: Vim File Tree\ndate: 2020-10-19 12:00:04\ntags:\n  - Vim\ncategories:\n  - Vim\n---\n\n# Vim \n\n nerdtree  vim filetree \n\n## coc-explorer\n\ncoc-explorer  coc  coc.nvim nerdtreeicons\n\ncoc-explorer[github](https://github.com/weirongxu/coc-explorer)\n\n`CocInstall coc-explorer`\n\n```vim\n\" coc-explorer\nnnoremap <leader>p :CocCommand explorer<CR>\nlet which_key_map2.p ='file tree'\nfunction! s:coc_list_current_dir(args)\n\tlet node_info = CocAction('runCommand', 'explorer.getNodeInfo', 0)\n\texecute 'cd ' . fnamemodify(node_info['fullpath'], ':h')\n\texecute 'CocList ' . a:args\nendfunction\n\nfunction! s:init_explorer(bufnr)\n\tcall setbufvar(a:bufnr, '&winblend', 50)\nendfunction\n\nfunction! s:enter_explorer()\n\tif !exists('b:has_enter_coc_explorer') && &filetype == 'coc-explorer'\n\t\t\" more mappings\n\t\tnmap <buffer> <Leader>fg :call <SID>coc_list_current_dir('-I grep')<CR>\n\t\tnmap <buffer> <Leader>fG :call <SID>coc_list_current_dir('-I grep -regex')<CR>\n\t\tnmap <buffer> <C-p> :call <SID>coc_list_current_dir('files')<CR>\n\t\tlet b:has_enter_coc_explorer = v:true\n\tendif\n\t\" statusline\n\tsetl statusline=coc-explorer\nendfunction\n\naugroup CocExplorerCustom\n\tautocmd!\n\tautocmd BufEnter call <SID>enter_explorer()\naugroup END\n\n\" hook for explorer window initialized\nfunction! CocExplorerInited(filetype, bufnr)\n\t\" transparent\n\tcall setbufvar(a:bufnr, '&winblend', 10)\nendfunction\n```\n","slug":"vim-file-tree","published":1,"updated":"2021-03-23T11:11:18.585Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9dg0043dbiz881n4451","content":"<h1 id=\"Vim-\"><a href=\"#Vim-\" class=\"headerlink\" title=\"Vim \"></a>Vim </h1><p> nerdtree  vim filetree </p>\n<h2 id=\"coc-explorer\"><a href=\"#coc-explorer\" class=\"headerlink\" title=\"coc-explorer\"></a>coc-explorer</h2><p>coc-explorer  coc  coc.nvim nerdtreeicons</p>\n<p>coc-explorer<a href=\"https://github.com/weirongxu/coc-explorer\">github</a></p>\n<p><code>CocInstall coc-explorer</code></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" coc-explorer</span>\nnnoremap <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span><span class=\"token keyword\">p</span> <span class=\"token punctuation\">:</span>CocCommand explorer<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n<span class=\"token keyword\">let</span> which_key_map2<span class=\"token operator\">.</span><span class=\"token keyword\">p</span> <span class=\"token operator\">=</span><span class=\"token string\">'file tree'</span>\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> s<span class=\"token punctuation\">:</span><span class=\"token function\">coc_list_current_dir</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">args</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">let</span> node_info <span class=\"token operator\">=</span> <span class=\"token function\">CocAction</span><span class=\"token punctuation\">(</span><span class=\"token string\">'runCommand'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'explorer.getNodeInfo'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\texecute <span class=\"token string\">'cd '</span> <span class=\"token operator\">.</span> <span class=\"token function\">fnamemodify</span><span class=\"token punctuation\">(</span>node_info<span class=\"token punctuation\">[</span><span class=\"token string\">'fullpath'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">':h'</span><span class=\"token punctuation\">)</span>\n\texecute <span class=\"token string\">'CocList '</span> <span class=\"token operator\">.</span> a<span class=\"token punctuation\">:</span><span class=\"token keyword\">args</span>\n<span class=\"token keyword\">endfunction</span>\n\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> s<span class=\"token punctuation\">:</span><span class=\"token function\">init_explorer</span><span class=\"token punctuation\">(</span>bufnr<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">call</span> <span class=\"token function\">setbufvar</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">:</span>bufnr<span class=\"token punctuation\">,</span> <span class=\"token string\">'&amp;winblend'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">endfunction</span>\n\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> s<span class=\"token punctuation\">:</span><span class=\"token function\">enter_explorer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token operator\">!</span><span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token string\">'b:has_enter_coc_explorer'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> &amp;<span class=\"token keyword\">filetype</span> <span class=\"token operator\">==</span> <span class=\"token string\">'coc-explorer'</span>\n\t\t<span class=\"token comment\">\" more mappings</span>\n\t\tnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">buffer</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Leader<span class=\"token operator\">></span>fg <span class=\"token punctuation\">:</span><span class=\"token keyword\">call</span> <span class=\"token operator\">&lt;</span>SID<span class=\"token operator\">></span><span class=\"token function\">coc_list_current_dir</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-I grep'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\t\tnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">buffer</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Leader<span class=\"token operator\">></span>fG <span class=\"token punctuation\">:</span><span class=\"token keyword\">call</span> <span class=\"token operator\">&lt;</span>SID<span class=\"token operator\">></span><span class=\"token function\">coc_list_current_dir</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-I grep -regex'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\t\tnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">buffer</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">p</span><span class=\"token operator\">></span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">call</span> <span class=\"token operator\">&lt;</span>SID<span class=\"token operator\">></span><span class=\"token function\">coc_list_current_dir</span><span class=\"token punctuation\">(</span><span class=\"token string\">'files'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\t\t<span class=\"token keyword\">let</span> <span class=\"token keyword\">b</span><span class=\"token punctuation\">:</span>has_enter_coc_explorer <span class=\"token operator\">=</span> v<span class=\"token punctuation\">:</span>true\n\t<span class=\"token keyword\">endif</span>\n\t<span class=\"token comment\">\" statusline</span>\n\t<span class=\"token keyword\">setl</span> <span class=\"token builtin\">statusline</span><span class=\"token operator\">=</span>coc<span class=\"token operator\">-</span>explorer\n<span class=\"token keyword\">endfunction</span>\n\naugroup CocExplorerCustom\n\t<span class=\"token builtin\">autocmd</span><span class=\"token operator\">!</span>\n\t<span class=\"token builtin\">autocmd</span> BufEnter <span class=\"token keyword\">call</span> <span class=\"token operator\">&lt;</span>SID<span class=\"token operator\">></span><span class=\"token function\">enter_explorer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\naugroup END\n\n<span class=\"token comment\">\" hook for explorer window initialized</span>\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> <span class=\"token function\">CocExplorerInited</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">filetype</span><span class=\"token punctuation\">,</span> bufnr<span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">\" transparent</span>\n\t<span class=\"token keyword\">call</span> <span class=\"token function\">setbufvar</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">:</span>bufnr<span class=\"token punctuation\">,</span> <span class=\"token string\">'&amp;winblend'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">endfunction</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"Vim-\"><a href=\"#Vim-\" class=\"headerlink\" title=\"Vim \"></a>Vim </h1><p> nerdtree  vim filetree </p>\n<h2 id=\"coc-explorer\"><a href=\"#coc-explorer\" class=\"headerlink\" title=\"coc-explorer\"></a>coc-explorer</h2><p>coc-explorer  coc  coc.nvim nerdtreeicons</p>\n<p>coc-explorer<a href=\"https://github.com/weirongxu/coc-explorer\">github</a></p>\n<p><code>CocInstall coc-explorer</code></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" coc-explorer</span>\nnnoremap <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span><span class=\"token keyword\">p</span> <span class=\"token punctuation\">:</span>CocCommand explorer<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n<span class=\"token keyword\">let</span> which_key_map2<span class=\"token operator\">.</span><span class=\"token keyword\">p</span> <span class=\"token operator\">=</span><span class=\"token string\">'file tree'</span>\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> s<span class=\"token punctuation\">:</span><span class=\"token function\">coc_list_current_dir</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">args</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">let</span> node_info <span class=\"token operator\">=</span> <span class=\"token function\">CocAction</span><span class=\"token punctuation\">(</span><span class=\"token string\">'runCommand'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'explorer.getNodeInfo'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\texecute <span class=\"token string\">'cd '</span> <span class=\"token operator\">.</span> <span class=\"token function\">fnamemodify</span><span class=\"token punctuation\">(</span>node_info<span class=\"token punctuation\">[</span><span class=\"token string\">'fullpath'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">':h'</span><span class=\"token punctuation\">)</span>\n\texecute <span class=\"token string\">'CocList '</span> <span class=\"token operator\">.</span> a<span class=\"token punctuation\">:</span><span class=\"token keyword\">args</span>\n<span class=\"token keyword\">endfunction</span>\n\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> s<span class=\"token punctuation\">:</span><span class=\"token function\">init_explorer</span><span class=\"token punctuation\">(</span>bufnr<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">call</span> <span class=\"token function\">setbufvar</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">:</span>bufnr<span class=\"token punctuation\">,</span> <span class=\"token string\">'&amp;winblend'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">endfunction</span>\n\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> s<span class=\"token punctuation\">:</span><span class=\"token function\">enter_explorer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token operator\">!</span><span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token string\">'b:has_enter_coc_explorer'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> &amp;<span class=\"token keyword\">filetype</span> <span class=\"token operator\">==</span> <span class=\"token string\">'coc-explorer'</span>\n\t\t<span class=\"token comment\">\" more mappings</span>\n\t\tnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">buffer</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Leader<span class=\"token operator\">></span>fg <span class=\"token punctuation\">:</span><span class=\"token keyword\">call</span> <span class=\"token operator\">&lt;</span>SID<span class=\"token operator\">></span><span class=\"token function\">coc_list_current_dir</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-I grep'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\t\tnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">buffer</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Leader<span class=\"token operator\">></span>fG <span class=\"token punctuation\">:</span><span class=\"token keyword\">call</span> <span class=\"token operator\">&lt;</span>SID<span class=\"token operator\">></span><span class=\"token function\">coc_list_current_dir</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-I grep -regex'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\t\tnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">buffer</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">p</span><span class=\"token operator\">></span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">call</span> <span class=\"token operator\">&lt;</span>SID<span class=\"token operator\">></span><span class=\"token function\">coc_list_current_dir</span><span class=\"token punctuation\">(</span><span class=\"token string\">'files'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\t\t<span class=\"token keyword\">let</span> <span class=\"token keyword\">b</span><span class=\"token punctuation\">:</span>has_enter_coc_explorer <span class=\"token operator\">=</span> v<span class=\"token punctuation\">:</span>true\n\t<span class=\"token keyword\">endif</span>\n\t<span class=\"token comment\">\" statusline</span>\n\t<span class=\"token keyword\">setl</span> <span class=\"token builtin\">statusline</span><span class=\"token operator\">=</span>coc<span class=\"token operator\">-</span>explorer\n<span class=\"token keyword\">endfunction</span>\n\naugroup CocExplorerCustom\n\t<span class=\"token builtin\">autocmd</span><span class=\"token operator\">!</span>\n\t<span class=\"token builtin\">autocmd</span> BufEnter <span class=\"token keyword\">call</span> <span class=\"token operator\">&lt;</span>SID<span class=\"token operator\">></span><span class=\"token function\">enter_explorer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\naugroup END\n\n<span class=\"token comment\">\" hook for explorer window initialized</span>\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> <span class=\"token function\">CocExplorerInited</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">filetype</span><span class=\"token punctuation\">,</span> bufnr<span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">\" transparent</span>\n\t<span class=\"token keyword\">call</span> <span class=\"token function\">setbufvar</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">:</span>bufnr<span class=\"token punctuation\">,</span> <span class=\"token string\">'&amp;winblend'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">endfunction</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Vim Fuzzy Search Plugin","date":"2021-03-23T08:48:00.000Z","_content":"\n# vim \n\n vim  vim-clap coc.nvim  coc list\n\n## \n\nmarktagsvim bufferswindowsquickfix \n\n IDE  vscode  vim \n\nvim-clap [github ](https://github.com/liuchengxu/vim-clap)\n\n## vim-clap\n\nvim-clap  rust \n\n### vim-clap \n\n rust  rustup  rust  rust  rustup \n\n\n\n vim-plug `Plug 'liuchengxu/vim-clap', { 'do': { -> clap#installer#force_download() } }`vim-plug  rust \n\n### vim-clap \n\n\n\n`:Clap xxx``xxx`\n\n\n\n```vim\n\" vim-clap\nnnoremap <silent><nowait> <space>op  :<C-u>Clap<CR>\nnnoremap <silent><nowait> <space>ob  :<C-u>Clap buffers<CR>\nnnoremap <silent><nowait> <space>oc  :<C-u>Clap command<CR>\nnnoremap <silent><nowait> <space>oh  :<C-u>Clap history<CR>\nnnoremap <silent><nowait> <space>of  :<C-u>Clap files ++finder=rg --ignore --hidden --files<CR>\nnnoremap <silent><nowait> <space>oq  :<C-u>Clap quickfix<CR>\nnnoremap <silent><nowait> <space>oj  :<C-u>Clap jumps<CR>\nnnoremap <silent><nowait> <space>om  :<C-u>Clap marks<CR>\nnnoremap <silent><nowait> <space>ow  :<C-u>Clap windows<CR>\nnnoremap <silent><nowait> <space>ot  :<C-u>Clap tags<CR>\nnnoremap <silent><nowait> <space>os  :<C-u>Clap colors<CR>\nnnoremap <silent><nowait> <space>og :<C-u>Clap grep2<CR>\n\nlet g:which_key_map1.o = {\n\t\\ 'name' : '+clap',\n\t\\ 'p' : 'clap',\n\t\\ 'b' : 'buffers',\n\t\\ 'c' : 'command',\n\t\\ 'h' : 'file history',\n\t\\ 'f' : 'search file',\n\t\\ 'q' : 'quickfix list',\n\t\\ 'j' : 'jumps',\n\t\\ 'm' : 'marks',\n\t\\ 'w' : 'windows',\n\t\\ 't' : 'tags',\n\t\\ 's' : 'colors',\n\t\\ 'g' : 'find word',\n\t\\ }\n```\n\n## coc list\n\ncoc list  coc.nvim lsp coc \n","source":"_posts/vim-fuzzy-search-plugin.md","raw":"---\ntitle: Vim Fuzzy Search Plugin\ndate: 2021-03-23 16:48:00\ntags:\n  - Vim\ncategories:\n  - Vim\n---\n\n# vim \n\n vim  vim-clap coc.nvim  coc list\n\n## \n\nmarktagsvim bufferswindowsquickfix \n\n IDE  vscode  vim \n\nvim-clap [github ](https://github.com/liuchengxu/vim-clap)\n\n## vim-clap\n\nvim-clap  rust \n\n### vim-clap \n\n rust  rustup  rust  rust  rustup \n\n\n\n vim-plug `Plug 'liuchengxu/vim-clap', { 'do': { -> clap#installer#force_download() } }`vim-plug  rust \n\n### vim-clap \n\n\n\n`:Clap xxx``xxx`\n\n\n\n```vim\n\" vim-clap\nnnoremap <silent><nowait> <space>op  :<C-u>Clap<CR>\nnnoremap <silent><nowait> <space>ob  :<C-u>Clap buffers<CR>\nnnoremap <silent><nowait> <space>oc  :<C-u>Clap command<CR>\nnnoremap <silent><nowait> <space>oh  :<C-u>Clap history<CR>\nnnoremap <silent><nowait> <space>of  :<C-u>Clap files ++finder=rg --ignore --hidden --files<CR>\nnnoremap <silent><nowait> <space>oq  :<C-u>Clap quickfix<CR>\nnnoremap <silent><nowait> <space>oj  :<C-u>Clap jumps<CR>\nnnoremap <silent><nowait> <space>om  :<C-u>Clap marks<CR>\nnnoremap <silent><nowait> <space>ow  :<C-u>Clap windows<CR>\nnnoremap <silent><nowait> <space>ot  :<C-u>Clap tags<CR>\nnnoremap <silent><nowait> <space>os  :<C-u>Clap colors<CR>\nnnoremap <silent><nowait> <space>og :<C-u>Clap grep2<CR>\n\nlet g:which_key_map1.o = {\n\t\\ 'name' : '+clap',\n\t\\ 'p' : 'clap',\n\t\\ 'b' : 'buffers',\n\t\\ 'c' : 'command',\n\t\\ 'h' : 'file history',\n\t\\ 'f' : 'search file',\n\t\\ 'q' : 'quickfix list',\n\t\\ 'j' : 'jumps',\n\t\\ 'm' : 'marks',\n\t\\ 'w' : 'windows',\n\t\\ 't' : 'tags',\n\t\\ 's' : 'colors',\n\t\\ 'g' : 'find word',\n\t\\ }\n```\n\n## coc list\n\ncoc list  coc.nvim lsp coc \n","slug":"vim-fuzzy-search-plugin","published":1,"updated":"2021-03-23T11:59:51.648Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9dj0047dbizfn1tgzdn","content":"<h1 id=\"vim-\"><a href=\"#vim-\" class=\"headerlink\" title=\"vim \"></a>vim </h1><p> vim  vim-clap coc.nvim  coc list</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>marktagsvim bufferswindowsquickfix </p>\n<p> IDE  vscode  vim </p>\n<p>vim-clap <a href=\"https://github.com/liuchengxu/vim-clap\">github </a></p>\n<h2 id=\"vim-clap\"><a href=\"#vim-clap\" class=\"headerlink\" title=\"vim-clap\"></a>vim-clap</h2><p>vim-clap  rust </p>\n<h3 id=\"vim-clap-\"><a href=\"#vim-clap-\" class=\"headerlink\" title=\"vim-clap \"></a>vim-clap </h3><p> rust  rustup  rust  rust  rustup </p>\n<p></p>\n<p> vim-plug <code>Plug &#39;liuchengxu/vim-clap&#39;, &#123; &#39;do&#39;: &#123; -&gt; clap#installer#force_download() &#125; &#125;</code>vim-plug  rust </p>\n<h3 id=\"vim-clap-\"><a href=\"#vim-clap-\" class=\"headerlink\" title=\"vim-clap \"></a>vim-clap </h3><p></p>\n<p><code>:Clap xxx</code><code>xxx</code></p>\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" vim-clap</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>op  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>ob  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap <span class=\"token keyword\">buffers</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>oc  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap command<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>oh  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap <span class=\"token keyword\">history</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>of  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap <span class=\"token keyword\">files</span> <span class=\"token operator\">+</span><span class=\"token operator\">+</span>finder<span class=\"token operator\">=</span>rg <span class=\"token operator\">-</span><span class=\"token operator\">-</span>ignore <span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token builtin\">hidden</span> <span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token keyword\">files</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>oq  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap quickfix<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>oj  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap <span class=\"token keyword\">jumps</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>om  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap <span class=\"token keyword\">marks</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>ow  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap windows<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>ot  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap <span class=\"token keyword\">tags</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>os  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap colors<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>og <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap grep2<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span><span class=\"token keyword\">o</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n\t\\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+clap'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'p'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'clap'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'b'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'buffers'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'c'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'command'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'h'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'file history'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'f'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'search file'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'q'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'quickfix list'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'j'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'jumps'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'m'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'marks'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'w'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'windows'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'t'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'tags'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'colors'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'g'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'find word'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"coc-list\"><a href=\"#coc-list\" class=\"headerlink\" title=\"coc list\"></a>coc list</h2><p>coc list  coc.nvim lsp coc </p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"vim-\"><a href=\"#vim-\" class=\"headerlink\" title=\"vim \"></a>vim </h1><p> vim  vim-clap coc.nvim  coc list</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>marktagsvim bufferswindowsquickfix </p>\n<p> IDE  vscode  vim </p>\n<p>vim-clap <a href=\"https://github.com/liuchengxu/vim-clap\">github </a></p>\n<h2 id=\"vim-clap\"><a href=\"#vim-clap\" class=\"headerlink\" title=\"vim-clap\"></a>vim-clap</h2><p>vim-clap  rust </p>\n<h3 id=\"vim-clap-\"><a href=\"#vim-clap-\" class=\"headerlink\" title=\"vim-clap \"></a>vim-clap </h3><p> rust  rustup  rust  rust  rustup </p>\n<p></p>\n<p> vim-plug <code>Plug &#39;liuchengxu/vim-clap&#39;, &#123; &#39;do&#39;: &#123; -&gt; clap#installer#force_download() &#125; &#125;</code>vim-plug  rust </p>\n<h3 id=\"vim-clap-\"><a href=\"#vim-clap-\" class=\"headerlink\" title=\"vim-clap \"></a>vim-clap </h3><p></p>\n<p><code>:Clap xxx</code><code>xxx</code></p>\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" vim-clap</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>op  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>ob  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap <span class=\"token keyword\">buffers</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>oc  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap command<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>oh  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap <span class=\"token keyword\">history</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>of  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap <span class=\"token keyword\">files</span> <span class=\"token operator\">+</span><span class=\"token operator\">+</span>finder<span class=\"token operator\">=</span>rg <span class=\"token operator\">-</span><span class=\"token operator\">-</span>ignore <span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token builtin\">hidden</span> <span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token keyword\">files</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>oq  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap quickfix<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>oj  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap <span class=\"token keyword\">jumps</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>om  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap <span class=\"token keyword\">marks</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>ow  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap windows<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>ot  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap <span class=\"token keyword\">tags</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>os  <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap colors<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>og <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Clap grep2<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span><span class=\"token keyword\">o</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n\t\\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+clap'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'p'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'clap'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'b'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'buffers'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'c'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'command'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'h'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'file history'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'f'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'search file'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'q'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'quickfix list'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'j'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'jumps'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'m'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'marks'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'w'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'windows'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'t'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'tags'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'colors'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'g'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'find word'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"coc-list\"><a href=\"#coc-list\" class=\"headerlink\" title=\"coc list\"></a>coc list</h2><p>coc list  coc.nvim lsp coc </p>\n"},{"title":"Choose vim to edit markdown and latex files","date":"2020-08-04T04:41:30.000Z","_content":"\n#  vim  markdown  latex\n\n## \n\n### \n\n- arch linux\n- neovimcoc-actions  neovim vim\n- markdown  typoralatex  vimtex  MuPDF\n\n### \n\n vim  vscode + vim jetbrains  idewindows linux \n\n\n\n- linux  vim  windows mac os\n- windows  texlive  latex  latex linux \n- neovim  vim  vscode + vim \n-  latex  vscode \n- typora  markdown  vim  vscode  mp4 \n\n### \n\n- \n- \n- arch linux  arch arch wiki  manjaro \n- \n\n## vim \n\n### vim-plug\n\n[github ](https://github.com/junegunn/vim-plug)\n\n GFW \n\n#### \n\n plug.vim `~/.local/share/nvim/site/autoload` vim`~/.vim/autoload`\n\n#### \n\n`~/.config/nvim/init.vim`\n\n`Plug` vim  markdown  latex markdown  copy `begin`\n\n nnnsnippets snippets markdown latex \n\n github \n\n```\ncall plug#begin('~/.vim/plugged')\nPlug 'neoclide/coc.nvim', {'branch': 'release'}\nPlug 'preservim/nerdtree'\nPlug 'mcchrish/nnn.vim'\nPlug 'SirVer/ultisnips'\nPlug 'honza/vim-snippets'\nPlug 'vim-airline/vim-airline'\nPlug 'Chiel92/vim-autoformat'\nPlug 'plasticboy/vim-markdown'\nPlug 'mhinz/vim-startify'\nPlug 'lervag/vimtex'\ncall plug#end()\n```\n\n[coc.nvim wiki](https://github.com/neoclide/coc.nvim/wiki/Install-coc.nvim)`nodejs``yarn` arch linux \n\n[vim-autoformat](https://github.com/Chiel92/vim-autoformat) vim-autoformat  github `remark` for markdown `latexindent.pl` for latexarch  linux  aur  github `let g:formatterpath = ['/some/path/to/a/folder', '/home/superman/formatters']` markdown  latex `$\\frac{}{}$``$\\\\frac{}{}$``\\\\``\\`\n\n neovim`:PlugInstall`\n\n### vim \n\n`\" vim snippets##########################################` copy `coc.nvim` copy  markdown  latex\n\n```\nset relativenumber\nset number\n\n\" TextEdit might fail if hidden is not set.\nset hidden\n\n\" Some servers have issues with backup files, see #649.\nset nobackup\nset nowritebackup\n\n\" Give more space for displaying messages.\nset cmdheight=2\n\n\" Having longer updatetime (default is 4000 ms = 4 s) leads to noticeable\n\" delays and poor user experience.\nset updatetime=300\n\n\" Don't pass messages to |ins-completion-menu|.\nset shortmess+=c\n\n\" Always show the signcolumn, otherwise it would shift the text each time\n\" diagnostics appear/become resolved.\nset signcolumn=yes\n\n\" Use tab for trigger completion with characters ahead and navigate.\n\" NOTE: Use command ':verbose imap <tab>' to make sure tab is not mapped by\n\" other plugin before putting this into your config.\ninoremap <silent><expr> <TAB>\n\t\t\t\\ pumvisible() ? \"\\<C-n>\" :\n\t\t\t\\ <SID>check_back_space() ? \"\\<TAB>\" :\n\t\t\t\\ coc#refresh()\ninoremap <expr><S-TAB> pumvisible() ? \"\\<C-p>\" : \"\\<C-h>\"\n\nfunction! s:check_back_space() abort\n\tlet col = col('.') - 1\n\treturn !col || getline('.')[col - 1]  =~# '\\s'\nendfunction\n\n\" Use <c-space> to trigger completion.\ninoremap <silent><expr> <c-space> coc#refresh()\n\n\" Use <cr> to confirm completion, `<C-g>u` means break undo chain at current\n\" position. Coc only does snippet and additional edit on confirm.\n\" <cr> could be remapped by other vim plugin, try `:verbose imap <CR>`.\nif exists('*complete_info')\n\tinoremap <expr> <cr> complete_info()[\"selected\"] != \"-1\" ? \"\\<C-y>\" : \"\\<C-g>u\\<CR>\"\nelse\n\tinoremap <expr> <cr> pumvisible() ? \"\\<C-y>\" : \"\\<C-g>u\\<CR>\"\nendif\n\n\" Use `[g` and `]g` to navigate diagnostics\nnmap <silent> [g <Plug>(coc-diagnostic-prev)\nnmap <silent> ]g <Plug>(coc-diagnostic-next)\n\n\" GoTo code navigation.\nnmap <silent> gd <Plug>(coc-definition)\nnmap <silent> gy <Plug>(coc-type-definition)\nnmap <silent> gi <Plug>(coc-implementation)\nnmap <silent> gr <Plug>(coc-references)\n\n\" Use K to show documentation in preview window.\nnnoremap <silent> K :call <SID>show_documentation()<CR>\n\nfunction! s:show_documentation()\n\tif (index(['vim','help'], &filetype) >= 0)\n\t\texecute 'h '.expand('<cword>')\n\telse\n\t\tcall CocAction('doHover')\n\tendif\nendfunction\n\n\" Highlight the symbol and its references when holding the cursor.\nautocmd CursorHold * silent call CocActionAsync('highlight')\n\n\" Symbol renaming.\nnmap <leader>rn <Plug>(coc-rename)\n\n\" Formatting selected code.\nxmap <leader>f  <Plug>(coc-format-selected)\nnmap <leader>f  <Plug>(coc-format-selected)\n\naugroup mygroup\n\tautocmd!\n\t\" Setup formatexpr specified filetype(s).\n\tautocmd FileType typescript,json setl formatexpr=CocAction('formatSelected')\n\t\" Update signature help on jump placeholder.\n\tautocmd User CocJumpPlaceholder call CocActionAsync('showSignatureHelp')\naugroup end\n\n\" Applying codeAction to the selected region.\n\" Example: `<leader>aap` for current paragraph\nxmap <leader>a  <Plug>(coc-codeaction-selected)\nnmap <leader>a  <Plug>(coc-codeaction-selected)\n\n\" Remap keys for applying codeAction to the current line.\nnmap <leader>ac  <Plug>(coc-codeaction)\n\" Apply AutoFix to problem on the current line.\nnmap <leader>qf  <Plug>(coc-fix-current)\n\n\" Map function and class text objects\n\" NOTE: Requires 'textDocument.documentSymbol' support from the language server.\nxmap if <Plug>(coc-funcobj-i)\nomap if <Plug>(coc-funcobj-i)\nxmap af <Plug>(coc-funcobj-a)\nomap af <Plug>(coc-funcobj-a)\nxmap ic <Plug>(coc-classobj-i)\nomap ic <Plug>(coc-classobj-i)\nxmap ac <Plug>(coc-classobj-a)\nomap ac <Plug>(coc-classobj-a)\n\n\" Use CTRL-S for selections ranges.\n\" Requires 'textDocument/selectionRange' support of LS, ex: coc-tsserver\nnmap <silent> <C-s> <Plug>(coc-range-select)\nxmap <silent> <C-s> <Plug>(coc-range-select)\n\n\" Add `:Format` command to format current buffer.\ncommand! -nargs=0 Format :call CocAction('format')\n\n\" Add `:Fold` command to fold current buffer.\ncommand! -nargs=? Fold :call     CocAction('fold', <f-args>)\n\n\" Add `:OR` command for organize imports of the current buffer.\ncommand! -nargs=0 OR   :call     CocAction('runCommand', 'editor.action.organizeImport')\n\n\" Add (Neo)Vim's native statusline support.\n\" NOTE: Please see `:h coc-status` for integrations with external plugins that\n\" provide custom statusline: lightline.vim, vim-airline.\nset statusline^=%{coc#status()}%{get(b:,'coc_current_function','')}\n\n\" Mappings using CoCList:\n\" Show all diagnostics.\nnnoremap <silent> <space>a  :<C-u>CocList diagnostics<cr>\n\" Manage extensions.\nnnoremap <silent> <space>e  :<C-u>CocList extensions<cr>\n\" Show commands.\nnnoremap <silent> <space>c  :<C-u>CocList commands<cr>\n\" Find symbol of current document.\nnnoremap <silent> <space>o  :<C-u>CocList outline<cr>\n\" Search workspace symbols.\nnnoremap <silent> <space>s  :<C-u>CocList -I symbols<cr>\n\" Do default action for next item.\nnnoremap <silent> <space>j  :<C-u>CocNext<CR>\n\" Do default action for previous item.\nnnoremap <silent> <space>k  :<C-u>CocPrev<CR>\n\" Resume latest coc list.\nnnoremap <silent> <space>p  :<C-u>CocListResume<CR>\n\n\" vim snippets##########################################\nlet g:UltiSnipsExpandTrigger=\"<tab>\"\nlet g:UltiSnipsJumpForwardTrigger=\"<c-b>\"\nlet g:UltiSnipsJumpBackwardTrigger=\"<c-z>\"\n\n\" autoformat##########################################\nnoremap <C-L> :Autoformat<CR>\n\n\" nerdtree##########################################\nmap <C-p> :NERDTreeToggle<CR>\n\n\" vimtex##########################################\nlet g:vimtex_view_general_viewer = 'mupdf'\nlet g:vimtex_view_general_options_latexmk = '-reuse-instance'\nlet g:vimtex_view_general_options\n\\ = '-reuse-instance -forward-search @tex @line @pdf'\n\\ . ' -inverse-search \"' . exepath(v:progpath)\n\\ . ' --servername ' . v:servername\n\\ . ' --remote-send \\\"^<C-\\^>^<C-n^>'\n\\ . ':execute ''drop '' . fnameescape(''\\%f'')^<CR^>'\n\\ . ':\\%l^<CR^>:normal\\! zzzv^<CR^>'\n\\ . ':call remote_foreground('''.v:servername.''')^<CR^>^<CR^>\\\"\"'\n\nset conceallevel=1\nlet g:tex_conceal='abdmg'\n\" Prevent that vim detect a file with the tex suffix as a plaintex\nlet g:tex_flavor='latex'\n\" Set the viewer method\nlet g:vimtex_view_method='mupdf'\n\" Never opened/closed the quickfix window automatically. The quickfix window shows the errors and/or warnings when compile, and we can open the quickfix windows use \\le\nlet g:vimtex_quickfix_mode=0\n\" ,LaTeX\nset conceallevel=1\n\nlet &t_SI.=\"\\e[5 q\" \"SI = INSERT mode\nlet &t_SR.=\"\\e[4 q\" \"SR = REPLACE mode\nlet &t_EI.=\"\\e[1 q\" \"EI = NORMAL mode (ELSE)\n\ninoremap <C-c> <esc>\n```\n\n`ctrl + l``coc.nvim``ctrl + n``ctrl + p`\n\n### \n\n\n\n fcitx fcitx4  fcitx5 \n\n[ fcitx.vim](https://www.vim.org/scripts/script.php?script_id=3764)\n\n plugin  so `~/.config/nvim` vim`~/.vim`\n\n`inoremap <C-c> <esc>``ctrl + c``esc``ctrl + c` vimer\n\n`ctrl + c`\n\n neovim  neovim \n\n###  python \n\ncoc.nvim  python  fcitx.vim  python  vim  fcitx.py  neovim `autoformat` Python \n\n`pip``python-vim``neovim``python3 -m pip install pynvim`\n\n gentoo pip  python --usr  python `emerge dev-python/pynvim`\n\n neovim  Python3 neovim `let g:python3_host_prog=/path/to/python/executable/`\n\n### coc.nvim \n\n[coc extensions](https://github.com/neoclide/coc.nvim/wiki/Using-coc-extensions) markdown  latex `:CocInstall`\n\n`coc-snippets``coc-actions` snippets \n\n[coc language servers](https://github.com/neoclide/coc.nvim/wiki/Language-servers) markdown  latex\n\n`:CocConfig` coc  json`{}` copy \n\n`efm-langserver``digestif`arch  aur  go GOROOT  arch `/usr/lib/go``/usr/local/go`go  GOROOT `go module``go get`[go ](https://blog.csdn.net/weixin_44690437/article/details/103571558)`go get`\n\n`coc-settings.json`copy `command`\n\n```\n{\n          languageserver : {\n                   digestif : {\n                          command :  /bin/digestif ,\n                          filetypes : [ tex ,  plaintex ,  context ]\n                 },\n                  efm : {\n                          command :  /bin/efm-langserver ,\n                         args : [ -c ,  /home/yourUsername/.config/efm-langserver/config.yaml ],\n                          filetypes : [ vim ,  eruby ,  markdown ]\n                 }\n        },\n          suggest.noselect : false\n }\n\n```\n\n## markdown\n\nmarkdown .md `nvim test.md``img``coc.nvim``snippets`\n\nmarkdown  latex `coc.nvim`[ sources](https://github.com/neoclide/coc.nvim/wiki/Create-custom-source)`~/.config/nvim/autoload/coc/source``latex.vim`\n\n```\nfunction! coc#source#latex#init() abort\n\treturn {\n\t\t\t\t\\ 'triggerCharacters': ['\\'],\n\t\t\t\t\\'filetype':['markdown']\n\t\t\t\t\\}\nendfunction\n\nfunction! coc#source#latex#complete(opt, cb) abort\n\tlet items = ['dot{}', 'ddot{}', 'bar{}', 'hat{}', 'exp', 'sin', 'cos', 'tan', 'sec', 'csc', 'vec{}', 'cot', 'arcsin', 'arccos', 'arctan', 'sinh', 'cosh', 'tanh', 'coth', 'sh', 'ch', 'th', 'max', 'min', 'partial', 'nabla', 'prime', 'backprime', 'infty', 'eth', 'hbar', 'sqrt{}', 'sqrt[]{}', 'pm', 'mp', 'times', 'div', 'cdot', 'odot', 'bigodot' , '{ \\}', 'in', 'not', 'ni', 'cap', 'Cap', 'bigcap', 'cup', 'Cup', 'bigcup', 'subset', 'supset', 'supseteq', 'subseteq', 'subseteqq', 'supseteqq', 'subsetneq', 'supsetneq', 'supsetneqq', 'subsetneqq', 'sim', 'approx', 'leq', 'geq', 'parallel', 'nparallel', 'perp', 'angle', 'Box', 'bigtriangleup', 'bigtriangledown', 'forall', 'therefore', 'because', 'overline{}', 'Rightarrow', 'Leftarrow', 'rightarrow', 'leftarrow', 'leftrightarrow', 'nRightarrow', 'nLeftarrow', 'nleftarrow', 'nrightarrow', 'nleftrightarrow', 'overleftarrow{}', 'overrightarrow{}', 'overset{}', 'underline{}', 'sum', 'prod', 'lim', 'limits', 'int', 'iint', 'oint', 'iiint', 'frac{}{}', 'tfrac{}{}', 'dfrac{}{}', '\\begin{matrix}\\end{matrix}', '\\begin{vmatrix}\\end{vmatrix}', '\\begin{bmatrix}\\end{bmatrix}', '\\begin{Bmatrix}\\end{Bmatrix}', '\\begin{pmatrix}\\end{pmatrix}','\\begin{cases}\\end{cases}', '\\begin{aligned}\\end{aligned}', '\\begin{array}\\end{array}', 'alpha', 'psi', 'Delta', 'delta', 'beta', 'lambda', 'rho', 'varepsilon', 'Gamma', 'chi', 'mu', 'sigma', 'Lambda', 'tau', 'varphi', 'varPhi', 'phi', 'Phi', 'eta', 'omega', 'varrho', 'Pi', 'pi', 'gamma', 'xi', 'Psi', 'Sigma', 'varnothing', 'iiiint']\n\tcall a:cb(items)\nendfunction\n```\n\n source  github source  markdown `\\`\n\nmarkdown \n\n## latex\n\n latex  texlive\n\n[arch wiki](<https://wiki.archlinux.org/index.php/TeX_Live_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)>)\n\n linux [Deepin Linux  LaTex ](https://zhuanlan.zhihu.com/p/40053417)[Ubuntu18.04  LaTeX ](https://blog.csdn.net/qq_41814939/article/details/82288145) texlive-full  3  arch wiki  arch  gentoo ~~ gentoo  linux  gentoo \n\n MuPDF[github](https://github.com/lervag/vimtex)\n\n`nvim test.tex`\n\n```\n\\documentclass{article}\n\\begin{document}\nworld!\n\\end{document}\n```\n\n`\\ll``\\lv``hello world`\n\n## \n\n- linux  FastStone  KolourPaint  GIMP Pinta\n- markdown  html  mp4  gif \n-  vim  markdown markdown  snippets\n-  i3i3  i3 markdown  latex\n-  WSL \n\n## \n\n###  markdown \n\n#### Excuberant Ctags\n\n`Excuberant Ctags`debian  redhat arch \n\n[Excuberant Ctags ](http://ctags.sourceforge.net/)GFW  ctags-5.8csdn \n\ncd `./configure``make && sudo make install`[ Exuberant Ctags  Tag List ](https://blog.csdn.net/dream2009gd/article/details/44102227)\n\n#### easytags\n\n`vim-plug`\n\n```\nPlug 'xolox/vim-misc'\nPlug 'xolox/vim-easytags'\n```\n\n#### [tagbar](https://github.com/majutsushi/tagbar)\n\n```\nPlug 'majutsushi/tagbar'\n```\n\n github\n\n#### markdown2ctags\n\n```\nPlug 'jszakmeister/markdown2ctags'\n```\n\n#### \n\n```\n\" tagbar#####################################\nnmap <C-M> :TagbarToggle<CR>\n\n\" markdown2ctags#####################################\nlet g:tagbar_type_markdown = {\n    \\ 'ctagstype': 'markdown',\n    \\ 'ctagsbin' : '/home/yourUsername/.vim/plugged/markdown2ctags/markdown2ctags.py',\n    \\ 'ctagsargs' : '-f - --sort=yes --sro=',\n    \\ 'kinds' : [\n        \\ 's:sections',\n        \\ 'i:images'\n    \\ ],\n    \\ 'sro' : '',\n    \\ 'kind2scope' : {\n        \\ 's' : 'section',\n    \\ },\n    \\ 'sort': 0,\n\\ }\n```\n\n tagbar `ctrl + m``markdown2ctags``markdown2ctags.py``:set filetype` markdown  markdown`ctagstype`\n\n### [neoformat](https://github.com/sbdchd/neoformat)\n\n#### \n\n```\nPlug 'sbdchd/neoformat'\n```\n\n#### \n\n##### [prettier](https://github.com/prettier/prettier) for markdown\n\n remark \n\narch  aur [install prettier](https://prettier.io/docs/en/install.html)\n\n##### [latexindent.pl](https://github.com/cmhughes/latexindent.pl) for latex\n\n clone \n\n`perl``sudo cpan`\n\n`cpan`\n\n```\ninstall Log::Log4perl\ninstall Log::Dispatch::File\ninstall YAML::Tiny\ninstall File::HomeDir\n```\n\n GFW \n\n latexindent.pl  sh `cd youPathToLatexindent.pl && ./latexindent.pl``/bin``/usr/bin`\n\n#### \n\n`init.vim`\n\n```\nlet g:neoformat_latex_latexindent ={'exe':'latexindent','args':[],'stdin':1}\nlet g:neoformat_enabled_latex=['latexindent']\n```\n\n prettier  markdown [vim-prettier](https://github.com/prettier/vim-prettier)`prettier --wirte pathToYourFile`\n\n\n\n```\nnnoremap <C-l> :Neoformat<CR>\nautocmd FileType markdown nnoremap <buffer> <C-l> :Prettier<CR>\n```\n","source":"_posts/vim-markdown-latex.md","raw":"---\ntitle: Choose vim to edit markdown and latex files\ndate: 2020-08-04 12:41:30\ntags:\n- Vim\n- Latex\n- Markdown\ncategories: \n- Vim \n---\n\n#  vim  markdown  latex\n\n## \n\n### \n\n- arch linux\n- neovimcoc-actions  neovim vim\n- markdown  typoralatex  vimtex  MuPDF\n\n### \n\n vim  vscode + vim jetbrains  idewindows linux \n\n\n\n- linux  vim  windows mac os\n- windows  texlive  latex  latex linux \n- neovim  vim  vscode + vim \n-  latex  vscode \n- typora  markdown  vim  vscode  mp4 \n\n### \n\n- \n- \n- arch linux  arch arch wiki  manjaro \n- \n\n## vim \n\n### vim-plug\n\n[github ](https://github.com/junegunn/vim-plug)\n\n GFW \n\n#### \n\n plug.vim `~/.local/share/nvim/site/autoload` vim`~/.vim/autoload`\n\n#### \n\n`~/.config/nvim/init.vim`\n\n`Plug` vim  markdown  latex markdown  copy `begin`\n\n nnnsnippets snippets markdown latex \n\n github \n\n```\ncall plug#begin('~/.vim/plugged')\nPlug 'neoclide/coc.nvim', {'branch': 'release'}\nPlug 'preservim/nerdtree'\nPlug 'mcchrish/nnn.vim'\nPlug 'SirVer/ultisnips'\nPlug 'honza/vim-snippets'\nPlug 'vim-airline/vim-airline'\nPlug 'Chiel92/vim-autoformat'\nPlug 'plasticboy/vim-markdown'\nPlug 'mhinz/vim-startify'\nPlug 'lervag/vimtex'\ncall plug#end()\n```\n\n[coc.nvim wiki](https://github.com/neoclide/coc.nvim/wiki/Install-coc.nvim)`nodejs``yarn` arch linux \n\n[vim-autoformat](https://github.com/Chiel92/vim-autoformat) vim-autoformat  github `remark` for markdown `latexindent.pl` for latexarch  linux  aur  github `let g:formatterpath = ['/some/path/to/a/folder', '/home/superman/formatters']` markdown  latex `$\\frac{}{}$``$\\\\frac{}{}$``\\\\``\\`\n\n neovim`:PlugInstall`\n\n### vim \n\n`\" vim snippets##########################################` copy `coc.nvim` copy  markdown  latex\n\n```\nset relativenumber\nset number\n\n\" TextEdit might fail if hidden is not set.\nset hidden\n\n\" Some servers have issues with backup files, see #649.\nset nobackup\nset nowritebackup\n\n\" Give more space for displaying messages.\nset cmdheight=2\n\n\" Having longer updatetime (default is 4000 ms = 4 s) leads to noticeable\n\" delays and poor user experience.\nset updatetime=300\n\n\" Don't pass messages to |ins-completion-menu|.\nset shortmess+=c\n\n\" Always show the signcolumn, otherwise it would shift the text each time\n\" diagnostics appear/become resolved.\nset signcolumn=yes\n\n\" Use tab for trigger completion with characters ahead and navigate.\n\" NOTE: Use command ':verbose imap <tab>' to make sure tab is not mapped by\n\" other plugin before putting this into your config.\ninoremap <silent><expr> <TAB>\n\t\t\t\\ pumvisible() ? \"\\<C-n>\" :\n\t\t\t\\ <SID>check_back_space() ? \"\\<TAB>\" :\n\t\t\t\\ coc#refresh()\ninoremap <expr><S-TAB> pumvisible() ? \"\\<C-p>\" : \"\\<C-h>\"\n\nfunction! s:check_back_space() abort\n\tlet col = col('.') - 1\n\treturn !col || getline('.')[col - 1]  =~# '\\s'\nendfunction\n\n\" Use <c-space> to trigger completion.\ninoremap <silent><expr> <c-space> coc#refresh()\n\n\" Use <cr> to confirm completion, `<C-g>u` means break undo chain at current\n\" position. Coc only does snippet and additional edit on confirm.\n\" <cr> could be remapped by other vim plugin, try `:verbose imap <CR>`.\nif exists('*complete_info')\n\tinoremap <expr> <cr> complete_info()[\"selected\"] != \"-1\" ? \"\\<C-y>\" : \"\\<C-g>u\\<CR>\"\nelse\n\tinoremap <expr> <cr> pumvisible() ? \"\\<C-y>\" : \"\\<C-g>u\\<CR>\"\nendif\n\n\" Use `[g` and `]g` to navigate diagnostics\nnmap <silent> [g <Plug>(coc-diagnostic-prev)\nnmap <silent> ]g <Plug>(coc-diagnostic-next)\n\n\" GoTo code navigation.\nnmap <silent> gd <Plug>(coc-definition)\nnmap <silent> gy <Plug>(coc-type-definition)\nnmap <silent> gi <Plug>(coc-implementation)\nnmap <silent> gr <Plug>(coc-references)\n\n\" Use K to show documentation in preview window.\nnnoremap <silent> K :call <SID>show_documentation()<CR>\n\nfunction! s:show_documentation()\n\tif (index(['vim','help'], &filetype) >= 0)\n\t\texecute 'h '.expand('<cword>')\n\telse\n\t\tcall CocAction('doHover')\n\tendif\nendfunction\n\n\" Highlight the symbol and its references when holding the cursor.\nautocmd CursorHold * silent call CocActionAsync('highlight')\n\n\" Symbol renaming.\nnmap <leader>rn <Plug>(coc-rename)\n\n\" Formatting selected code.\nxmap <leader>f  <Plug>(coc-format-selected)\nnmap <leader>f  <Plug>(coc-format-selected)\n\naugroup mygroup\n\tautocmd!\n\t\" Setup formatexpr specified filetype(s).\n\tautocmd FileType typescript,json setl formatexpr=CocAction('formatSelected')\n\t\" Update signature help on jump placeholder.\n\tautocmd User CocJumpPlaceholder call CocActionAsync('showSignatureHelp')\naugroup end\n\n\" Applying codeAction to the selected region.\n\" Example: `<leader>aap` for current paragraph\nxmap <leader>a  <Plug>(coc-codeaction-selected)\nnmap <leader>a  <Plug>(coc-codeaction-selected)\n\n\" Remap keys for applying codeAction to the current line.\nnmap <leader>ac  <Plug>(coc-codeaction)\n\" Apply AutoFix to problem on the current line.\nnmap <leader>qf  <Plug>(coc-fix-current)\n\n\" Map function and class text objects\n\" NOTE: Requires 'textDocument.documentSymbol' support from the language server.\nxmap if <Plug>(coc-funcobj-i)\nomap if <Plug>(coc-funcobj-i)\nxmap af <Plug>(coc-funcobj-a)\nomap af <Plug>(coc-funcobj-a)\nxmap ic <Plug>(coc-classobj-i)\nomap ic <Plug>(coc-classobj-i)\nxmap ac <Plug>(coc-classobj-a)\nomap ac <Plug>(coc-classobj-a)\n\n\" Use CTRL-S for selections ranges.\n\" Requires 'textDocument/selectionRange' support of LS, ex: coc-tsserver\nnmap <silent> <C-s> <Plug>(coc-range-select)\nxmap <silent> <C-s> <Plug>(coc-range-select)\n\n\" Add `:Format` command to format current buffer.\ncommand! -nargs=0 Format :call CocAction('format')\n\n\" Add `:Fold` command to fold current buffer.\ncommand! -nargs=? Fold :call     CocAction('fold', <f-args>)\n\n\" Add `:OR` command for organize imports of the current buffer.\ncommand! -nargs=0 OR   :call     CocAction('runCommand', 'editor.action.organizeImport')\n\n\" Add (Neo)Vim's native statusline support.\n\" NOTE: Please see `:h coc-status` for integrations with external plugins that\n\" provide custom statusline: lightline.vim, vim-airline.\nset statusline^=%{coc#status()}%{get(b:,'coc_current_function','')}\n\n\" Mappings using CoCList:\n\" Show all diagnostics.\nnnoremap <silent> <space>a  :<C-u>CocList diagnostics<cr>\n\" Manage extensions.\nnnoremap <silent> <space>e  :<C-u>CocList extensions<cr>\n\" Show commands.\nnnoremap <silent> <space>c  :<C-u>CocList commands<cr>\n\" Find symbol of current document.\nnnoremap <silent> <space>o  :<C-u>CocList outline<cr>\n\" Search workspace symbols.\nnnoremap <silent> <space>s  :<C-u>CocList -I symbols<cr>\n\" Do default action for next item.\nnnoremap <silent> <space>j  :<C-u>CocNext<CR>\n\" Do default action for previous item.\nnnoremap <silent> <space>k  :<C-u>CocPrev<CR>\n\" Resume latest coc list.\nnnoremap <silent> <space>p  :<C-u>CocListResume<CR>\n\n\" vim snippets##########################################\nlet g:UltiSnipsExpandTrigger=\"<tab>\"\nlet g:UltiSnipsJumpForwardTrigger=\"<c-b>\"\nlet g:UltiSnipsJumpBackwardTrigger=\"<c-z>\"\n\n\" autoformat##########################################\nnoremap <C-L> :Autoformat<CR>\n\n\" nerdtree##########################################\nmap <C-p> :NERDTreeToggle<CR>\n\n\" vimtex##########################################\nlet g:vimtex_view_general_viewer = 'mupdf'\nlet g:vimtex_view_general_options_latexmk = '-reuse-instance'\nlet g:vimtex_view_general_options\n\\ = '-reuse-instance -forward-search @tex @line @pdf'\n\\ . ' -inverse-search \"' . exepath(v:progpath)\n\\ . ' --servername ' . v:servername\n\\ . ' --remote-send \\\"^<C-\\^>^<C-n^>'\n\\ . ':execute ''drop '' . fnameescape(''\\%f'')^<CR^>'\n\\ . ':\\%l^<CR^>:normal\\! zzzv^<CR^>'\n\\ . ':call remote_foreground('''.v:servername.''')^<CR^>^<CR^>\\\"\"'\n\nset conceallevel=1\nlet g:tex_conceal='abdmg'\n\" Prevent that vim detect a file with the tex suffix as a plaintex\nlet g:tex_flavor='latex'\n\" Set the viewer method\nlet g:vimtex_view_method='mupdf'\n\" Never opened/closed the quickfix window automatically. The quickfix window shows the errors and/or warnings when compile, and we can open the quickfix windows use \\le\nlet g:vimtex_quickfix_mode=0\n\" ,LaTeX\nset conceallevel=1\n\nlet &t_SI.=\"\\e[5 q\" \"SI = INSERT mode\nlet &t_SR.=\"\\e[4 q\" \"SR = REPLACE mode\nlet &t_EI.=\"\\e[1 q\" \"EI = NORMAL mode (ELSE)\n\ninoremap <C-c> <esc>\n```\n\n`ctrl + l``coc.nvim``ctrl + n``ctrl + p`\n\n### \n\n\n\n fcitx fcitx4  fcitx5 \n\n[ fcitx.vim](https://www.vim.org/scripts/script.php?script_id=3764)\n\n plugin  so `~/.config/nvim` vim`~/.vim`\n\n`inoremap <C-c> <esc>``ctrl + c``esc``ctrl + c` vimer\n\n`ctrl + c`\n\n neovim  neovim \n\n###  python \n\ncoc.nvim  python  fcitx.vim  python  vim  fcitx.py  neovim `autoformat` Python \n\n`pip``python-vim``neovim``python3 -m pip install pynvim`\n\n gentoo pip  python --usr  python `emerge dev-python/pynvim`\n\n neovim  Python3 neovim `let g:python3_host_prog=/path/to/python/executable/`\n\n### coc.nvim \n\n[coc extensions](https://github.com/neoclide/coc.nvim/wiki/Using-coc-extensions) markdown  latex `:CocInstall`\n\n`coc-snippets``coc-actions` snippets \n\n[coc language servers](https://github.com/neoclide/coc.nvim/wiki/Language-servers) markdown  latex\n\n`:CocConfig` coc  json`{}` copy \n\n`efm-langserver``digestif`arch  aur  go GOROOT  arch `/usr/lib/go``/usr/local/go`go  GOROOT `go module``go get`[go ](https://blog.csdn.net/weixin_44690437/article/details/103571558)`go get`\n\n`coc-settings.json`copy `command`\n\n```\n{\n          languageserver : {\n                   digestif : {\n                          command :  /bin/digestif ,\n                          filetypes : [ tex ,  plaintex ,  context ]\n                 },\n                  efm : {\n                          command :  /bin/efm-langserver ,\n                         args : [ -c ,  /home/yourUsername/.config/efm-langserver/config.yaml ],\n                          filetypes : [ vim ,  eruby ,  markdown ]\n                 }\n        },\n          suggest.noselect : false\n }\n\n```\n\n## markdown\n\nmarkdown .md `nvim test.md``img``coc.nvim``snippets`\n\nmarkdown  latex `coc.nvim`[ sources](https://github.com/neoclide/coc.nvim/wiki/Create-custom-source)`~/.config/nvim/autoload/coc/source``latex.vim`\n\n```\nfunction! coc#source#latex#init() abort\n\treturn {\n\t\t\t\t\\ 'triggerCharacters': ['\\'],\n\t\t\t\t\\'filetype':['markdown']\n\t\t\t\t\\}\nendfunction\n\nfunction! coc#source#latex#complete(opt, cb) abort\n\tlet items = ['dot{}', 'ddot{}', 'bar{}', 'hat{}', 'exp', 'sin', 'cos', 'tan', 'sec', 'csc', 'vec{}', 'cot', 'arcsin', 'arccos', 'arctan', 'sinh', 'cosh', 'tanh', 'coth', 'sh', 'ch', 'th', 'max', 'min', 'partial', 'nabla', 'prime', 'backprime', 'infty', 'eth', 'hbar', 'sqrt{}', 'sqrt[]{}', 'pm', 'mp', 'times', 'div', 'cdot', 'odot', 'bigodot' , '{ \\}', 'in', 'not', 'ni', 'cap', 'Cap', 'bigcap', 'cup', 'Cup', 'bigcup', 'subset', 'supset', 'supseteq', 'subseteq', 'subseteqq', 'supseteqq', 'subsetneq', 'supsetneq', 'supsetneqq', 'subsetneqq', 'sim', 'approx', 'leq', 'geq', 'parallel', 'nparallel', 'perp', 'angle', 'Box', 'bigtriangleup', 'bigtriangledown', 'forall', 'therefore', 'because', 'overline{}', 'Rightarrow', 'Leftarrow', 'rightarrow', 'leftarrow', 'leftrightarrow', 'nRightarrow', 'nLeftarrow', 'nleftarrow', 'nrightarrow', 'nleftrightarrow', 'overleftarrow{}', 'overrightarrow{}', 'overset{}', 'underline{}', 'sum', 'prod', 'lim', 'limits', 'int', 'iint', 'oint', 'iiint', 'frac{}{}', 'tfrac{}{}', 'dfrac{}{}', '\\begin{matrix}\\end{matrix}', '\\begin{vmatrix}\\end{vmatrix}', '\\begin{bmatrix}\\end{bmatrix}', '\\begin{Bmatrix}\\end{Bmatrix}', '\\begin{pmatrix}\\end{pmatrix}','\\begin{cases}\\end{cases}', '\\begin{aligned}\\end{aligned}', '\\begin{array}\\end{array}', 'alpha', 'psi', 'Delta', 'delta', 'beta', 'lambda', 'rho', 'varepsilon', 'Gamma', 'chi', 'mu', 'sigma', 'Lambda', 'tau', 'varphi', 'varPhi', 'phi', 'Phi', 'eta', 'omega', 'varrho', 'Pi', 'pi', 'gamma', 'xi', 'Psi', 'Sigma', 'varnothing', 'iiiint']\n\tcall a:cb(items)\nendfunction\n```\n\n source  github source  markdown `\\`\n\nmarkdown \n\n## latex\n\n latex  texlive\n\n[arch wiki](<https://wiki.archlinux.org/index.php/TeX_Live_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)>)\n\n linux [Deepin Linux  LaTex ](https://zhuanlan.zhihu.com/p/40053417)[Ubuntu18.04  LaTeX ](https://blog.csdn.net/qq_41814939/article/details/82288145) texlive-full  3  arch wiki  arch  gentoo ~~ gentoo  linux  gentoo \n\n MuPDF[github](https://github.com/lervag/vimtex)\n\n`nvim test.tex`\n\n```\n\\documentclass{article}\n\\begin{document}\nworld!\n\\end{document}\n```\n\n`\\ll``\\lv``hello world`\n\n## \n\n- linux  FastStone  KolourPaint  GIMP Pinta\n- markdown  html  mp4  gif \n-  vim  markdown markdown  snippets\n-  i3i3  i3 markdown  latex\n-  WSL \n\n## \n\n###  markdown \n\n#### Excuberant Ctags\n\n`Excuberant Ctags`debian  redhat arch \n\n[Excuberant Ctags ](http://ctags.sourceforge.net/)GFW  ctags-5.8csdn \n\ncd `./configure``make && sudo make install`[ Exuberant Ctags  Tag List ](https://blog.csdn.net/dream2009gd/article/details/44102227)\n\n#### easytags\n\n`vim-plug`\n\n```\nPlug 'xolox/vim-misc'\nPlug 'xolox/vim-easytags'\n```\n\n#### [tagbar](https://github.com/majutsushi/tagbar)\n\n```\nPlug 'majutsushi/tagbar'\n```\n\n github\n\n#### markdown2ctags\n\n```\nPlug 'jszakmeister/markdown2ctags'\n```\n\n#### \n\n```\n\" tagbar#####################################\nnmap <C-M> :TagbarToggle<CR>\n\n\" markdown2ctags#####################################\nlet g:tagbar_type_markdown = {\n    \\ 'ctagstype': 'markdown',\n    \\ 'ctagsbin' : '/home/yourUsername/.vim/plugged/markdown2ctags/markdown2ctags.py',\n    \\ 'ctagsargs' : '-f - --sort=yes --sro=',\n    \\ 'kinds' : [\n        \\ 's:sections',\n        \\ 'i:images'\n    \\ ],\n    \\ 'sro' : '',\n    \\ 'kind2scope' : {\n        \\ 's' : 'section',\n    \\ },\n    \\ 'sort': 0,\n\\ }\n```\n\n tagbar `ctrl + m``markdown2ctags``markdown2ctags.py``:set filetype` markdown  markdown`ctagstype`\n\n### [neoformat](https://github.com/sbdchd/neoformat)\n\n#### \n\n```\nPlug 'sbdchd/neoformat'\n```\n\n#### \n\n##### [prettier](https://github.com/prettier/prettier) for markdown\n\n remark \n\narch  aur [install prettier](https://prettier.io/docs/en/install.html)\n\n##### [latexindent.pl](https://github.com/cmhughes/latexindent.pl) for latex\n\n clone \n\n`perl``sudo cpan`\n\n`cpan`\n\n```\ninstall Log::Log4perl\ninstall Log::Dispatch::File\ninstall YAML::Tiny\ninstall File::HomeDir\n```\n\n GFW \n\n latexindent.pl  sh `cd youPathToLatexindent.pl && ./latexindent.pl``/bin``/usr/bin`\n\n#### \n\n`init.vim`\n\n```\nlet g:neoformat_latex_latexindent ={'exe':'latexindent','args':[],'stdin':1}\nlet g:neoformat_enabled_latex=['latexindent']\n```\n\n prettier  markdown [vim-prettier](https://github.com/prettier/vim-prettier)`prettier --wirte pathToYourFile`\n\n\n\n```\nnnoremap <C-l> :Neoformat<CR>\nautocmd FileType markdown nnoremap <buffer> <C-l> :Prettier<CR>\n```\n","slug":"vim-markdown-latex","published":1,"updated":"2021-03-23T11:11:18.585Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9dk004bdbizbk9iddrm","content":"<h1 id=\"-vim--markdown--latex\"><a href=\"#-vim--markdown--latex\" class=\"headerlink\" title=\" vim  markdown  latex\"></a> vim  markdown  latex</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>arch linux</li>\n<li>neovimcoc-actions  neovim vim</li>\n<li>markdown  typoralatex  vimtex  MuPDF</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> vim  vscode + vim jetbrains  idewindows linux </p>\n<p></p>\n<ul>\n<li>linux  vim  windows mac os</li>\n<li>windows  texlive  latex  latex linux </li>\n<li>neovim  vim  vscode + vim </li>\n<li> latex  vscode </li>\n<li>typora  markdown  vim  vscode  mp4 </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li></li>\n<li>arch linux  arch arch wiki  manjaro </li>\n<li></li>\n</ul>\n<h2 id=\"vim-\"><a href=\"#vim-\" class=\"headerlink\" title=\"vim \"></a>vim </h2><h3 id=\"vim-plug\"><a href=\"#vim-plug\" class=\"headerlink\" title=\"vim-plug\"></a>vim-plug</h3><p><a href=\"https://github.com/junegunn/vim-plug\">github </a></p>\n<p> GFW </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> plug.vim <code>~/.local/share/nvim/site/autoload</code> vim<code>~/.vim/autoload</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><code>~/.config/nvim/init.vim</code></p>\n<p><code>Plug</code> vim  markdown  latex markdown  copy <code>begin</code></p>\n<p> nnnsnippets snippets markdown latex </p>\n<p> github </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">call plug#begin(&#39;~&#x2F;.vim&#x2F;plugged&#39;)\nPlug &#39;neoclide&#x2F;coc.nvim&#39;, &#123;&#39;branch&#39;: &#39;release&#39;&#125;\nPlug &#39;preservim&#x2F;nerdtree&#39;\nPlug &#39;mcchrish&#x2F;nnn.vim&#39;\nPlug &#39;SirVer&#x2F;ultisnips&#39;\nPlug &#39;honza&#x2F;vim-snippets&#39;\nPlug &#39;vim-airline&#x2F;vim-airline&#39;\nPlug &#39;Chiel92&#x2F;vim-autoformat&#39;\nPlug &#39;plasticboy&#x2F;vim-markdown&#39;\nPlug &#39;mhinz&#x2F;vim-startify&#39;\nPlug &#39;lervag&#x2F;vimtex&#39;\ncall plug#end()<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><a href=\"https://github.com/neoclide/coc.nvim/wiki/Install-coc.nvim\">coc.nvim wiki</a><code>nodejs</code><code>yarn</code> arch linux </p>\n<p><a href=\"https://github.com/Chiel92/vim-autoformat\">vim-autoformat</a> vim-autoformat  github <code>remark</code> for markdown <code>latexindent.pl</code> for latexarch  linux  aur  github <code>let g:formatterpath = [&#39;/some/path/to/a/folder&#39;, &#39;/home/superman/formatters&#39;]</code> markdown  latex <code>$\\frac&#123;&#125;&#123;&#125;$</code><code>$\\\\frac&#123;&#125;&#123;&#125;$</code><code>\\\\</code><code>\\</code></p>\n<p> neovim<code>:PlugInstall</code></p>\n<h3 id=\"vim-\"><a href=\"#vim-\" class=\"headerlink\" title=\"vim \"></a>vim </h3><p><code>&quot; vim snippets##########################################</code> copy <code>coc.nvim</code> copy  markdown  latex</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">set relativenumber\nset number\n\n&quot; TextEdit might fail if hidden is not set.\nset hidden\n\n&quot; Some servers have issues with backup files, see #649.\nset nobackup\nset nowritebackup\n\n&quot; Give more space for displaying messages.\nset cmdheight&#x3D;2\n\n&quot; Having longer updatetime (default is 4000 ms &#x3D; 4 s) leads to noticeable\n&quot; delays and poor user experience.\nset updatetime&#x3D;300\n\n&quot; Don&#39;t pass messages to |ins-completion-menu|.\nset shortmess+&#x3D;c\n\n&quot; Always show the signcolumn, otherwise it would shift the text each time\n&quot; diagnostics appear&#x2F;become resolved.\nset signcolumn&#x3D;yes\n\n&quot; Use tab for trigger completion with characters ahead and navigate.\n&quot; NOTE: Use command &#39;:verbose imap &lt;tab&gt;&#39; to make sure tab is not mapped by\n&quot; other plugin before putting this into your config.\ninoremap &lt;silent&gt;&lt;expr&gt; &lt;TAB&gt;\n\t\t\t\\ pumvisible() ? &quot;\\&lt;C-n&gt;&quot; :\n\t\t\t\\ &lt;SID&gt;check_back_space() ? &quot;\\&lt;TAB&gt;&quot; :\n\t\t\t\\ coc#refresh()\ninoremap &lt;expr&gt;&lt;S-TAB&gt; pumvisible() ? &quot;\\&lt;C-p&gt;&quot; : &quot;\\&lt;C-h&gt;&quot;\n\nfunction! s:check_back_space() abort\n\tlet col &#x3D; col(&#39;.&#39;) - 1\n\treturn !col || getline(&#39;.&#39;)[col - 1]  &#x3D;~# &#39;\\s&#39;\nendfunction\n\n&quot; Use &lt;c-space&gt; to trigger completion.\ninoremap &lt;silent&gt;&lt;expr&gt; &lt;c-space&gt; coc#refresh()\n\n&quot; Use &lt;cr&gt; to confirm completion, &#96;&lt;C-g&gt;u&#96; means break undo chain at current\n&quot; position. Coc only does snippet and additional edit on confirm.\n&quot; &lt;cr&gt; could be remapped by other vim plugin, try &#96;:verbose imap &lt;CR&gt;&#96;.\nif exists(&#39;*complete_info&#39;)\n\tinoremap &lt;expr&gt; &lt;cr&gt; complete_info()[&quot;selected&quot;] !&#x3D; &quot;-1&quot; ? &quot;\\&lt;C-y&gt;&quot; : &quot;\\&lt;C-g&gt;u\\&lt;CR&gt;&quot;\nelse\n\tinoremap &lt;expr&gt; &lt;cr&gt; pumvisible() ? &quot;\\&lt;C-y&gt;&quot; : &quot;\\&lt;C-g&gt;u\\&lt;CR&gt;&quot;\nendif\n\n&quot; Use &#96;[g&#96; and &#96;]g&#96; to navigate diagnostics\nnmap &lt;silent&gt; [g &lt;Plug&gt;(coc-diagnostic-prev)\nnmap &lt;silent&gt; ]g &lt;Plug&gt;(coc-diagnostic-next)\n\n&quot; GoTo code navigation.\nnmap &lt;silent&gt; gd &lt;Plug&gt;(coc-definition)\nnmap &lt;silent&gt; gy &lt;Plug&gt;(coc-type-definition)\nnmap &lt;silent&gt; gi &lt;Plug&gt;(coc-implementation)\nnmap &lt;silent&gt; gr &lt;Plug&gt;(coc-references)\n\n&quot; Use K to show documentation in preview window.\nnnoremap &lt;silent&gt; K :call &lt;SID&gt;show_documentation()&lt;CR&gt;\n\nfunction! s:show_documentation()\n\tif (index([&#39;vim&#39;,&#39;help&#39;], &amp;filetype) &gt;&#x3D; 0)\n\t\texecute &#39;h &#39;.expand(&#39;&lt;cword&gt;&#39;)\n\telse\n\t\tcall CocAction(&#39;doHover&#39;)\n\tendif\nendfunction\n\n&quot; Highlight the symbol and its references when holding the cursor.\nautocmd CursorHold * silent call CocActionAsync(&#39;highlight&#39;)\n\n&quot; Symbol renaming.\nnmap &lt;leader&gt;rn &lt;Plug&gt;(coc-rename)\n\n&quot; Formatting selected code.\nxmap &lt;leader&gt;f  &lt;Plug&gt;(coc-format-selected)\nnmap &lt;leader&gt;f  &lt;Plug&gt;(coc-format-selected)\n\naugroup mygroup\n\tautocmd!\n\t&quot; Setup formatexpr specified filetype(s).\n\tautocmd FileType typescript,json setl formatexpr&#x3D;CocAction(&#39;formatSelected&#39;)\n\t&quot; Update signature help on jump placeholder.\n\tautocmd User CocJumpPlaceholder call CocActionAsync(&#39;showSignatureHelp&#39;)\naugroup end\n\n&quot; Applying codeAction to the selected region.\n&quot; Example: &#96;&lt;leader&gt;aap&#96; for current paragraph\nxmap &lt;leader&gt;a  &lt;Plug&gt;(coc-codeaction-selected)\nnmap &lt;leader&gt;a  &lt;Plug&gt;(coc-codeaction-selected)\n\n&quot; Remap keys for applying codeAction to the current line.\nnmap &lt;leader&gt;ac  &lt;Plug&gt;(coc-codeaction)\n&quot; Apply AutoFix to problem on the current line.\nnmap &lt;leader&gt;qf  &lt;Plug&gt;(coc-fix-current)\n\n&quot; Map function and class text objects\n&quot; NOTE: Requires &#39;textDocument.documentSymbol&#39; support from the language server.\nxmap if &lt;Plug&gt;(coc-funcobj-i)\nomap if &lt;Plug&gt;(coc-funcobj-i)\nxmap af &lt;Plug&gt;(coc-funcobj-a)\nomap af &lt;Plug&gt;(coc-funcobj-a)\nxmap ic &lt;Plug&gt;(coc-classobj-i)\nomap ic &lt;Plug&gt;(coc-classobj-i)\nxmap ac &lt;Plug&gt;(coc-classobj-a)\nomap ac &lt;Plug&gt;(coc-classobj-a)\n\n&quot; Use CTRL-S for selections ranges.\n&quot; Requires &#39;textDocument&#x2F;selectionRange&#39; support of LS, ex: coc-tsserver\nnmap &lt;silent&gt; &lt;C-s&gt; &lt;Plug&gt;(coc-range-select)\nxmap &lt;silent&gt; &lt;C-s&gt; &lt;Plug&gt;(coc-range-select)\n\n&quot; Add &#96;:Format&#96; command to format current buffer.\ncommand! -nargs&#x3D;0 Format :call CocAction(&#39;format&#39;)\n\n&quot; Add &#96;:Fold&#96; command to fold current buffer.\ncommand! -nargs&#x3D;? Fold :call     CocAction(&#39;fold&#39;, &lt;f-args&gt;)\n\n&quot; Add &#96;:OR&#96; command for organize imports of the current buffer.\ncommand! -nargs&#x3D;0 OR   :call     CocAction(&#39;runCommand&#39;, &#39;editor.action.organizeImport&#39;)\n\n&quot; Add (Neo)Vim&#39;s native statusline support.\n&quot; NOTE: Please see &#96;:h coc-status&#96; for integrations with external plugins that\n&quot; provide custom statusline: lightline.vim, vim-airline.\nset statusline^&#x3D;%&#123;coc#status()&#125;%&#123;get(b:,&#39;coc_current_function&#39;,&#39;&#39;)&#125;\n\n&quot; Mappings using CoCList:\n&quot; Show all diagnostics.\nnnoremap &lt;silent&gt; &lt;space&gt;a  :&lt;C-u&gt;CocList diagnostics&lt;cr&gt;\n&quot; Manage extensions.\nnnoremap &lt;silent&gt; &lt;space&gt;e  :&lt;C-u&gt;CocList extensions&lt;cr&gt;\n&quot; Show commands.\nnnoremap &lt;silent&gt; &lt;space&gt;c  :&lt;C-u&gt;CocList commands&lt;cr&gt;\n&quot; Find symbol of current document.\nnnoremap &lt;silent&gt; &lt;space&gt;o  :&lt;C-u&gt;CocList outline&lt;cr&gt;\n&quot; Search workspace symbols.\nnnoremap &lt;silent&gt; &lt;space&gt;s  :&lt;C-u&gt;CocList -I symbols&lt;cr&gt;\n&quot; Do default action for next item.\nnnoremap &lt;silent&gt; &lt;space&gt;j  :&lt;C-u&gt;CocNext&lt;CR&gt;\n&quot; Do default action for previous item.\nnnoremap &lt;silent&gt; &lt;space&gt;k  :&lt;C-u&gt;CocPrev&lt;CR&gt;\n&quot; Resume latest coc list.\nnnoremap &lt;silent&gt; &lt;space&gt;p  :&lt;C-u&gt;CocListResume&lt;CR&gt;\n\n&quot; vim snippets##########################################\nlet g:UltiSnipsExpandTrigger&#x3D;&quot;&lt;tab&gt;&quot;\nlet g:UltiSnipsJumpForwardTrigger&#x3D;&quot;&lt;c-b&gt;&quot;\nlet g:UltiSnipsJumpBackwardTrigger&#x3D;&quot;&lt;c-z&gt;&quot;\n\n&quot; autoformat##########################################\nnoremap &lt;C-L&gt; :Autoformat&lt;CR&gt;\n\n&quot; nerdtree##########################################\nmap &lt;C-p&gt; :NERDTreeToggle&lt;CR&gt;\n\n&quot; vimtex##########################################\nlet g:vimtex_view_general_viewer &#x3D; &#39;mupdf&#39;\nlet g:vimtex_view_general_options_latexmk &#x3D; &#39;-reuse-instance&#39;\nlet g:vimtex_view_general_options\n\\ &#x3D; &#39;-reuse-instance -forward-search @tex @line @pdf&#39;\n\\ . &#39; -inverse-search &quot;&#39; . exepath(v:progpath)\n\\ . &#39; --servername &#39; . v:servername\n\\ . &#39; --remote-send \\&quot;^&lt;C-\\^&gt;^&lt;C-n^&gt;&#39;\n\\ . &#39;:execute &#39;&#39;drop &#39;&#39; . fnameescape(&#39;&#39;\\%f&#39;&#39;)^&lt;CR^&gt;&#39;\n\\ . &#39;:\\%l^&lt;CR^&gt;:normal\\! zzzv^&lt;CR^&gt;&#39;\n\\ . &#39;:call remote_foreground(&#39;&#39;&#39;.v:servername.&#39;&#39;&#39;)^&lt;CR^&gt;^&lt;CR^&gt;\\&quot;&quot;&#39;\n\nset conceallevel&#x3D;1\nlet g:tex_conceal&#x3D;&#39;abdmg&#39;\n&quot; Prevent that vim detect a file with the tex suffix as a plaintex\nlet g:tex_flavor&#x3D;&#39;latex&#39;\n&quot; Set the viewer method\nlet g:vimtex_view_method&#x3D;&#39;mupdf&#39;\n&quot; Never opened&#x2F;closed the quickfix window automatically. The quickfix window shows the errors and&#x2F;or warnings when compile, and we can open the quickfix windows use \\le\nlet g:vimtex_quickfix_mode&#x3D;0\n&quot; ,LaTeX\nset conceallevel&#x3D;1\n\nlet &amp;t_SI.&#x3D;&quot;\\e[5 q&quot; &quot;SI &#x3D; INSERT mode\nlet &amp;t_SR.&#x3D;&quot;\\e[4 q&quot; &quot;SR &#x3D; REPLACE mode\nlet &amp;t_EI.&#x3D;&quot;\\e[1 q&quot; &quot;EI &#x3D; NORMAL mode (ELSE)\n\ninoremap &lt;C-c&gt; &lt;esc&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>ctrl + l</code><code>coc.nvim</code><code>ctrl + n</code><code>ctrl + p</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p> fcitx fcitx4  fcitx5 </p>\n<p><a href=\"https://www.vim.org/scripts/script.php?script_id=3764\"> fcitx.vim</a></p>\n<p> plugin  so <code>~/.config/nvim</code> vim<code>~/.vim</code></p>\n<p><code>inoremap &lt;C-c&gt; &lt;esc&gt;</code><code>ctrl + c</code><code>esc</code><code>ctrl + c</code> vimer</p>\n<p><code>ctrl + c</code></p>\n<p> neovim  neovim </p>\n<h3 id=\"-python-\"><a href=\"#-python-\" class=\"headerlink\" title=\" python \"></a> python </h3><p>coc.nvim  python  fcitx.vim  python  vim  fcitx.py  neovim <code>autoformat</code> Python </p>\n<p><code>pip</code><code>python-vim</code><code>neovim</code><code>python3 -m pip install pynvim</code></p>\n<p> gentoo pip  python usr  python <code>emerge dev-python/pynvim</code></p>\n<p> neovim  Python3 neovim <code>let g:python3_host_prog=/path/to/python/executable/</code></p>\n<h3 id=\"coc-nvim-\"><a href=\"#coc-nvim-\" class=\"headerlink\" title=\"coc.nvim \"></a>coc.nvim </h3><p><a href=\"https://github.com/neoclide/coc.nvim/wiki/Using-coc-extensions\">coc extensions</a> markdown  latex <code>:CocInstall</code></p>\n<p><code>coc-snippets</code><code>coc-actions</code> snippets </p>\n<p><a href=\"https://github.com/neoclide/coc.nvim/wiki/Language-servers\">coc language servers</a> markdown  latex</p>\n<p><code>:CocConfig</code> coc  json<code>&#123;&#125;</code> copy </p>\n<p><code>efm-langserver</code><code>digestif</code>arch  aur  go GOROOT  arch <code>/usr/lib/go</code><code>/usr/local/go</code>go  GOROOT <code>go module</code><code>go get</code><a href=\"https://blog.csdn.net/weixin_44690437/article/details/103571558\">go </a><code>go get</code></p>\n<p><code>coc-settings.json</code>copy <code>command</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;\n          languageserver : &#123;\n                   digestif : &#123;\n                          command :  &#x2F;bin&#x2F;digestif ,\n                          filetypes : [ tex ,  plaintex ,  context ]\n                 &#125;,\n                  efm : &#123;\n                          command :  &#x2F;bin&#x2F;efm-langserver ,\n                         args : [ -c ,  &#x2F;home&#x2F;yourUsername&#x2F;.config&#x2F;efm-langserver&#x2F;config.yaml ],\n                          filetypes : [ vim ,  eruby ,  markdown ]\n                 &#125;\n        &#125;,\n          suggest.noselect : false\n &#125;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"markdown\"><a href=\"#markdown\" class=\"headerlink\" title=\"markdown\"></a>markdown</h2><p>markdown .md <code>nvim test.md</code><code>img</code><code>coc.nvim</code><code>snippets</code></p>\n<p>markdown  latex <code>coc.nvim</code><a href=\"https://github.com/neoclide/coc.nvim/wiki/Create-custom-source\"> sources</a><code>~/.config/nvim/autoload/coc/source</code><code>latex.vim</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">function! coc#source#latex#init() abort\n\treturn &#123;\n\t\t\t\t\\ &#39;triggerCharacters&#39;: [&#39;\\&#39;],\n\t\t\t\t\\&#39;filetype&#39;:[&#39;markdown&#39;]\n\t\t\t\t\\&#125;\nendfunction\n\nfunction! coc#source#latex#complete(opt, cb) abort\n\tlet items &#x3D; [&#39;dot&#123;&#125;&#39;, &#39;ddot&#123;&#125;&#39;, &#39;bar&#123;&#125;&#39;, &#39;hat&#123;&#125;&#39;, &#39;exp&#39;, &#39;sin&#39;, &#39;cos&#39;, &#39;tan&#39;, &#39;sec&#39;, &#39;csc&#39;, &#39;vec&#123;&#125;&#39;, &#39;cot&#39;, &#39;arcsin&#39;, &#39;arccos&#39;, &#39;arctan&#39;, &#39;sinh&#39;, &#39;cosh&#39;, &#39;tanh&#39;, &#39;coth&#39;, &#39;sh&#39;, &#39;ch&#39;, &#39;th&#39;, &#39;max&#39;, &#39;min&#39;, &#39;partial&#39;, &#39;nabla&#39;, &#39;prime&#39;, &#39;backprime&#39;, &#39;infty&#39;, &#39;eth&#39;, &#39;hbar&#39;, &#39;sqrt&#123;&#125;&#39;, &#39;sqrt[]&#123;&#125;&#39;, &#39;pm&#39;, &#39;mp&#39;, &#39;times&#39;, &#39;div&#39;, &#39;cdot&#39;, &#39;odot&#39;, &#39;bigodot&#39; , &#39;&#123; \\&#125;&#39;, &#39;in&#39;, &#39;not&#39;, &#39;ni&#39;, &#39;cap&#39;, &#39;Cap&#39;, &#39;bigcap&#39;, &#39;cup&#39;, &#39;Cup&#39;, &#39;bigcup&#39;, &#39;subset&#39;, &#39;supset&#39;, &#39;supseteq&#39;, &#39;subseteq&#39;, &#39;subseteqq&#39;, &#39;supseteqq&#39;, &#39;subsetneq&#39;, &#39;supsetneq&#39;, &#39;supsetneqq&#39;, &#39;subsetneqq&#39;, &#39;sim&#39;, &#39;approx&#39;, &#39;leq&#39;, &#39;geq&#39;, &#39;parallel&#39;, &#39;nparallel&#39;, &#39;perp&#39;, &#39;angle&#39;, &#39;Box&#39;, &#39;bigtriangleup&#39;, &#39;bigtriangledown&#39;, &#39;forall&#39;, &#39;therefore&#39;, &#39;because&#39;, &#39;overline&#123;&#125;&#39;, &#39;Rightarrow&#39;, &#39;Leftarrow&#39;, &#39;rightarrow&#39;, &#39;leftarrow&#39;, &#39;leftrightarrow&#39;, &#39;nRightarrow&#39;, &#39;nLeftarrow&#39;, &#39;nleftarrow&#39;, &#39;nrightarrow&#39;, &#39;nleftrightarrow&#39;, &#39;overleftarrow&#123;&#125;&#39;, &#39;overrightarrow&#123;&#125;&#39;, &#39;overset&#123;&#125;&#39;, &#39;underline&#123;&#125;&#39;, &#39;sum&#39;, &#39;prod&#39;, &#39;lim&#39;, &#39;limits&#39;, &#39;int&#39;, &#39;iint&#39;, &#39;oint&#39;, &#39;iiint&#39;, &#39;frac&#123;&#125;&#123;&#125;&#39;, &#39;tfrac&#123;&#125;&#123;&#125;&#39;, &#39;dfrac&#123;&#125;&#123;&#125;&#39;, &#39;\\begin&#123;matrix&#125;\\end&#123;matrix&#125;&#39;, &#39;\\begin&#123;vmatrix&#125;\\end&#123;vmatrix&#125;&#39;, &#39;\\begin&#123;bmatrix&#125;\\end&#123;bmatrix&#125;&#39;, &#39;\\begin&#123;Bmatrix&#125;\\end&#123;Bmatrix&#125;&#39;, &#39;\\begin&#123;pmatrix&#125;\\end&#123;pmatrix&#125;&#39;,&#39;\\begin&#123;cases&#125;\\end&#123;cases&#125;&#39;, &#39;\\begin&#123;aligned&#125;\\end&#123;aligned&#125;&#39;, &#39;\\begin&#123;array&#125;\\end&#123;array&#125;&#39;, &#39;alpha&#39;, &#39;psi&#39;, &#39;Delta&#39;, &#39;delta&#39;, &#39;beta&#39;, &#39;lambda&#39;, &#39;rho&#39;, &#39;varepsilon&#39;, &#39;Gamma&#39;, &#39;chi&#39;, &#39;mu&#39;, &#39;sigma&#39;, &#39;Lambda&#39;, &#39;tau&#39;, &#39;varphi&#39;, &#39;varPhi&#39;, &#39;phi&#39;, &#39;Phi&#39;, &#39;eta&#39;, &#39;omega&#39;, &#39;varrho&#39;, &#39;Pi&#39;, &#39;pi&#39;, &#39;gamma&#39;, &#39;xi&#39;, &#39;Psi&#39;, &#39;Sigma&#39;, &#39;varnothing&#39;, &#39;iiiint&#39;]\n\tcall a:cb(items)\nendfunction<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> source  github source  markdown <code>\\</code></p>\n<p>markdown </p>\n<h2 id=\"latex\"><a href=\"#latex\" class=\"headerlink\" title=\"latex\"></a>latex</h2><p> latex  texlive</p>\n<p><a href=\"https://wiki.archlinux.org/index.php/TeX_Live_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\">arch wiki</a></p>\n<p> linux <a href=\"https://zhuanlan.zhihu.com/p/40053417\">Deepin Linux  LaTex </a><a href=\"https://blog.csdn.net/qq_41814939/article/details/82288145\">Ubuntu18.04  LaTeX </a> texlive-full  3  arch wiki  arch  gentoo ~~ gentoo  linux  gentoo </p>\n<p> MuPDF<a href=\"https://github.com/lervag/vimtex\">github</a></p>\n<p><code>nvim test.tex</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\\documentclass&#123;article&#125;\n\\begin&#123;document&#125;\nworld!\n\\end&#123;document&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>\\ll</code><code>\\lv</code><code>hello world</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>linux  FastStone  KolourPaint  GIMP Pinta</li>\n<li>markdown  html  mp4  gif </li>\n<li> vim  markdown markdown  snippets</li>\n<li> i3i3  i3 markdown  latex</li>\n<li> WSL </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"-markdown-\"><a href=\"#-markdown-\" class=\"headerlink\" title=\" markdown \"></a> markdown </h3><h4 id=\"Excuberant-Ctags\"><a href=\"#Excuberant-Ctags\" class=\"headerlink\" title=\"Excuberant Ctags\"></a>Excuberant Ctags</h4><p><code>Excuberant Ctags</code>debian  redhat arch </p>\n<p><a href=\"http://ctags.sourceforge.net/\">Excuberant Ctags </a>GFW  ctags-5.8csdn </p>\n<p>cd <code>./configure</code><code>make &amp;&amp; sudo make install</code><a href=\"https://blog.csdn.net/dream2009gd/article/details/44102227\"> Exuberant Ctags  Tag List </a></p>\n<h4 id=\"easytags\"><a href=\"#easytags\" class=\"headerlink\" title=\"easytags\"></a>easytags</h4><p><code>vim-plug</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Plug &#39;xolox&#x2F;vim-misc&#39;\nPlug &#39;xolox&#x2F;vim-easytags&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"tagbar\"><a href=\"#tagbar\" class=\"headerlink\" title=\"tagbar\"></a><a href=\"https://github.com/majutsushi/tagbar\">tagbar</a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">Plug &#39;majutsushi&#x2F;tagbar&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p> github</p>\n<h4 id=\"markdown2ctags\"><a href=\"#markdown2ctags\" class=\"headerlink\" title=\"markdown2ctags\"></a>markdown2ctags</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">Plug &#39;jszakmeister&#x2F;markdown2ctags&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">&quot; tagbar#####################################\nnmap &lt;C-M&gt; :TagbarToggle&lt;CR&gt;\n\n&quot; markdown2ctags#####################################\nlet g:tagbar_type_markdown &#x3D; &#123;\n    \\ &#39;ctagstype&#39;: &#39;markdown&#39;,\n    \\ &#39;ctagsbin&#39; : &#39;&#x2F;home&#x2F;yourUsername&#x2F;.vim&#x2F;plugged&#x2F;markdown2ctags&#x2F;markdown2ctags.py&#39;,\n    \\ &#39;ctagsargs&#39; : &#39;-f - --sort&#x3D;yes --sro&#x3D;&#39;,\n    \\ &#39;kinds&#39; : [\n        \\ &#39;s:sections&#39;,\n        \\ &#39;i:images&#39;\n    \\ ],\n    \\ &#39;sro&#39; : &#39;&#39;,\n    \\ &#39;kind2scope&#39; : &#123;\n        \\ &#39;s&#39; : &#39;section&#39;,\n    \\ &#125;,\n    \\ &#39;sort&#39;: 0,\n\\ &#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> tagbar <code>ctrl + m</code><code>markdown2ctags</code><code>markdown2ctags.py</code><code>:set filetype</code> markdown  markdown<code>ctagstype</code></p>\n<h3 id=\"neoformat\"><a href=\"#neoformat\" class=\"headerlink\" title=\"neoformat\"></a><a href=\"https://github.com/sbdchd/neoformat\">neoformat</a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">Plug &#39;sbdchd&#x2F;neoformat&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"prettier-for-markdown\"><a href=\"#prettier-for-markdown\" class=\"headerlink\" title=\"prettier for markdown\"></a><a href=\"https://github.com/prettier/prettier\">prettier</a> for markdown</h5><p> remark </p>\n<p>arch  aur <a href=\"https://prettier.io/docs/en/install.html\">install prettier</a></p>\n<h5 id=\"latexindent-pl-for-latex\"><a href=\"#latexindent-pl-for-latex\" class=\"headerlink\" title=\"latexindent.pl for latex\"></a><a href=\"https://github.com/cmhughes/latexindent.pl\">latexindent.pl</a> for latex</h5><p> clone </p>\n<p><code>perl</code><code>sudo cpan</code></p>\n<p><code>cpan</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">install Log::Log4perl\ninstall Log::Dispatch::File\ninstall YAML::Tiny\ninstall File::HomeDir<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> GFW </p>\n<p> latexindent.pl  sh <code>cd youPathToLatexindent.pl &amp;&amp; ./latexindent.pl</code><code>/bin</code><code>/usr/bin</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><code>init.vim</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">let g:neoformat_latex_latexindent &#x3D;&#123;&#39;exe&#39;:&#39;latexindent&#39;,&#39;args&#39;:[],&#39;stdin&#39;:1&#125;\nlet g:neoformat_enabled_latex&#x3D;[&#39;latexindent&#39;]<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p> prettier  markdown <a href=\"https://github.com/prettier/vim-prettier\">vim-prettier</a><code>prettier --wirte pathToYourFile</code></p>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nnoremap &lt;C-l&gt; :Neoformat&lt;CR&gt;\nautocmd FileType markdown nnoremap &lt;buffer&gt; &lt;C-l&gt; :Prettier&lt;CR&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"-vim--markdown--latex\"><a href=\"#-vim--markdown--latex\" class=\"headerlink\" title=\" vim  markdown  latex\"></a> vim  markdown  latex</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>arch linux</li>\n<li>neovimcoc-actions  neovim vim</li>\n<li>markdown  typoralatex  vimtex  MuPDF</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> vim  vscode + vim jetbrains  idewindows linux </p>\n<p></p>\n<ul>\n<li>linux  vim  windows mac os</li>\n<li>windows  texlive  latex  latex linux </li>\n<li>neovim  vim  vscode + vim </li>\n<li> latex  vscode </li>\n<li>typora  markdown  vim  vscode  mp4 </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li></li>\n<li>arch linux  arch arch wiki  manjaro </li>\n<li></li>\n</ul>\n<h2 id=\"vim-\"><a href=\"#vim-\" class=\"headerlink\" title=\"vim \"></a>vim </h2><h3 id=\"vim-plug\"><a href=\"#vim-plug\" class=\"headerlink\" title=\"vim-plug\"></a>vim-plug</h3><p><a href=\"https://github.com/junegunn/vim-plug\">github </a></p>\n<p> GFW </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> plug.vim <code>~/.local/share/nvim/site/autoload</code> vim<code>~/.vim/autoload</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><code>~/.config/nvim/init.vim</code></p>\n<p><code>Plug</code> vim  markdown  latex markdown  copy <code>begin</code></p>\n<p> nnnsnippets snippets markdown latex </p>\n<p> github </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">call plug#begin(&#39;~&#x2F;.vim&#x2F;plugged&#39;)\nPlug &#39;neoclide&#x2F;coc.nvim&#39;, &#123;&#39;branch&#39;: &#39;release&#39;&#125;\nPlug &#39;preservim&#x2F;nerdtree&#39;\nPlug &#39;mcchrish&#x2F;nnn.vim&#39;\nPlug &#39;SirVer&#x2F;ultisnips&#39;\nPlug &#39;honza&#x2F;vim-snippets&#39;\nPlug &#39;vim-airline&#x2F;vim-airline&#39;\nPlug &#39;Chiel92&#x2F;vim-autoformat&#39;\nPlug &#39;plasticboy&#x2F;vim-markdown&#39;\nPlug &#39;mhinz&#x2F;vim-startify&#39;\nPlug &#39;lervag&#x2F;vimtex&#39;\ncall plug#end()<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><a href=\"https://github.com/neoclide/coc.nvim/wiki/Install-coc.nvim\">coc.nvim wiki</a><code>nodejs</code><code>yarn</code> arch linux </p>\n<p><a href=\"https://github.com/Chiel92/vim-autoformat\">vim-autoformat</a> vim-autoformat  github <code>remark</code> for markdown <code>latexindent.pl</code> for latexarch  linux  aur  github <code>let g:formatterpath = [&#39;/some/path/to/a/folder&#39;, &#39;/home/superman/formatters&#39;]</code> markdown  latex <code>$\\frac&#123;&#125;&#123;&#125;$</code><code>$\\\\frac&#123;&#125;&#123;&#125;$</code><code>\\\\</code><code>\\</code></p>\n<p> neovim<code>:PlugInstall</code></p>\n<h3 id=\"vim-\"><a href=\"#vim-\" class=\"headerlink\" title=\"vim \"></a>vim </h3><p><code>&quot; vim snippets##########################################</code> copy <code>coc.nvim</code> copy  markdown  latex</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">set relativenumber\nset number\n\n&quot; TextEdit might fail if hidden is not set.\nset hidden\n\n&quot; Some servers have issues with backup files, see #649.\nset nobackup\nset nowritebackup\n\n&quot; Give more space for displaying messages.\nset cmdheight&#x3D;2\n\n&quot; Having longer updatetime (default is 4000 ms &#x3D; 4 s) leads to noticeable\n&quot; delays and poor user experience.\nset updatetime&#x3D;300\n\n&quot; Don&#39;t pass messages to |ins-completion-menu|.\nset shortmess+&#x3D;c\n\n&quot; Always show the signcolumn, otherwise it would shift the text each time\n&quot; diagnostics appear&#x2F;become resolved.\nset signcolumn&#x3D;yes\n\n&quot; Use tab for trigger completion with characters ahead and navigate.\n&quot; NOTE: Use command &#39;:verbose imap &lt;tab&gt;&#39; to make sure tab is not mapped by\n&quot; other plugin before putting this into your config.\ninoremap &lt;silent&gt;&lt;expr&gt; &lt;TAB&gt;\n\t\t\t\\ pumvisible() ? &quot;\\&lt;C-n&gt;&quot; :\n\t\t\t\\ &lt;SID&gt;check_back_space() ? &quot;\\&lt;TAB&gt;&quot; :\n\t\t\t\\ coc#refresh()\ninoremap &lt;expr&gt;&lt;S-TAB&gt; pumvisible() ? &quot;\\&lt;C-p&gt;&quot; : &quot;\\&lt;C-h&gt;&quot;\n\nfunction! s:check_back_space() abort\n\tlet col &#x3D; col(&#39;.&#39;) - 1\n\treturn !col || getline(&#39;.&#39;)[col - 1]  &#x3D;~# &#39;\\s&#39;\nendfunction\n\n&quot; Use &lt;c-space&gt; to trigger completion.\ninoremap &lt;silent&gt;&lt;expr&gt; &lt;c-space&gt; coc#refresh()\n\n&quot; Use &lt;cr&gt; to confirm completion, &#96;&lt;C-g&gt;u&#96; means break undo chain at current\n&quot; position. Coc only does snippet and additional edit on confirm.\n&quot; &lt;cr&gt; could be remapped by other vim plugin, try &#96;:verbose imap &lt;CR&gt;&#96;.\nif exists(&#39;*complete_info&#39;)\n\tinoremap &lt;expr&gt; &lt;cr&gt; complete_info()[&quot;selected&quot;] !&#x3D; &quot;-1&quot; ? &quot;\\&lt;C-y&gt;&quot; : &quot;\\&lt;C-g&gt;u\\&lt;CR&gt;&quot;\nelse\n\tinoremap &lt;expr&gt; &lt;cr&gt; pumvisible() ? &quot;\\&lt;C-y&gt;&quot; : &quot;\\&lt;C-g&gt;u\\&lt;CR&gt;&quot;\nendif\n\n&quot; Use &#96;[g&#96; and &#96;]g&#96; to navigate diagnostics\nnmap &lt;silent&gt; [g &lt;Plug&gt;(coc-diagnostic-prev)\nnmap &lt;silent&gt; ]g &lt;Plug&gt;(coc-diagnostic-next)\n\n&quot; GoTo code navigation.\nnmap &lt;silent&gt; gd &lt;Plug&gt;(coc-definition)\nnmap &lt;silent&gt; gy &lt;Plug&gt;(coc-type-definition)\nnmap &lt;silent&gt; gi &lt;Plug&gt;(coc-implementation)\nnmap &lt;silent&gt; gr &lt;Plug&gt;(coc-references)\n\n&quot; Use K to show documentation in preview window.\nnnoremap &lt;silent&gt; K :call &lt;SID&gt;show_documentation()&lt;CR&gt;\n\nfunction! s:show_documentation()\n\tif (index([&#39;vim&#39;,&#39;help&#39;], &amp;filetype) &gt;&#x3D; 0)\n\t\texecute &#39;h &#39;.expand(&#39;&lt;cword&gt;&#39;)\n\telse\n\t\tcall CocAction(&#39;doHover&#39;)\n\tendif\nendfunction\n\n&quot; Highlight the symbol and its references when holding the cursor.\nautocmd CursorHold * silent call CocActionAsync(&#39;highlight&#39;)\n\n&quot; Symbol renaming.\nnmap &lt;leader&gt;rn &lt;Plug&gt;(coc-rename)\n\n&quot; Formatting selected code.\nxmap &lt;leader&gt;f  &lt;Plug&gt;(coc-format-selected)\nnmap &lt;leader&gt;f  &lt;Plug&gt;(coc-format-selected)\n\naugroup mygroup\n\tautocmd!\n\t&quot; Setup formatexpr specified filetype(s).\n\tautocmd FileType typescript,json setl formatexpr&#x3D;CocAction(&#39;formatSelected&#39;)\n\t&quot; Update signature help on jump placeholder.\n\tautocmd User CocJumpPlaceholder call CocActionAsync(&#39;showSignatureHelp&#39;)\naugroup end\n\n&quot; Applying codeAction to the selected region.\n&quot; Example: &#96;&lt;leader&gt;aap&#96; for current paragraph\nxmap &lt;leader&gt;a  &lt;Plug&gt;(coc-codeaction-selected)\nnmap &lt;leader&gt;a  &lt;Plug&gt;(coc-codeaction-selected)\n\n&quot; Remap keys for applying codeAction to the current line.\nnmap &lt;leader&gt;ac  &lt;Plug&gt;(coc-codeaction)\n&quot; Apply AutoFix to problem on the current line.\nnmap &lt;leader&gt;qf  &lt;Plug&gt;(coc-fix-current)\n\n&quot; Map function and class text objects\n&quot; NOTE: Requires &#39;textDocument.documentSymbol&#39; support from the language server.\nxmap if &lt;Plug&gt;(coc-funcobj-i)\nomap if &lt;Plug&gt;(coc-funcobj-i)\nxmap af &lt;Plug&gt;(coc-funcobj-a)\nomap af &lt;Plug&gt;(coc-funcobj-a)\nxmap ic &lt;Plug&gt;(coc-classobj-i)\nomap ic &lt;Plug&gt;(coc-classobj-i)\nxmap ac &lt;Plug&gt;(coc-classobj-a)\nomap ac &lt;Plug&gt;(coc-classobj-a)\n\n&quot; Use CTRL-S for selections ranges.\n&quot; Requires &#39;textDocument&#x2F;selectionRange&#39; support of LS, ex: coc-tsserver\nnmap &lt;silent&gt; &lt;C-s&gt; &lt;Plug&gt;(coc-range-select)\nxmap &lt;silent&gt; &lt;C-s&gt; &lt;Plug&gt;(coc-range-select)\n\n&quot; Add &#96;:Format&#96; command to format current buffer.\ncommand! -nargs&#x3D;0 Format :call CocAction(&#39;format&#39;)\n\n&quot; Add &#96;:Fold&#96; command to fold current buffer.\ncommand! -nargs&#x3D;? Fold :call     CocAction(&#39;fold&#39;, &lt;f-args&gt;)\n\n&quot; Add &#96;:OR&#96; command for organize imports of the current buffer.\ncommand! -nargs&#x3D;0 OR   :call     CocAction(&#39;runCommand&#39;, &#39;editor.action.organizeImport&#39;)\n\n&quot; Add (Neo)Vim&#39;s native statusline support.\n&quot; NOTE: Please see &#96;:h coc-status&#96; for integrations with external plugins that\n&quot; provide custom statusline: lightline.vim, vim-airline.\nset statusline^&#x3D;%&#123;coc#status()&#125;%&#123;get(b:,&#39;coc_current_function&#39;,&#39;&#39;)&#125;\n\n&quot; Mappings using CoCList:\n&quot; Show all diagnostics.\nnnoremap &lt;silent&gt; &lt;space&gt;a  :&lt;C-u&gt;CocList diagnostics&lt;cr&gt;\n&quot; Manage extensions.\nnnoremap &lt;silent&gt; &lt;space&gt;e  :&lt;C-u&gt;CocList extensions&lt;cr&gt;\n&quot; Show commands.\nnnoremap &lt;silent&gt; &lt;space&gt;c  :&lt;C-u&gt;CocList commands&lt;cr&gt;\n&quot; Find symbol of current document.\nnnoremap &lt;silent&gt; &lt;space&gt;o  :&lt;C-u&gt;CocList outline&lt;cr&gt;\n&quot; Search workspace symbols.\nnnoremap &lt;silent&gt; &lt;space&gt;s  :&lt;C-u&gt;CocList -I symbols&lt;cr&gt;\n&quot; Do default action for next item.\nnnoremap &lt;silent&gt; &lt;space&gt;j  :&lt;C-u&gt;CocNext&lt;CR&gt;\n&quot; Do default action for previous item.\nnnoremap &lt;silent&gt; &lt;space&gt;k  :&lt;C-u&gt;CocPrev&lt;CR&gt;\n&quot; Resume latest coc list.\nnnoremap &lt;silent&gt; &lt;space&gt;p  :&lt;C-u&gt;CocListResume&lt;CR&gt;\n\n&quot; vim snippets##########################################\nlet g:UltiSnipsExpandTrigger&#x3D;&quot;&lt;tab&gt;&quot;\nlet g:UltiSnipsJumpForwardTrigger&#x3D;&quot;&lt;c-b&gt;&quot;\nlet g:UltiSnipsJumpBackwardTrigger&#x3D;&quot;&lt;c-z&gt;&quot;\n\n&quot; autoformat##########################################\nnoremap &lt;C-L&gt; :Autoformat&lt;CR&gt;\n\n&quot; nerdtree##########################################\nmap &lt;C-p&gt; :NERDTreeToggle&lt;CR&gt;\n\n&quot; vimtex##########################################\nlet g:vimtex_view_general_viewer &#x3D; &#39;mupdf&#39;\nlet g:vimtex_view_general_options_latexmk &#x3D; &#39;-reuse-instance&#39;\nlet g:vimtex_view_general_options\n\\ &#x3D; &#39;-reuse-instance -forward-search @tex @line @pdf&#39;\n\\ . &#39; -inverse-search &quot;&#39; . exepath(v:progpath)\n\\ . &#39; --servername &#39; . v:servername\n\\ . &#39; --remote-send \\&quot;^&lt;C-\\^&gt;^&lt;C-n^&gt;&#39;\n\\ . &#39;:execute &#39;&#39;drop &#39;&#39; . fnameescape(&#39;&#39;\\%f&#39;&#39;)^&lt;CR^&gt;&#39;\n\\ . &#39;:\\%l^&lt;CR^&gt;:normal\\! zzzv^&lt;CR^&gt;&#39;\n\\ . &#39;:call remote_foreground(&#39;&#39;&#39;.v:servername.&#39;&#39;&#39;)^&lt;CR^&gt;^&lt;CR^&gt;\\&quot;&quot;&#39;\n\nset conceallevel&#x3D;1\nlet g:tex_conceal&#x3D;&#39;abdmg&#39;\n&quot; Prevent that vim detect a file with the tex suffix as a plaintex\nlet g:tex_flavor&#x3D;&#39;latex&#39;\n&quot; Set the viewer method\nlet g:vimtex_view_method&#x3D;&#39;mupdf&#39;\n&quot; Never opened&#x2F;closed the quickfix window automatically. The quickfix window shows the errors and&#x2F;or warnings when compile, and we can open the quickfix windows use \\le\nlet g:vimtex_quickfix_mode&#x3D;0\n&quot; ,LaTeX\nset conceallevel&#x3D;1\n\nlet &amp;t_SI.&#x3D;&quot;\\e[5 q&quot; &quot;SI &#x3D; INSERT mode\nlet &amp;t_SR.&#x3D;&quot;\\e[4 q&quot; &quot;SR &#x3D; REPLACE mode\nlet &amp;t_EI.&#x3D;&quot;\\e[1 q&quot; &quot;EI &#x3D; NORMAL mode (ELSE)\n\ninoremap &lt;C-c&gt; &lt;esc&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>ctrl + l</code><code>coc.nvim</code><code>ctrl + n</code><code>ctrl + p</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p> fcitx fcitx4  fcitx5 </p>\n<p><a href=\"https://www.vim.org/scripts/script.php?script_id=3764\"> fcitx.vim</a></p>\n<p> plugin  so <code>~/.config/nvim</code> vim<code>~/.vim</code></p>\n<p><code>inoremap &lt;C-c&gt; &lt;esc&gt;</code><code>ctrl + c</code><code>esc</code><code>ctrl + c</code> vimer</p>\n<p><code>ctrl + c</code></p>\n<p> neovim  neovim </p>\n<h3 id=\"-python-\"><a href=\"#-python-\" class=\"headerlink\" title=\" python \"></a> python </h3><p>coc.nvim  python  fcitx.vim  python  vim  fcitx.py  neovim <code>autoformat</code> Python </p>\n<p><code>pip</code><code>python-vim</code><code>neovim</code><code>python3 -m pip install pynvim</code></p>\n<p> gentoo pip  python usr  python <code>emerge dev-python/pynvim</code></p>\n<p> neovim  Python3 neovim <code>let g:python3_host_prog=/path/to/python/executable/</code></p>\n<h3 id=\"coc-nvim-\"><a href=\"#coc-nvim-\" class=\"headerlink\" title=\"coc.nvim \"></a>coc.nvim </h3><p><a href=\"https://github.com/neoclide/coc.nvim/wiki/Using-coc-extensions\">coc extensions</a> markdown  latex <code>:CocInstall</code></p>\n<p><code>coc-snippets</code><code>coc-actions</code> snippets </p>\n<p><a href=\"https://github.com/neoclide/coc.nvim/wiki/Language-servers\">coc language servers</a> markdown  latex</p>\n<p><code>:CocConfig</code> coc  json<code>&#123;&#125;</code> copy </p>\n<p><code>efm-langserver</code><code>digestif</code>arch  aur  go GOROOT  arch <code>/usr/lib/go</code><code>/usr/local/go</code>go  GOROOT <code>go module</code><code>go get</code><a href=\"https://blog.csdn.net/weixin_44690437/article/details/103571558\">go </a><code>go get</code></p>\n<p><code>coc-settings.json</code>copy <code>command</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;\n          languageserver : &#123;\n                   digestif : &#123;\n                          command :  &#x2F;bin&#x2F;digestif ,\n                          filetypes : [ tex ,  plaintex ,  context ]\n                 &#125;,\n                  efm : &#123;\n                          command :  &#x2F;bin&#x2F;efm-langserver ,\n                         args : [ -c ,  &#x2F;home&#x2F;yourUsername&#x2F;.config&#x2F;efm-langserver&#x2F;config.yaml ],\n                          filetypes : [ vim ,  eruby ,  markdown ]\n                 &#125;\n        &#125;,\n          suggest.noselect : false\n &#125;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"markdown\"><a href=\"#markdown\" class=\"headerlink\" title=\"markdown\"></a>markdown</h2><p>markdown .md <code>nvim test.md</code><code>img</code><code>coc.nvim</code><code>snippets</code></p>\n<p>markdown  latex <code>coc.nvim</code><a href=\"https://github.com/neoclide/coc.nvim/wiki/Create-custom-source\"> sources</a><code>~/.config/nvim/autoload/coc/source</code><code>latex.vim</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">function! coc#source#latex#init() abort\n\treturn &#123;\n\t\t\t\t\\ &#39;triggerCharacters&#39;: [&#39;\\&#39;],\n\t\t\t\t\\&#39;filetype&#39;:[&#39;markdown&#39;]\n\t\t\t\t\\&#125;\nendfunction\n\nfunction! coc#source#latex#complete(opt, cb) abort\n\tlet items &#x3D; [&#39;dot&#123;&#125;&#39;, &#39;ddot&#123;&#125;&#39;, &#39;bar&#123;&#125;&#39;, &#39;hat&#123;&#125;&#39;, &#39;exp&#39;, &#39;sin&#39;, &#39;cos&#39;, &#39;tan&#39;, &#39;sec&#39;, &#39;csc&#39;, &#39;vec&#123;&#125;&#39;, &#39;cot&#39;, &#39;arcsin&#39;, &#39;arccos&#39;, &#39;arctan&#39;, &#39;sinh&#39;, &#39;cosh&#39;, &#39;tanh&#39;, &#39;coth&#39;, &#39;sh&#39;, &#39;ch&#39;, &#39;th&#39;, &#39;max&#39;, &#39;min&#39;, &#39;partial&#39;, &#39;nabla&#39;, &#39;prime&#39;, &#39;backprime&#39;, &#39;infty&#39;, &#39;eth&#39;, &#39;hbar&#39;, &#39;sqrt&#123;&#125;&#39;, &#39;sqrt[]&#123;&#125;&#39;, &#39;pm&#39;, &#39;mp&#39;, &#39;times&#39;, &#39;div&#39;, &#39;cdot&#39;, &#39;odot&#39;, &#39;bigodot&#39; , &#39;&#123; \\&#125;&#39;, &#39;in&#39;, &#39;not&#39;, &#39;ni&#39;, &#39;cap&#39;, &#39;Cap&#39;, &#39;bigcap&#39;, &#39;cup&#39;, &#39;Cup&#39;, &#39;bigcup&#39;, &#39;subset&#39;, &#39;supset&#39;, &#39;supseteq&#39;, &#39;subseteq&#39;, &#39;subseteqq&#39;, &#39;supseteqq&#39;, &#39;subsetneq&#39;, &#39;supsetneq&#39;, &#39;supsetneqq&#39;, &#39;subsetneqq&#39;, &#39;sim&#39;, &#39;approx&#39;, &#39;leq&#39;, &#39;geq&#39;, &#39;parallel&#39;, &#39;nparallel&#39;, &#39;perp&#39;, &#39;angle&#39;, &#39;Box&#39;, &#39;bigtriangleup&#39;, &#39;bigtriangledown&#39;, &#39;forall&#39;, &#39;therefore&#39;, &#39;because&#39;, &#39;overline&#123;&#125;&#39;, &#39;Rightarrow&#39;, &#39;Leftarrow&#39;, &#39;rightarrow&#39;, &#39;leftarrow&#39;, &#39;leftrightarrow&#39;, &#39;nRightarrow&#39;, &#39;nLeftarrow&#39;, &#39;nleftarrow&#39;, &#39;nrightarrow&#39;, &#39;nleftrightarrow&#39;, &#39;overleftarrow&#123;&#125;&#39;, &#39;overrightarrow&#123;&#125;&#39;, &#39;overset&#123;&#125;&#39;, &#39;underline&#123;&#125;&#39;, &#39;sum&#39;, &#39;prod&#39;, &#39;lim&#39;, &#39;limits&#39;, &#39;int&#39;, &#39;iint&#39;, &#39;oint&#39;, &#39;iiint&#39;, &#39;frac&#123;&#125;&#123;&#125;&#39;, &#39;tfrac&#123;&#125;&#123;&#125;&#39;, &#39;dfrac&#123;&#125;&#123;&#125;&#39;, &#39;\\begin&#123;matrix&#125;\\end&#123;matrix&#125;&#39;, &#39;\\begin&#123;vmatrix&#125;\\end&#123;vmatrix&#125;&#39;, &#39;\\begin&#123;bmatrix&#125;\\end&#123;bmatrix&#125;&#39;, &#39;\\begin&#123;Bmatrix&#125;\\end&#123;Bmatrix&#125;&#39;, &#39;\\begin&#123;pmatrix&#125;\\end&#123;pmatrix&#125;&#39;,&#39;\\begin&#123;cases&#125;\\end&#123;cases&#125;&#39;, &#39;\\begin&#123;aligned&#125;\\end&#123;aligned&#125;&#39;, &#39;\\begin&#123;array&#125;\\end&#123;array&#125;&#39;, &#39;alpha&#39;, &#39;psi&#39;, &#39;Delta&#39;, &#39;delta&#39;, &#39;beta&#39;, &#39;lambda&#39;, &#39;rho&#39;, &#39;varepsilon&#39;, &#39;Gamma&#39;, &#39;chi&#39;, &#39;mu&#39;, &#39;sigma&#39;, &#39;Lambda&#39;, &#39;tau&#39;, &#39;varphi&#39;, &#39;varPhi&#39;, &#39;phi&#39;, &#39;Phi&#39;, &#39;eta&#39;, &#39;omega&#39;, &#39;varrho&#39;, &#39;Pi&#39;, &#39;pi&#39;, &#39;gamma&#39;, &#39;xi&#39;, &#39;Psi&#39;, &#39;Sigma&#39;, &#39;varnothing&#39;, &#39;iiiint&#39;]\n\tcall a:cb(items)\nendfunction<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> source  github source  markdown <code>\\</code></p>\n<p>markdown </p>\n<h2 id=\"latex\"><a href=\"#latex\" class=\"headerlink\" title=\"latex\"></a>latex</h2><p> latex  texlive</p>\n<p><a href=\"https://wiki.archlinux.org/index.php/TeX_Live_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\">arch wiki</a></p>\n<p> linux <a href=\"https://zhuanlan.zhihu.com/p/40053417\">Deepin Linux  LaTex </a><a href=\"https://blog.csdn.net/qq_41814939/article/details/82288145\">Ubuntu18.04  LaTeX </a> texlive-full  3  arch wiki  arch  gentoo ~~ gentoo  linux  gentoo </p>\n<p> MuPDF<a href=\"https://github.com/lervag/vimtex\">github</a></p>\n<p><code>nvim test.tex</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\\documentclass&#123;article&#125;\n\\begin&#123;document&#125;\nworld!\n\\end&#123;document&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>\\ll</code><code>\\lv</code><code>hello world</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>linux  FastStone  KolourPaint  GIMP Pinta</li>\n<li>markdown  html  mp4  gif </li>\n<li> vim  markdown markdown  snippets</li>\n<li> i3i3  i3 markdown  latex</li>\n<li> WSL </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"-markdown-\"><a href=\"#-markdown-\" class=\"headerlink\" title=\" markdown \"></a> markdown </h3><h4 id=\"Excuberant-Ctags\"><a href=\"#Excuberant-Ctags\" class=\"headerlink\" title=\"Excuberant Ctags\"></a>Excuberant Ctags</h4><p><code>Excuberant Ctags</code>debian  redhat arch </p>\n<p><a href=\"http://ctags.sourceforge.net/\">Excuberant Ctags </a>GFW  ctags-5.8csdn </p>\n<p>cd <code>./configure</code><code>make &amp;&amp; sudo make install</code><a href=\"https://blog.csdn.net/dream2009gd/article/details/44102227\"> Exuberant Ctags  Tag List </a></p>\n<h4 id=\"easytags\"><a href=\"#easytags\" class=\"headerlink\" title=\"easytags\"></a>easytags</h4><p><code>vim-plug</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Plug &#39;xolox&#x2F;vim-misc&#39;\nPlug &#39;xolox&#x2F;vim-easytags&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"tagbar\"><a href=\"#tagbar\" class=\"headerlink\" title=\"tagbar\"></a><a href=\"https://github.com/majutsushi/tagbar\">tagbar</a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">Plug &#39;majutsushi&#x2F;tagbar&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p> github</p>\n<h4 id=\"markdown2ctags\"><a href=\"#markdown2ctags\" class=\"headerlink\" title=\"markdown2ctags\"></a>markdown2ctags</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">Plug &#39;jszakmeister&#x2F;markdown2ctags&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">&quot; tagbar#####################################\nnmap &lt;C-M&gt; :TagbarToggle&lt;CR&gt;\n\n&quot; markdown2ctags#####################################\nlet g:tagbar_type_markdown &#x3D; &#123;\n    \\ &#39;ctagstype&#39;: &#39;markdown&#39;,\n    \\ &#39;ctagsbin&#39; : &#39;&#x2F;home&#x2F;yourUsername&#x2F;.vim&#x2F;plugged&#x2F;markdown2ctags&#x2F;markdown2ctags.py&#39;,\n    \\ &#39;ctagsargs&#39; : &#39;-f - --sort&#x3D;yes --sro&#x3D;&#39;,\n    \\ &#39;kinds&#39; : [\n        \\ &#39;s:sections&#39;,\n        \\ &#39;i:images&#39;\n    \\ ],\n    \\ &#39;sro&#39; : &#39;&#39;,\n    \\ &#39;kind2scope&#39; : &#123;\n        \\ &#39;s&#39; : &#39;section&#39;,\n    \\ &#125;,\n    \\ &#39;sort&#39;: 0,\n\\ &#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> tagbar <code>ctrl + m</code><code>markdown2ctags</code><code>markdown2ctags.py</code><code>:set filetype</code> markdown  markdown<code>ctagstype</code></p>\n<h3 id=\"neoformat\"><a href=\"#neoformat\" class=\"headerlink\" title=\"neoformat\"></a><a href=\"https://github.com/sbdchd/neoformat\">neoformat</a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">Plug &#39;sbdchd&#x2F;neoformat&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"prettier-for-markdown\"><a href=\"#prettier-for-markdown\" class=\"headerlink\" title=\"prettier for markdown\"></a><a href=\"https://github.com/prettier/prettier\">prettier</a> for markdown</h5><p> remark </p>\n<p>arch  aur <a href=\"https://prettier.io/docs/en/install.html\">install prettier</a></p>\n<h5 id=\"latexindent-pl-for-latex\"><a href=\"#latexindent-pl-for-latex\" class=\"headerlink\" title=\"latexindent.pl for latex\"></a><a href=\"https://github.com/cmhughes/latexindent.pl\">latexindent.pl</a> for latex</h5><p> clone </p>\n<p><code>perl</code><code>sudo cpan</code></p>\n<p><code>cpan</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">install Log::Log4perl\ninstall Log::Dispatch::File\ninstall YAML::Tiny\ninstall File::HomeDir<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> GFW </p>\n<p> latexindent.pl  sh <code>cd youPathToLatexindent.pl &amp;&amp; ./latexindent.pl</code><code>/bin</code><code>/usr/bin</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><code>init.vim</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">let g:neoformat_latex_latexindent &#x3D;&#123;&#39;exe&#39;:&#39;latexindent&#39;,&#39;args&#39;:[],&#39;stdin&#39;:1&#125;\nlet g:neoformat_enabled_latex&#x3D;[&#39;latexindent&#39;]<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p> prettier  markdown <a href=\"https://github.com/prettier/vim-prettier\">vim-prettier</a><code>prettier --wirte pathToYourFile</code></p>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nnoremap &lt;C-l&gt; :Neoformat&lt;CR&gt;\nautocmd FileType markdown nnoremap &lt;buffer&gt; &lt;C-l&gt; :Prettier&lt;CR&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n"},{"title":"Vim Markdown Preview Plugin","date":"2021-03-23T08:44:59.000Z","_content":"\n# vim markdown\n\n markdown  vim-markdown-composer  markdown-preview.nvim\n\n## markdown \n\nvim  markdown  vim markdown  markdown \n\n vim-markdown-composer  markdown-preview.nvim \n\n## markdown-preview.nvim\n\n[github ](https://github.com/iamcco/markdown-preview.nvim)\n\n\n\n\n\n- \n\n>  buffer \n\n-  vim \n\n- \n\n\n\n## vim-markdown-composer\n\n rust  rust \n\n[github ](https://github.com/euclio/vim-markdown-composer) vim-plug \n\n```vim\nfunction! BuildComposer(info)\n  if a:info.status != 'unchanged' || a:info.force\n    if has('nvim')\n      !cargo build --release --locked\n    else\n      !cargo build --release --locked --no-default-features --features json-rpc\n    endif\n  endif\nendfunction\n\nPlug 'euclio/vim-markdown-composer', { 'do': function('BuildComposer') }\n```\n\n`:help markdown-composer`\n\n```\n:ComposerStart              Start the preview server.\n:ComposerUpdate             Send the current buffer to the preview server.\n:ComposerOpen               Opens a new browser window containing the markdown preview.\n:ComposerJob                Echoes the channel that the plugin is listening on.\n```\n\n\n\n```vim\n\" markdown-composer\nlet g:markdown_composer_external_renderer='pandoc -f markdown -t html'\nlet g:markdown_composer_autostart = 0\n\nnmap <silent><nowait><leader>ms :<C-u>ComposerStart<CR>\nnmap <silent><nowait><leader>mu :<C-u>ComposerUpdate<CR>\nnmap <silent><nowait><leader>mo :<C-u>ComposerOpen<CR>\nnmap <silent><nowait><leader>mj :<C-u>ComposerJob<CR>\n\nlet g:which_key_map2.m = {\n      \\ 'name' : '+markdown_preview',\n      \\ 's' : 'start',\n      \\ 'u' : 'update',\n      \\ 'o' : 'open another tab',\n      \\ 'j' : 'echoes the channel that the plugin is listening on'\n      \\}\n```\n\n latex  pandoc  markdown  pandoc  pandoc \n\n X A  BA  markdown B  A  markdown  X  A  markdown \n","source":"_posts/vim-markdown-preview-plugin.md","raw":"---\ntitle: Vim Markdown Preview Plugin\ndate: 2021-03-23 16:44:59\ntags:\n  - Vim\n  - Markdown\ncategories:\n  - Vim\n---\n\n# vim markdown\n\n markdown  vim-markdown-composer  markdown-preview.nvim\n\n## markdown \n\nvim  markdown  vim markdown  markdown \n\n vim-markdown-composer  markdown-preview.nvim \n\n## markdown-preview.nvim\n\n[github ](https://github.com/iamcco/markdown-preview.nvim)\n\n\n\n\n\n- \n\n>  buffer \n\n-  vim \n\n- \n\n\n\n## vim-markdown-composer\n\n rust  rust \n\n[github ](https://github.com/euclio/vim-markdown-composer) vim-plug \n\n```vim\nfunction! BuildComposer(info)\n  if a:info.status != 'unchanged' || a:info.force\n    if has('nvim')\n      !cargo build --release --locked\n    else\n      !cargo build --release --locked --no-default-features --features json-rpc\n    endif\n  endif\nendfunction\n\nPlug 'euclio/vim-markdown-composer', { 'do': function('BuildComposer') }\n```\n\n`:help markdown-composer`\n\n```\n:ComposerStart              Start the preview server.\n:ComposerUpdate             Send the current buffer to the preview server.\n:ComposerOpen               Opens a new browser window containing the markdown preview.\n:ComposerJob                Echoes the channel that the plugin is listening on.\n```\n\n\n\n```vim\n\" markdown-composer\nlet g:markdown_composer_external_renderer='pandoc -f markdown -t html'\nlet g:markdown_composer_autostart = 0\n\nnmap <silent><nowait><leader>ms :<C-u>ComposerStart<CR>\nnmap <silent><nowait><leader>mu :<C-u>ComposerUpdate<CR>\nnmap <silent><nowait><leader>mo :<C-u>ComposerOpen<CR>\nnmap <silent><nowait><leader>mj :<C-u>ComposerJob<CR>\n\nlet g:which_key_map2.m = {\n      \\ 'name' : '+markdown_preview',\n      \\ 's' : 'start',\n      \\ 'u' : 'update',\n      \\ 'o' : 'open another tab',\n      \\ 'j' : 'echoes the channel that the plugin is listening on'\n      \\}\n```\n\n latex  pandoc  markdown  pandoc  pandoc \n\n X A  BA  markdown B  A  markdown  X  A  markdown \n","slug":"vim-markdown-preview-plugin","published":1,"updated":"2021-03-23T11:11:18.585Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9dm004fdbiz5qbn54m6","content":"<h1 id=\"vim-markdown\"><a href=\"#vim-markdown\" class=\"headerlink\" title=\"vim markdown\"></a>vim markdown</h1><p> markdown  vim-markdown-composer  markdown-preview.nvim</p>\n<h2 id=\"markdown-\"><a href=\"#markdown-\" class=\"headerlink\" title=\"markdown \"></a>markdown </h2><p>vim  markdown  vim markdown  markdown </p>\n<p> vim-markdown-composer  markdown-preview.nvim </p>\n<h2 id=\"markdown-preview-nvim\"><a href=\"#markdown-preview-nvim\" class=\"headerlink\" title=\"markdown-preview.nvim\"></a>markdown-preview.nvim</h2><p><a href=\"https://github.com/iamcco/markdown-preview.nvim\">github </a></p>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<blockquote>\n<p> buffer </p>\n</blockquote>\n<ul>\n<li><p> vim </p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<p></p>\n<h2 id=\"vim-markdown-composer\"><a href=\"#vim-markdown-composer\" class=\"headerlink\" title=\"vim-markdown-composer\"></a>vim-markdown-composer</h2><p> rust  rust </p>\n<p><a href=\"https://github.com/euclio/vim-markdown-composer\">github </a> vim-plug </p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token keyword\">function</span><span class=\"token operator\">!</span> <span class=\"token function\">BuildComposer</span><span class=\"token punctuation\">(</span>info<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> a<span class=\"token punctuation\">:</span>info<span class=\"token operator\">.</span>status <span class=\"token operator\">!=</span> <span class=\"token string\">'unchanged'</span> <span class=\"token operator\">||</span> a<span class=\"token punctuation\">:</span>info<span class=\"token operator\">.</span>force\n    <span class=\"token keyword\">if</span> <span class=\"token function\">has</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nvim'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token operator\">!</span>cargo build <span class=\"token operator\">-</span><span class=\"token operator\">-</span>release <span class=\"token operator\">-</span><span class=\"token operator\">-</span>locked\n    <span class=\"token keyword\">else</span>\n      <span class=\"token operator\">!</span>cargo build <span class=\"token operator\">-</span><span class=\"token operator\">-</span>release <span class=\"token operator\">-</span><span class=\"token operator\">-</span>locked <span class=\"token operator\">-</span><span class=\"token operator\">-</span>no<span class=\"token operator\">-</span>default<span class=\"token operator\">-</span>features <span class=\"token operator\">-</span><span class=\"token operator\">-</span>features json<span class=\"token operator\">-</span>rpc\n    <span class=\"token keyword\">endif</span>\n  <span class=\"token keyword\">endif</span>\n<span class=\"token keyword\">endfunction</span>\n\nPlug <span class=\"token string\">'euclio/vim-markdown-composer'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token string\">'do'</span><span class=\"token punctuation\">:</span> <span class=\"token function\">function</span><span class=\"token punctuation\">(</span><span class=\"token string\">'BuildComposer'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>:help markdown-composer</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">:ComposerStart              Start the preview server.\n:ComposerUpdate             Send the current buffer to the preview server.\n:ComposerOpen               Opens a new browser window containing the markdown preview.\n:ComposerJob                Echoes the channel that the plugin is listening on.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" markdown-composer</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>markdown_composer_external_renderer<span class=\"token operator\">=</span><span class=\"token string\">'pandoc -f markdown -t html'</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>markdown_composer_autostart <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span>ms <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>ComposerStart<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span>mu <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>ComposerUpdate<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span>mo <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>ComposerOpen<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span>mj <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>ComposerJob<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map2<span class=\"token operator\">.</span><span class=\"token keyword\">m</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n      \\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+markdown_preview'</span><span class=\"token punctuation\">,</span>\n      \\ <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'start'</span><span class=\"token punctuation\">,</span>\n      \\ <span class=\"token string\">'u'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'update'</span><span class=\"token punctuation\">,</span>\n      \\ <span class=\"token string\">'o'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'open another tab'</span><span class=\"token punctuation\">,</span>\n      \\ <span class=\"token string\">'j'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'echoes the channel that the plugin is listening on'</span>\n      \\<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> latex  pandoc  markdown  pandoc  pandoc </p>\n<p> X A  BA  markdown B  A  markdown  X  A  markdown </p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"vim-markdown\"><a href=\"#vim-markdown\" class=\"headerlink\" title=\"vim markdown\"></a>vim markdown</h1><p> markdown  vim-markdown-composer  markdown-preview.nvim</p>\n<h2 id=\"markdown-\"><a href=\"#markdown-\" class=\"headerlink\" title=\"markdown \"></a>markdown </h2><p>vim  markdown  vim markdown  markdown </p>\n<p> vim-markdown-composer  markdown-preview.nvim </p>\n<h2 id=\"markdown-preview-nvim\"><a href=\"#markdown-preview-nvim\" class=\"headerlink\" title=\"markdown-preview.nvim\"></a>markdown-preview.nvim</h2><p><a href=\"https://github.com/iamcco/markdown-preview.nvim\">github </a></p>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<blockquote>\n<p> buffer </p>\n</blockquote>\n<ul>\n<li><p> vim </p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<p></p>\n<h2 id=\"vim-markdown-composer\"><a href=\"#vim-markdown-composer\" class=\"headerlink\" title=\"vim-markdown-composer\"></a>vim-markdown-composer</h2><p> rust  rust </p>\n<p><a href=\"https://github.com/euclio/vim-markdown-composer\">github </a> vim-plug </p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token keyword\">function</span><span class=\"token operator\">!</span> <span class=\"token function\">BuildComposer</span><span class=\"token punctuation\">(</span>info<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> a<span class=\"token punctuation\">:</span>info<span class=\"token operator\">.</span>status <span class=\"token operator\">!=</span> <span class=\"token string\">'unchanged'</span> <span class=\"token operator\">||</span> a<span class=\"token punctuation\">:</span>info<span class=\"token operator\">.</span>force\n    <span class=\"token keyword\">if</span> <span class=\"token function\">has</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nvim'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token operator\">!</span>cargo build <span class=\"token operator\">-</span><span class=\"token operator\">-</span>release <span class=\"token operator\">-</span><span class=\"token operator\">-</span>locked\n    <span class=\"token keyword\">else</span>\n      <span class=\"token operator\">!</span>cargo build <span class=\"token operator\">-</span><span class=\"token operator\">-</span>release <span class=\"token operator\">-</span><span class=\"token operator\">-</span>locked <span class=\"token operator\">-</span><span class=\"token operator\">-</span>no<span class=\"token operator\">-</span>default<span class=\"token operator\">-</span>features <span class=\"token operator\">-</span><span class=\"token operator\">-</span>features json<span class=\"token operator\">-</span>rpc\n    <span class=\"token keyword\">endif</span>\n  <span class=\"token keyword\">endif</span>\n<span class=\"token keyword\">endfunction</span>\n\nPlug <span class=\"token string\">'euclio/vim-markdown-composer'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token string\">'do'</span><span class=\"token punctuation\">:</span> <span class=\"token function\">function</span><span class=\"token punctuation\">(</span><span class=\"token string\">'BuildComposer'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>:help markdown-composer</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">:ComposerStart              Start the preview server.\n:ComposerUpdate             Send the current buffer to the preview server.\n:ComposerOpen               Opens a new browser window containing the markdown preview.\n:ComposerJob                Echoes the channel that the plugin is listening on.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" markdown-composer</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>markdown_composer_external_renderer<span class=\"token operator\">=</span><span class=\"token string\">'pandoc -f markdown -t html'</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>markdown_composer_autostart <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span>ms <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>ComposerStart<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span>mu <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>ComposerUpdate<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span>mo <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>ComposerOpen<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span>mj <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>ComposerJob<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map2<span class=\"token operator\">.</span><span class=\"token keyword\">m</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n      \\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+markdown_preview'</span><span class=\"token punctuation\">,</span>\n      \\ <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'start'</span><span class=\"token punctuation\">,</span>\n      \\ <span class=\"token string\">'u'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'update'</span><span class=\"token punctuation\">,</span>\n      \\ <span class=\"token string\">'o'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'open another tab'</span><span class=\"token punctuation\">,</span>\n      \\ <span class=\"token string\">'j'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'echoes the channel that the plugin is listening on'</span>\n      \\<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> latex  pandoc  markdown  pandoc  pandoc </p>\n<p> X A  BA  markdown B  A  markdown  X  A  markdown </p>\n"},{"title":"Vim Plugin Management","date":"2020-10-19T13:39:32.000Z","_content":"\n# vim\n\nvimvim-plugdein.vim\n\n## vim\n\n- \n\nvimvimvim\n\n- vim\n\nvim\n\n## vim-plug\n\nvim-plugvundle\n\n### vim-plug\n\nvim-plug [github ](https://github.com/junegunn/vim-plug)`plug.vim``~/.vim/autoload/``~/.local/share/nvim/site/autoload/`vim\n\nwindowsmacos\n\n### vim-plug\n\n```\ncall plug#begin('~/.vim/plugged')\n\" \nPlug 'junegunn/vim-easy-align'\n\" github\ncall plug#end()\n```\n\n### vim-plug\n\n`:PlugInstall``PlugUpdate``PlugClean``README.md`\n\nvim-plug`vim-plug`\n\n### dein.vim\n\n`dein.vim``vim-plug`\n\n`dein-ui.vim``vim-plug`ui\n","source":"_posts/vim-plugin-management.md","raw":"---\ntitle: Vim Plugin Management\ndate: 2020-10-19 21:39:32\ntags:\n  - Vim\ncategories:\n  - Vim\n---\n\n# vim\n\nvimvim-plugdein.vim\n\n## vim\n\n- \n\nvimvimvim\n\n- vim\n\nvim\n\n## vim-plug\n\nvim-plugvundle\n\n### vim-plug\n\nvim-plug [github ](https://github.com/junegunn/vim-plug)`plug.vim``~/.vim/autoload/``~/.local/share/nvim/site/autoload/`vim\n\nwindowsmacos\n\n### vim-plug\n\n```\ncall plug#begin('~/.vim/plugged')\n\" \nPlug 'junegunn/vim-easy-align'\n\" github\ncall plug#end()\n```\n\n### vim-plug\n\n`:PlugInstall``PlugUpdate``PlugClean``README.md`\n\nvim-plug`vim-plug`\n\n### dein.vim\n\n`dein.vim``vim-plug`\n\n`dein-ui.vim``vim-plug`ui\n","slug":"vim-plugin-management","published":1,"updated":"2021-03-23T11:11:18.585Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9dn004jdbizaanea9zj","content":"<h1 id=\"vim\"><a href=\"#vim\" class=\"headerlink\" title=\"vim\"></a>vim</h1><p>vimvim-plugdein.vim</p>\n<h2 id=\"vim\"><a href=\"#vim\" class=\"headerlink\" title=\"vim\"></a>vim</h2><ul>\n<li></li>\n</ul>\n<p>vimvimvim</p>\n<ul>\n<li>vim</li>\n</ul>\n<p>vim</p>\n<h2 id=\"vim-plug\"><a href=\"#vim-plug\" class=\"headerlink\" title=\"vim-plug\"></a>vim-plug</h2><p>vim-plugvundle</p>\n<h3 id=\"vim-plug\"><a href=\"#vim-plug\" class=\"headerlink\" title=\"vim-plug\"></a>vim-plug</h3><p>vim-plug <a href=\"https://github.com/junegunn/vim-plug\">github </a><code>plug.vim</code><code>~/.vim/autoload/</code><code>~/.local/share/nvim/site/autoload/</code>vim</p>\n<p>windowsmacos</p>\n<h3 id=\"vim-plug\"><a href=\"#vim-plug\" class=\"headerlink\" title=\"vim-plug\"></a>vim-plug</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">call plug#begin(&#39;~&#x2F;.vim&#x2F;plugged&#39;)\n&quot; \nPlug &#39;junegunn&#x2F;vim-easy-align&#39;\n&quot; github\ncall plug#end()<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"vim-plug\"><a href=\"#vim-plug\" class=\"headerlink\" title=\"vim-plug\"></a>vim-plug</h3><p><code>:PlugInstall</code><code>PlugUpdate</code><code>PlugClean</code><code>README.md</code></p>\n<p>vim-plug<code>vim-plug</code></p>\n<h3 id=\"dein-vim\"><a href=\"#dein-vim\" class=\"headerlink\" title=\"dein.vim\"></a>dein.vim</h3><p><code>dein.vim</code><code>vim-plug</code></p>\n<p><code>dein-ui.vim</code><code>vim-plug</code>ui</p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"vim\"><a href=\"#vim\" class=\"headerlink\" title=\"vim\"></a>vim</h1><p>vimvim-plugdein.vim</p>\n<h2 id=\"vim\"><a href=\"#vim\" class=\"headerlink\" title=\"vim\"></a>vim</h2><ul>\n<li></li>\n</ul>\n<p>vimvimvim</p>\n<ul>\n<li>vim</li>\n</ul>\n<p>vim</p>\n<h2 id=\"vim-plug\"><a href=\"#vim-plug\" class=\"headerlink\" title=\"vim-plug\"></a>vim-plug</h2><p>vim-plugvundle</p>\n<h3 id=\"vim-plug\"><a href=\"#vim-plug\" class=\"headerlink\" title=\"vim-plug\"></a>vim-plug</h3><p>vim-plug <a href=\"https://github.com/junegunn/vim-plug\">github </a><code>plug.vim</code><code>~/.vim/autoload/</code><code>~/.local/share/nvim/site/autoload/</code>vim</p>\n<p>windowsmacos</p>\n<h3 id=\"vim-plug\"><a href=\"#vim-plug\" class=\"headerlink\" title=\"vim-plug\"></a>vim-plug</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">call plug#begin(&#39;~&#x2F;.vim&#x2F;plugged&#39;)\n&quot; \nPlug &#39;junegunn&#x2F;vim-easy-align&#39;\n&quot; github\ncall plug#end()<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"vim-plug\"><a href=\"#vim-plug\" class=\"headerlink\" title=\"vim-plug\"></a>vim-plug</h3><p><code>:PlugInstall</code><code>PlugUpdate</code><code>PlugClean</code><code>README.md</code></p>\n<p>vim-plug<code>vim-plug</code></p>\n<h3 id=\"dein-vim\"><a href=\"#dein-vim\" class=\"headerlink\" title=\"dein.vim\"></a>dein.vim</h3><p><code>dein.vim</code><code>vim-plug</code></p>\n<p><code>dein-ui.vim</code><code>vim-plug</code>ui</p>\n"},{"title":"Vim Preface","date":"2020-08-06T14:00:09.000Z","_content":"\n# Vim \n\n#### vim \n\n IDE  nano \n\n####  vim \n\nvimvim vim \n\nvimvimvimvim\n\n#### vim\n\nvimvimvimvim\n\n#### vim\n\nvimlinuxwindows\n\n`hjkl`vim\n","source":"_posts/vim-preface.md","raw":"---\ntitle: Vim Preface\ndate: 2020-08-06 22:00:09\ntags:\n  - Vim\ncategories:\n  - Vim\n---\n\n# Vim \n\n#### vim \n\n IDE  nano \n\n####  vim \n\nvimvim vim \n\nvimvimvimvim\n\n#### vim\n\nvimvimvimvim\n\n#### vim\n\nvimlinuxwindows\n\n`hjkl`vim\n","slug":"vim-preface","published":1,"updated":"2021-03-23T11:11:18.585Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9do004ndbiz17npfoj7","content":"<h1 id=\"Vim-\"><a href=\"#Vim-\" class=\"headerlink\" title=\"Vim \"></a>Vim </h1><h4 id=\"vim-\"><a href=\"#vim-\" class=\"headerlink\" title=\"vim \"></a>vim </h4><p> IDE  nano </p>\n<h4 id=\"-vim-\"><a href=\"#-vim-\" class=\"headerlink\" title=\" vim \"></a> vim </h4><p>vimvim vim </p>\n<p>vimvimvimvim</p>\n<h4 id=\"vim\"><a href=\"#vim\" class=\"headerlink\" title=\"vim\"></a>vim</h4><p>vimvimvimvim</p>\n<h4 id=\"vim\"><a href=\"#vim\" class=\"headerlink\" title=\"vim\"></a>vim</h4><p>vimlinuxwindows</p>\n<p><code>hjkl</code>vim</p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"Vim-\"><a href=\"#Vim-\" class=\"headerlink\" title=\"Vim \"></a>Vim </h1><h4 id=\"vim-\"><a href=\"#vim-\" class=\"headerlink\" title=\"vim \"></a>vim </h4><p> IDE  nano </p>\n<h4 id=\"-vim-\"><a href=\"#-vim-\" class=\"headerlink\" title=\" vim \"></a> vim </h4><p>vimvim vim </p>\n<p>vimvimvimvim</p>\n<h4 id=\"vim\"><a href=\"#vim\" class=\"headerlink\" title=\"vim\"></a>vim</h4><p>vimvimvimvim</p>\n<h4 id=\"vim\"><a href=\"#vim\" class=\"headerlink\" title=\"vim\"></a>vim</h4><p>vimlinuxwindows</p>\n<p><code>hjkl</code>vim</p>\n"},{"title":"Vim Quickfix","date":"2021-04-17T13:01:56.000Z","_content":"\n# Vim Quickfix\n\n vim quickfix \n\n##  quickfix\n\nquickfix  vim  IDE \n\nquickfix  quickfix  vim \n\n##  quickfix\n\n quickfix \n\n-  vim  make`:set makeprg=make`\n\n- `:make` make  vim  shell  make  quickfix \n\n- `:copen` quickfix \n\n![quickfix window](1.png)\n\n\n\n- vim `:cnext``:cprev``:cfirst``:clast` vim-clap  quickfix  quickfix  enter \n\n-  quickfix `:cclose`\n\n##  quickfix\n\n### \n\n`:copen` quickfix `:copexx``:copen25`\n\n### \n\n\n\n```vim\nau VimEnter * :set makeprg=make\nnnoremap <silent><nowait> <space>qs :<C-u>set makeprg=\nnnoremap <silent><nowait> <space>qo :<C-u>cope25<CR>\nnnoremap <silent><nowait> <space>qm :<C-u>make<CR>\nnnoremap <silent><nowait> <space>qc :<C-u>cclose<CR>\n\nnmap <A-j> :cnext<CR>\nnmap <A-k> :cprev<CR>\nnmap <A-g> :cfirst<CR>\nnmap <A-G> :clast<CR>\n\nlet g:which_key_map1.q = {\n\t\\ 'name' : '+quickfix',\n\t\\ 's' : 'set compile cmd',\n\t\\ 'o' : 'open quickfix window',\n\t\\ 'm' : 'make',\n\t\\ 'c' : 'close quickfix window'\n\t\\}\n```\n\n### \n\nquickfix `:make` vim\n\n`asynctasks.vim`\n\n```vim\nnnoremap <silent><nowait> <space>sR :<C-u>:AsyncTask project-run<CR>\nnnoremap <silent><nowait> <space>sB :<C-u>:AsyncTask project-build<CR>\nnnoremap <silent><nowait> <space>sb :<C-u>:AsyncTask file-build<CR>\nnnoremap <silent><nowait> <space>sr :<C-u>:AsyncTask file-run<CR>\nnnoremap <silent><nowait> <space>st :<C-u>:AsyncTaskList<CR>\nnnoremap <silent><nowait> <space>se :<C-u>:AsyncTaskEdit<CR>\nnnoremap <silent><nowait> <space>sE :<C-u>:AsyncTaskEdit!<CR>\nnnoremap <silent><nowait> <space>sg :<C-u>:AsyncTask git<CR>\nlet g:asyncrun_rootmarks = ['.git', '.svn', '.root', '.project', '.hg']\nlet g:asynctasks_term_pos = 'bottom'\nlet g:asynctasks_term_rows = 10    \" \nlet g:asynctasks_term_cols = 80    \" \n\nlet g:which_key_map1.s = {\n\t\\ 'name' : '+asynctasks',\n\t\\ 'R' : 'run project',\n\t\\ 'B' : 'build project',\n\t\\ 'b' : 'build file',\n\t\\ 'r' : 'run file',\n\t\\ 'e' : 'edit config',\n\t\\ 'E' : 'edit global config',\n\t\\ 't' : 'show task list',\n\t\\}\n\nlet g:asynctasks_config_name = '.git/task.ini'\n```\n\n\n\n`:AsyncTaskEdit`\n\n```\n[git]\ncommand=git add . && git commit -m $(?commit context) && proxychains git pull origin $(?merge branch) && proxychains git push -u origin $(?commit branch)\ncwd=<VIM_ROOT>\noutput=terminal\n```\n\n git `:AsyncTask git``$(?)``output``quickfix` quickfix \n\n quickfix \n\n### \n\n 100  99 quickfix  100  1 \n\n n \n\n neovim \n\n\n\n```viml\nnnoremap <silent><nowait> <space>qw :<C-u>write! build.log<CR>\nnnoremap <silent><nowait> <space>qe :<C-u>set modifiable<CR>\n```\n\n quickfix `set modifiable` quickfix `write! filename``build.log`\n\n asynctask  quickfix \n\n```\n[load-quickfix]\ncommand=bat ./build.log\ncwd=<VIM_ROOT>\noutput=quickfix\n```\n\n\n\n vim log \n\n## quickfix \n\nvim quickfix  IDE  quickfix  shell  shell \n\nquickfix \n\n A  gentoo  vim  B  ubuntu  CAtlas 200DK C  B  vim ubuntu18.04\n\n B  A `compile_commands.json` CCPP  lsp \n\n A git  B  B  C  A quickfix\n\n ssh  go  ssh \n\n shell \n\n```sh\nssh niuiic@192.168.1.108 \"cd ~/AscendProjects/samples/cplusplus/level2_simple_inference/n_performance/1_multi_process_thread/face_recognition_camera && ./make.sh\"\n```\n\nA  git B `make.sh`\n\n B \n\nB  B  A quickfix \n\n\n\n`build.sh` shell \n\n```sh\nssh niuiic@192.168.1.108 \"cd ~/AscendProjects/samples/cplusplus/level2_simple_inference/n_performance/1_multi_process_thread/face_recognition_camera && ./make.sh\" > ./build.log 2>&1\n\nsed -i \"s/\\/home\\/niuiic\\/AscendProjects\\/samples\\/cplusplus\\/level2_simple_inference\\/n_performance\\/1_multi_process_thread\\/face_recognition_camera/\\/home\\/niuiic\\/Documents\\/Project\\/Cpp\\/face_recognition/g\" ./build.log\n\ncat ./build.log\n```\n\n quickfix quickfix \n\n quickfix  neovim `~/.config/nvim/after/syntax``qf.vim` vim  quickfix \n\n\n\n```\nsyn match QuickFixWarn /warning/\nsyn match QuickFixWarn /warn/\nsyn match QuickFixErr /error/\nsyn match QuickFixNote /note/\nhi def link     QuickFixErr         Function\nhi def link     QuickFixWarn         Function\nhi def link     QuickFixNote         Function\nhi QuickFixErr guifg=red\nhi QuickFixWarn guifg=yellow\nhi QuickFixNote guifg=green\n```\n\n warningerrornote \n","source":"_posts/vim-quickfix.md","raw":"---\ntitle: Vim Quickfix\ndate: 2021-4-17 21:01:56\ntags:\n  - Vim\ncategories:\n  - Vim\n---\n\n# Vim Quickfix\n\n vim quickfix \n\n##  quickfix\n\nquickfix  vim  IDE \n\nquickfix  quickfix  vim \n\n##  quickfix\n\n quickfix \n\n-  vim  make`:set makeprg=make`\n\n- `:make` make  vim  shell  make  quickfix \n\n- `:copen` quickfix \n\n![quickfix window](1.png)\n\n\n\n- vim `:cnext``:cprev``:cfirst``:clast` vim-clap  quickfix  quickfix  enter \n\n-  quickfix `:cclose`\n\n##  quickfix\n\n### \n\n`:copen` quickfix `:copexx``:copen25`\n\n### \n\n\n\n```vim\nau VimEnter * :set makeprg=make\nnnoremap <silent><nowait> <space>qs :<C-u>set makeprg=\nnnoremap <silent><nowait> <space>qo :<C-u>cope25<CR>\nnnoremap <silent><nowait> <space>qm :<C-u>make<CR>\nnnoremap <silent><nowait> <space>qc :<C-u>cclose<CR>\n\nnmap <A-j> :cnext<CR>\nnmap <A-k> :cprev<CR>\nnmap <A-g> :cfirst<CR>\nnmap <A-G> :clast<CR>\n\nlet g:which_key_map1.q = {\n\t\\ 'name' : '+quickfix',\n\t\\ 's' : 'set compile cmd',\n\t\\ 'o' : 'open quickfix window',\n\t\\ 'm' : 'make',\n\t\\ 'c' : 'close quickfix window'\n\t\\}\n```\n\n### \n\nquickfix `:make` vim\n\n`asynctasks.vim`\n\n```vim\nnnoremap <silent><nowait> <space>sR :<C-u>:AsyncTask project-run<CR>\nnnoremap <silent><nowait> <space>sB :<C-u>:AsyncTask project-build<CR>\nnnoremap <silent><nowait> <space>sb :<C-u>:AsyncTask file-build<CR>\nnnoremap <silent><nowait> <space>sr :<C-u>:AsyncTask file-run<CR>\nnnoremap <silent><nowait> <space>st :<C-u>:AsyncTaskList<CR>\nnnoremap <silent><nowait> <space>se :<C-u>:AsyncTaskEdit<CR>\nnnoremap <silent><nowait> <space>sE :<C-u>:AsyncTaskEdit!<CR>\nnnoremap <silent><nowait> <space>sg :<C-u>:AsyncTask git<CR>\nlet g:asyncrun_rootmarks = ['.git', '.svn', '.root', '.project', '.hg']\nlet g:asynctasks_term_pos = 'bottom'\nlet g:asynctasks_term_rows = 10    \" \nlet g:asynctasks_term_cols = 80    \" \n\nlet g:which_key_map1.s = {\n\t\\ 'name' : '+asynctasks',\n\t\\ 'R' : 'run project',\n\t\\ 'B' : 'build project',\n\t\\ 'b' : 'build file',\n\t\\ 'r' : 'run file',\n\t\\ 'e' : 'edit config',\n\t\\ 'E' : 'edit global config',\n\t\\ 't' : 'show task list',\n\t\\}\n\nlet g:asynctasks_config_name = '.git/task.ini'\n```\n\n\n\n`:AsyncTaskEdit`\n\n```\n[git]\ncommand=git add . && git commit -m $(?commit context) && proxychains git pull origin $(?merge branch) && proxychains git push -u origin $(?commit branch)\ncwd=<VIM_ROOT>\noutput=terminal\n```\n\n git `:AsyncTask git``$(?)``output``quickfix` quickfix \n\n quickfix \n\n### \n\n 100  99 quickfix  100  1 \n\n n \n\n neovim \n\n\n\n```viml\nnnoremap <silent><nowait> <space>qw :<C-u>write! build.log<CR>\nnnoremap <silent><nowait> <space>qe :<C-u>set modifiable<CR>\n```\n\n quickfix `set modifiable` quickfix `write! filename``build.log`\n\n asynctask  quickfix \n\n```\n[load-quickfix]\ncommand=bat ./build.log\ncwd=<VIM_ROOT>\noutput=quickfix\n```\n\n\n\n vim log \n\n## quickfix \n\nvim quickfix  IDE  quickfix  shell  shell \n\nquickfix \n\n A  gentoo  vim  B  ubuntu  CAtlas 200DK C  B  vim ubuntu18.04\n\n B  A `compile_commands.json` CCPP  lsp \n\n A git  B  B  C  A quickfix\n\n ssh  go  ssh \n\n shell \n\n```sh\nssh niuiic@192.168.1.108 \"cd ~/AscendProjects/samples/cplusplus/level2_simple_inference/n_performance/1_multi_process_thread/face_recognition_camera && ./make.sh\"\n```\n\nA  git B `make.sh`\n\n B \n\nB  B  A quickfix \n\n\n\n`build.sh` shell \n\n```sh\nssh niuiic@192.168.1.108 \"cd ~/AscendProjects/samples/cplusplus/level2_simple_inference/n_performance/1_multi_process_thread/face_recognition_camera && ./make.sh\" > ./build.log 2>&1\n\nsed -i \"s/\\/home\\/niuiic\\/AscendProjects\\/samples\\/cplusplus\\/level2_simple_inference\\/n_performance\\/1_multi_process_thread\\/face_recognition_camera/\\/home\\/niuiic\\/Documents\\/Project\\/Cpp\\/face_recognition/g\" ./build.log\n\ncat ./build.log\n```\n\n quickfix quickfix \n\n quickfix  neovim `~/.config/nvim/after/syntax``qf.vim` vim  quickfix \n\n\n\n```\nsyn match QuickFixWarn /warning/\nsyn match QuickFixWarn /warn/\nsyn match QuickFixErr /error/\nsyn match QuickFixNote /note/\nhi def link     QuickFixErr         Function\nhi def link     QuickFixWarn         Function\nhi def link     QuickFixNote         Function\nhi QuickFixErr guifg=red\nhi QuickFixWarn guifg=yellow\nhi QuickFixNote guifg=green\n```\n\n warningerrornote \n","slug":"vim-quickfix","published":1,"updated":"2021-05-10T07:14:26.102Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9dp004rdbiz7von95lx","content":"<h1 id=\"Vim-Quickfix\"><a href=\"#Vim-Quickfix\" class=\"headerlink\" title=\"Vim Quickfix\"></a>Vim Quickfix</h1><p> vim quickfix </p>\n<h2 id=\"-quickfix\"><a href=\"#-quickfix\" class=\"headerlink\" title=\" quickfix\"></a> quickfix</h2><p>quickfix  vim  IDE </p>\n<p>quickfix  quickfix  vim </p>\n<h2 id=\"-quickfix\"><a href=\"#-quickfix\" class=\"headerlink\" title=\" quickfix\"></a> quickfix</h2><p> quickfix </p>\n<ul>\n<li><p> vim  make<code>:set makeprg=make</code></p>\n</li>\n<li><p><code>:make</code> make  vim  shell  make  quickfix </p>\n</li>\n<li><p><code>:copen</code> quickfix </p>\n</li>\n</ul>\n<p><img src=\"1.png\" alt=\"quickfix window\"></p>\n<p></p>\n<ul>\n<li><p>vim <code>:cnext</code><code>:cprev</code><code>:cfirst</code><code>:clast</code> vim-clap  quickfix  quickfix  enter </p>\n</li>\n<li><p> quickfix <code>:cclose</code></p>\n</li>\n</ul>\n<h2 id=\"-quickfix\"><a href=\"#-quickfix\" class=\"headerlink\" title=\" quickfix\"></a> quickfix</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>:copen</code> quickfix <code>:copexx</code><code>:copen25</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\">au VimEnter <span class=\"token operator\">*</span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">set</span> <span class=\"token builtin\">makeprg</span><span class=\"token operator\">=</span><span class=\"token keyword\">make</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>qs <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token keyword\">set</span> <span class=\"token builtin\">makeprg</span><span class=\"token operator\">=</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>qo <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>cope25<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>qm <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token keyword\">make</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>qc <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token keyword\">cclose</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\nnmap <span class=\"token operator\">&lt;</span>A<span class=\"token operator\">-</span><span class=\"token keyword\">j</span><span class=\"token operator\">></span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">cnext</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span>A<span class=\"token operator\">-</span><span class=\"token keyword\">k</span><span class=\"token operator\">></span> <span class=\"token punctuation\">:</span>cprev<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span>A<span class=\"token operator\">-</span>g<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">cfirst</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span>A<span class=\"token operator\">-</span>G<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">clast</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span><span class=\"token keyword\">q</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n\t\\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+quickfix'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'set compile cmd'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'o'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'open quickfix window'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'m'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'make'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'c'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'close quickfix window'</span>\n\t\\<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>quickfix <code>:make</code> vim</p>\n<p><code>asynctasks.vim</code></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\">nnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>sR <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>AsyncTask project<span class=\"token operator\">-</span>run<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>sB <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>AsyncTask project<span class=\"token operator\">-</span>build<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">sb</span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>AsyncTask <span class=\"token keyword\">file</span><span class=\"token operator\">-</span>build<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token builtin\">sr</span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>AsyncTask <span class=\"token keyword\">file</span><span class=\"token operator\">-</span>run<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">st</span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>AsyncTaskList<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">se</span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>AsyncTaskEdit<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>sE <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>AsyncTaskEdit<span class=\"token operator\">!</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>sg <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>AsyncTask git<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>asyncrun_rootmarks <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'.git'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'.svn'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'.root'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'.project'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'.hg'</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>asynctasks_term_pos <span class=\"token operator\">=</span> <span class=\"token string\">'bottom'</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>asynctasks_term_rows <span class=\"token operator\">=</span> <span class=\"token number\">10</span>    <span class=\"token comment\">\" </span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>asynctasks_term_cols <span class=\"token operator\">=</span> <span class=\"token number\">80</span>    <span class=\"token comment\">\" </span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span>s <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n\t\\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+asynctasks'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'R'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'run project'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'B'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'build project'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'b'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'build file'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'r'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'run file'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'e'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'edit config'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'E'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'edit global config'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'t'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'show task list'</span><span class=\"token punctuation\">,</span>\n\t\\<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>asynctasks_config_name <span class=\"token operator\">=</span> <span class=\"token string\">'.git/task.ini'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p><code>:AsyncTaskEdit</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[git]\ncommand&#x3D;git add . &amp;&amp; git commit -m $(?commit context) &amp;&amp; proxychains git pull origin $(?merge branch) &amp;&amp; proxychains git push -u origin $(?commit branch)\ncwd&#x3D;&lt;VIM_ROOT&gt;\noutput&#x3D;terminal<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> git <code>:AsyncTask git</code><code>$(?)</code><code>output</code><code>quickfix</code> quickfix </p>\n<p> quickfix </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> 100  99 quickfix  100  1 </p>\n<p> n </p>\n<p> neovim </p>\n<p></p>\n<pre class=\"line-numbers language-viml\" data-language=\"viml\"><code class=\"language-viml\">nnoremap &lt;silent&gt;&lt;nowait&gt; &lt;space&gt;qw :&lt;C-u&gt;write! build.log&lt;CR&gt;\nnnoremap &lt;silent&gt;&lt;nowait&gt; &lt;space&gt;qe :&lt;C-u&gt;set modifiable&lt;CR&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p> quickfix <code>set modifiable</code> quickfix <code>write! filename</code><code>build.log</code></p>\n<p> asynctask  quickfix </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[load-quickfix]\ncommand&#x3D;bat .&#x2F;build.log\ncwd&#x3D;&lt;VIM_ROOT&gt;\noutput&#x3D;quickfix<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p> vim log </p>\n<h2 id=\"quickfix-\"><a href=\"#quickfix-\" class=\"headerlink\" title=\"quickfix \"></a>quickfix </h2><p>vim quickfix  IDE  quickfix  shell  shell </p>\n<p>quickfix </p>\n<p> A  gentoo  vim  B  ubuntu  CAtlas 200DK C  B  vim ubuntu18.04</p>\n<p> B  A <code>compile_commands.json</code> CCPP  lsp </p>\n<p> A git  B  B  C  A quickfix</p>\n<p> ssh  go  ssh </p>\n<p> shell </p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">ssh niuiic@192.168.1.108 &quot;cd ~&#x2F;AscendProjects&#x2F;samples&#x2F;cplusplus&#x2F;level2_simple_inference&#x2F;n_performance&#x2F;1_multi_process_thread&#x2F;face_recognition_camera &amp;&amp; .&#x2F;make.sh&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>A  git B <code>make.sh</code></p>\n<p> B </p>\n<p>B  B  A quickfix </p>\n<p></p>\n<p><code>build.sh</code> shell </p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">ssh niuiic@192.168.1.108 &quot;cd ~&#x2F;AscendProjects&#x2F;samples&#x2F;cplusplus&#x2F;level2_simple_inference&#x2F;n_performance&#x2F;1_multi_process_thread&#x2F;face_recognition_camera &amp;&amp; .&#x2F;make.sh&quot; &gt; .&#x2F;build.log 2&gt;&amp;1\n\nsed -i &quot;s&#x2F;\\&#x2F;home\\&#x2F;niuiic\\&#x2F;AscendProjects\\&#x2F;samples\\&#x2F;cplusplus\\&#x2F;level2_simple_inference\\&#x2F;n_performance\\&#x2F;1_multi_process_thread\\&#x2F;face_recognition_camera&#x2F;\\&#x2F;home\\&#x2F;niuiic\\&#x2F;Documents\\&#x2F;Project\\&#x2F;Cpp\\&#x2F;face_recognition&#x2F;g&quot; .&#x2F;build.log\n\ncat .&#x2F;build.log<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> quickfix quickfix </p>\n<p> quickfix  neovim <code>~/.config/nvim/after/syntax</code><code>qf.vim</code> vim  quickfix </p>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">syn match QuickFixWarn &#x2F;warning&#x2F;\nsyn match QuickFixWarn &#x2F;warn&#x2F;\nsyn match QuickFixErr &#x2F;error&#x2F;\nsyn match QuickFixNote &#x2F;note&#x2F;\nhi def link     QuickFixErr         Function\nhi def link     QuickFixWarn         Function\nhi def link     QuickFixNote         Function\nhi QuickFixErr guifg&#x3D;red\nhi QuickFixWarn guifg&#x3D;yellow\nhi QuickFixNote guifg&#x3D;green<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> warningerrornote </p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"Vim-Quickfix\"><a href=\"#Vim-Quickfix\" class=\"headerlink\" title=\"Vim Quickfix\"></a>Vim Quickfix</h1><p> vim quickfix </p>\n<h2 id=\"-quickfix\"><a href=\"#-quickfix\" class=\"headerlink\" title=\" quickfix\"></a> quickfix</h2><p>quickfix  vim  IDE </p>\n<p>quickfix  quickfix  vim </p>\n<h2 id=\"-quickfix\"><a href=\"#-quickfix\" class=\"headerlink\" title=\" quickfix\"></a> quickfix</h2><p> quickfix </p>\n<ul>\n<li><p> vim  make<code>:set makeprg=make</code></p>\n</li>\n<li><p><code>:make</code> make  vim  shell  make  quickfix </p>\n</li>\n<li><p><code>:copen</code> quickfix </p>\n</li>\n</ul>\n<p><img src=\"1.png\" alt=\"quickfix window\"></p>\n<p></p>\n<ul>\n<li><p>vim <code>:cnext</code><code>:cprev</code><code>:cfirst</code><code>:clast</code> vim-clap  quickfix  quickfix  enter </p>\n</li>\n<li><p> quickfix <code>:cclose</code></p>\n</li>\n</ul>\n<h2 id=\"-quickfix\"><a href=\"#-quickfix\" class=\"headerlink\" title=\" quickfix\"></a> quickfix</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>:copen</code> quickfix <code>:copexx</code><code>:copen25</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\">au VimEnter <span class=\"token operator\">*</span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">set</span> <span class=\"token builtin\">makeprg</span><span class=\"token operator\">=</span><span class=\"token keyword\">make</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>qs <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token keyword\">set</span> <span class=\"token builtin\">makeprg</span><span class=\"token operator\">=</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>qo <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>cope25<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>qm <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token keyword\">make</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>qc <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token keyword\">cclose</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\nnmap <span class=\"token operator\">&lt;</span>A<span class=\"token operator\">-</span><span class=\"token keyword\">j</span><span class=\"token operator\">></span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">cnext</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span>A<span class=\"token operator\">-</span><span class=\"token keyword\">k</span><span class=\"token operator\">></span> <span class=\"token punctuation\">:</span>cprev<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span>A<span class=\"token operator\">-</span>g<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">cfirst</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnmap <span class=\"token operator\">&lt;</span>A<span class=\"token operator\">-</span>G<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">clast</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span><span class=\"token keyword\">q</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n\t\\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+quickfix'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'set compile cmd'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'o'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'open quickfix window'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'m'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'make'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'c'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'close quickfix window'</span>\n\t\\<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>quickfix <code>:make</code> vim</p>\n<p><code>asynctasks.vim</code></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\">nnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>sR <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>AsyncTask project<span class=\"token operator\">-</span>run<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>sB <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>AsyncTask project<span class=\"token operator\">-</span>build<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">sb</span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>AsyncTask <span class=\"token keyword\">file</span><span class=\"token operator\">-</span>build<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token builtin\">sr</span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>AsyncTask <span class=\"token keyword\">file</span><span class=\"token operator\">-</span>run<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">st</span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>AsyncTaskList<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">se</span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>AsyncTaskEdit<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>sE <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>AsyncTaskEdit<span class=\"token operator\">!</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span>sg <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span>AsyncTask git<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>asyncrun_rootmarks <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'.git'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'.svn'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'.root'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'.project'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'.hg'</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>asynctasks_term_pos <span class=\"token operator\">=</span> <span class=\"token string\">'bottom'</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>asynctasks_term_rows <span class=\"token operator\">=</span> <span class=\"token number\">10</span>    <span class=\"token comment\">\" </span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>asynctasks_term_cols <span class=\"token operator\">=</span> <span class=\"token number\">80</span>    <span class=\"token comment\">\" </span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span>s <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n\t\\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+asynctasks'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'R'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'run project'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'B'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'build project'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'b'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'build file'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'r'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'run file'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'e'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'edit config'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'E'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'edit global config'</span><span class=\"token punctuation\">,</span>\n\t\\ <span class=\"token string\">'t'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'show task list'</span><span class=\"token punctuation\">,</span>\n\t\\<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>asynctasks_config_name <span class=\"token operator\">=</span> <span class=\"token string\">'.git/task.ini'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p><code>:AsyncTaskEdit</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[git]\ncommand&#x3D;git add . &amp;&amp; git commit -m $(?commit context) &amp;&amp; proxychains git pull origin $(?merge branch) &amp;&amp; proxychains git push -u origin $(?commit branch)\ncwd&#x3D;&lt;VIM_ROOT&gt;\noutput&#x3D;terminal<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> git <code>:AsyncTask git</code><code>$(?)</code><code>output</code><code>quickfix</code> quickfix </p>\n<p> quickfix </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> 100  99 quickfix  100  1 </p>\n<p> n </p>\n<p> neovim </p>\n<p></p>\n<pre class=\"line-numbers language-viml\" data-language=\"viml\"><code class=\"language-viml\">nnoremap &lt;silent&gt;&lt;nowait&gt; &lt;space&gt;qw :&lt;C-u&gt;write! build.log&lt;CR&gt;\nnnoremap &lt;silent&gt;&lt;nowait&gt; &lt;space&gt;qe :&lt;C-u&gt;set modifiable&lt;CR&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p> quickfix <code>set modifiable</code> quickfix <code>write! filename</code><code>build.log</code></p>\n<p> asynctask  quickfix </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[load-quickfix]\ncommand&#x3D;bat .&#x2F;build.log\ncwd&#x3D;&lt;VIM_ROOT&gt;\noutput&#x3D;quickfix<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p> vim log </p>\n<h2 id=\"quickfix-\"><a href=\"#quickfix-\" class=\"headerlink\" title=\"quickfix \"></a>quickfix </h2><p>vim quickfix  IDE  quickfix  shell  shell </p>\n<p>quickfix </p>\n<p> A  gentoo  vim  B  ubuntu  CAtlas 200DK C  B  vim ubuntu18.04</p>\n<p> B  A <code>compile_commands.json</code> CCPP  lsp </p>\n<p> A git  B  B  C  A quickfix</p>\n<p> ssh  go  ssh </p>\n<p> shell </p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">ssh niuiic@192.168.1.108 &quot;cd ~&#x2F;AscendProjects&#x2F;samples&#x2F;cplusplus&#x2F;level2_simple_inference&#x2F;n_performance&#x2F;1_multi_process_thread&#x2F;face_recognition_camera &amp;&amp; .&#x2F;make.sh&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>A  git B <code>make.sh</code></p>\n<p> B </p>\n<p>B  B  A quickfix </p>\n<p></p>\n<p><code>build.sh</code> shell </p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">ssh niuiic@192.168.1.108 &quot;cd ~&#x2F;AscendProjects&#x2F;samples&#x2F;cplusplus&#x2F;level2_simple_inference&#x2F;n_performance&#x2F;1_multi_process_thread&#x2F;face_recognition_camera &amp;&amp; .&#x2F;make.sh&quot; &gt; .&#x2F;build.log 2&gt;&amp;1\n\nsed -i &quot;s&#x2F;\\&#x2F;home\\&#x2F;niuiic\\&#x2F;AscendProjects\\&#x2F;samples\\&#x2F;cplusplus\\&#x2F;level2_simple_inference\\&#x2F;n_performance\\&#x2F;1_multi_process_thread\\&#x2F;face_recognition_camera&#x2F;\\&#x2F;home\\&#x2F;niuiic\\&#x2F;Documents\\&#x2F;Project\\&#x2F;Cpp\\&#x2F;face_recognition&#x2F;g&quot; .&#x2F;build.log\n\ncat .&#x2F;build.log<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> quickfix quickfix </p>\n<p> quickfix  neovim <code>~/.config/nvim/after/syntax</code><code>qf.vim</code> vim  quickfix </p>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">syn match QuickFixWarn &#x2F;warning&#x2F;\nsyn match QuickFixWarn &#x2F;warn&#x2F;\nsyn match QuickFixErr &#x2F;error&#x2F;\nsyn match QuickFixNote &#x2F;note&#x2F;\nhi def link     QuickFixErr         Function\nhi def link     QuickFixWarn         Function\nhi def link     QuickFixNote         Function\nhi QuickFixErr guifg&#x3D;red\nhi QuickFixWarn guifg&#x3D;yellow\nhi QuickFixNote guifg&#x3D;green<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> warningerrornote </p>\n"},{"title":"Vim Shortcut Key Management","date":"2020-10-19T14:01:56.000Z","_content":"\n# vim \n\n`vim-which-key` vim \n\n## \n\n- \n\n\n\n- \n\n vim  vim `ctrl``alt``shift``<space>``<leader>` vim \n\n\n\n## vim-which-key\n\n### \n\n![](./vim-shortcut-key-management/1.png)\n\n\n\n### vim-which-key \n\n[github ](https://github.com/liuchengxu/vim-which-key)\n\n\n\n### vim-which-key \n\n\n\n```vim\n\" \nlet g:which_key_map1 =  {}\nlet g:which_key_map2 =  {}\n\n\" leaderlocalleader\nlet g:mapleader = \"\\\\\"\nlet g:maplocalleader = \"\\<Space>\"\n\n\" \ncall which_key#register('<Space>', \"g:which_key_map1\")\ncall which_key#register('\\', \"g:which_key_map2\")\n\n\" vim-which-key\nnnoremap <silent> <localleader> :<c-u>WhichKey '<Space>'<CR>\nvnoremap <silent> <localleader> :<c-u>WhichKeyVisual '<Space>'<CR>\nnnoremap <silent> <leader> :<c-u>WhichKey '\\'<CR>\nvnoremap <silent> <leader> :<c-u>WhichKeyVisual '\\'<CR>\n\n\" statusline\nautocmd! FileType which_key\nautocmd  FileType which_key set laststatus=0 noshowmode noruler\n\t\t\t\\| autocmd BufLeave <buffer> set laststatus=2 showmode ruler\n```\n\n\n\n### \n\nvim-which-key \n\n\n\n- \n\n```vim\n\n\" coc-translator\n\" popup\nnmap <silent><nowait> <space>tp  <Plug>(coc-translator-p)\nvmap <silent><nowait> <space>tp  <Plug>(coc-translator-pv)\n\" echo\nnmap <silent><nowait> <space>te  <Plug>(coc-translator-e)\nvmap <silent><nowait> <space>te  <Plug>(coc-translator-ev)\n\" replace\nnmap <silent><nowait> <space>tr  <Plug>(coc-translator-r)\nvmap <silent><nowait> <space>tr  <Plug>(coc-translator-rv)\n\n\" vim-which-key\n\nlet g:which_key_map1.t = {\n\t\t\t\\ 'name' : '+translate',\n\t\t\t\\ 'p' : 'popup',\n\t\t\t\\ 'e' : 'echo',\n\t\t\t\\ 'r' : 'replace',\n\t\t\t\\ }\n```\n\n- \n\n```vim\nlet g:which_key_map1.l = 'move to line'\n```\n\n- \n\n`l`\n\n```vim\nlet g:which_key_map1.d = {\n\t\t\t\\ 'name' : '+debug',\n\t\t\t\\ 'e' : 'eval',\n\t\t\t\\ 'w' : 'variable watch',\n\t\t\t\\ 's' : 'start or continue',\n\t\t\t\\ 't' : 'stop',\n\t\t\t\\ 'r' : 'restart',\n\t\t\t\\ 'p' : 'pause',\n\t\t\t\\ 'b' : 'set breakpoint',\n\t\t\t\\ 'c' : 'set condition breakpoint',\n\t\t\t\\ 'f' : 'add function breakpoint',\n\t\t\t\\ 'n' : 'next',\n\t\t\t\\ 'i' : 'step in',\n\t\t\t\\ 'o' : 'step out',\n\t\t\t\\ 'q' : 'quit',\n\t\t\t\\ 'l' :  {\n\t\t\t\\ 'name' : '+switch_output',\n\t\t\t\\ 'c' : 'Console',\n\t\t\t\\ 'd' : 'stderr',\n\t\t\t\\ 'o' : 'Vimspector-out',\n\t\t\t\\ 'e' : 'Vimspector-err',\n\t\t\t\\ 's' : 'server',\n\t\t\t\\ 't' : 'Telemetry',\n\t\t\t\\},\n\t\t\t\\}\n```\n\n`which_key_ignore`\n\n```vim\nlet g:which_key_map2['\\'] = 'which_key_ignore'\nlet g:which_key_map2['\\A'] = 'which_key_ignore'\n````\n","source":"_posts/vim-shortcut-key-management.md","raw":"---\ntitle: Vim Shortcut Key Management\ndate: 2020-10-19 22:01:56\ntags:\n  - Vim\ncategories:\n  - Vim\n---\n\n# vim \n\n`vim-which-key` vim \n\n## \n\n- \n\n\n\n- \n\n vim  vim `ctrl``alt``shift``<space>``<leader>` vim \n\n\n\n## vim-which-key\n\n### \n\n![](./vim-shortcut-key-management/1.png)\n\n\n\n### vim-which-key \n\n[github ](https://github.com/liuchengxu/vim-which-key)\n\n\n\n### vim-which-key \n\n\n\n```vim\n\" \nlet g:which_key_map1 =  {}\nlet g:which_key_map2 =  {}\n\n\" leaderlocalleader\nlet g:mapleader = \"\\\\\"\nlet g:maplocalleader = \"\\<Space>\"\n\n\" \ncall which_key#register('<Space>', \"g:which_key_map1\")\ncall which_key#register('\\', \"g:which_key_map2\")\n\n\" vim-which-key\nnnoremap <silent> <localleader> :<c-u>WhichKey '<Space>'<CR>\nvnoremap <silent> <localleader> :<c-u>WhichKeyVisual '<Space>'<CR>\nnnoremap <silent> <leader> :<c-u>WhichKey '\\'<CR>\nvnoremap <silent> <leader> :<c-u>WhichKeyVisual '\\'<CR>\n\n\" statusline\nautocmd! FileType which_key\nautocmd  FileType which_key set laststatus=0 noshowmode noruler\n\t\t\t\\| autocmd BufLeave <buffer> set laststatus=2 showmode ruler\n```\n\n\n\n### \n\nvim-which-key \n\n\n\n- \n\n```vim\n\n\" coc-translator\n\" popup\nnmap <silent><nowait> <space>tp  <Plug>(coc-translator-p)\nvmap <silent><nowait> <space>tp  <Plug>(coc-translator-pv)\n\" echo\nnmap <silent><nowait> <space>te  <Plug>(coc-translator-e)\nvmap <silent><nowait> <space>te  <Plug>(coc-translator-ev)\n\" replace\nnmap <silent><nowait> <space>tr  <Plug>(coc-translator-r)\nvmap <silent><nowait> <space>tr  <Plug>(coc-translator-rv)\n\n\" vim-which-key\n\nlet g:which_key_map1.t = {\n\t\t\t\\ 'name' : '+translate',\n\t\t\t\\ 'p' : 'popup',\n\t\t\t\\ 'e' : 'echo',\n\t\t\t\\ 'r' : 'replace',\n\t\t\t\\ }\n```\n\n- \n\n```vim\nlet g:which_key_map1.l = 'move to line'\n```\n\n- \n\n`l`\n\n```vim\nlet g:which_key_map1.d = {\n\t\t\t\\ 'name' : '+debug',\n\t\t\t\\ 'e' : 'eval',\n\t\t\t\\ 'w' : 'variable watch',\n\t\t\t\\ 's' : 'start or continue',\n\t\t\t\\ 't' : 'stop',\n\t\t\t\\ 'r' : 'restart',\n\t\t\t\\ 'p' : 'pause',\n\t\t\t\\ 'b' : 'set breakpoint',\n\t\t\t\\ 'c' : 'set condition breakpoint',\n\t\t\t\\ 'f' : 'add function breakpoint',\n\t\t\t\\ 'n' : 'next',\n\t\t\t\\ 'i' : 'step in',\n\t\t\t\\ 'o' : 'step out',\n\t\t\t\\ 'q' : 'quit',\n\t\t\t\\ 'l' :  {\n\t\t\t\\ 'name' : '+switch_output',\n\t\t\t\\ 'c' : 'Console',\n\t\t\t\\ 'd' : 'stderr',\n\t\t\t\\ 'o' : 'Vimspector-out',\n\t\t\t\\ 'e' : 'Vimspector-err',\n\t\t\t\\ 's' : 'server',\n\t\t\t\\ 't' : 'Telemetry',\n\t\t\t\\},\n\t\t\t\\}\n```\n\n`which_key_ignore`\n\n```vim\nlet g:which_key_map2['\\'] = 'which_key_ignore'\nlet g:which_key_map2['\\A'] = 'which_key_ignore'\n````\n","slug":"vim-shortcut-key-management","published":1,"updated":"2021-03-23T11:11:18.585Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9dq004vdbiz29px8osp","content":"<h1 id=\"vim-\"><a href=\"#vim-\" class=\"headerlink\" title=\"vim \"></a>vim </h1><p><code>vim-which-key</code> vim </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<p> vim  vim <code>ctrl</code><code>alt</code><code>shift</code><code>&lt;space&gt;</code><code>&lt;leader&gt;</code> vim </p>\n<p></p>\n<h2 id=\"vim-which-key\"><a href=\"#vim-which-key\" class=\"headerlink\" title=\"vim-which-key\"></a>vim-which-key</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"./vim-shortcut-key-management/1.png\" alt=\"\"></p>\n<p></p>\n<h3 id=\"vim-which-key-\"><a href=\"#vim-which-key-\" class=\"headerlink\" title=\"vim-which-key \"></a>vim-which-key </h3><p><a href=\"https://github.com/liuchengxu/vim-which-key\">github </a></p>\n<p></p>\n<h3 id=\"vim-which-key-\"><a href=\"#vim-which-key-\" class=\"headerlink\" title=\"vim-which-key \"></a>vim-which-key </h3><p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" </span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1 <span class=\"token operator\">=</span>  <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map2 <span class=\"token operator\">=</span>  <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">\" leaderlocalleader</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>mapleader <span class=\"token operator\">=</span> <span class=\"token string\">\"\\\\\"</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>maplocalleader <span class=\"token operator\">=</span> <span class=\"token string\">\"\\&lt;Space>\"</span>\n\n<span class=\"token comment\">\" </span>\n<span class=\"token keyword\">call</span> which_key#<span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;Space>'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"g:which_key_map1\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">call</span> which_key#<span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\\'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"g:which_key_map2\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">\" vim-which-key</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>localleader<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">c</span><span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>WhichKey <span class=\"token string\">'&lt;Space>'</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nvnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>localleader<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">c</span><span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>WhichKeyVisual <span class=\"token string\">'&lt;Space>'</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">c</span><span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>WhichKey <span class=\"token string\">'\\'</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nvnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">c</span><span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>WhichKeyVisual <span class=\"token string\">'\\'</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\n<span class=\"token comment\">\" statusline</span>\n<span class=\"token builtin\">autocmd</span><span class=\"token operator\">!</span> FileType which_key\n<span class=\"token builtin\">autocmd</span>  FileType which_key <span class=\"token keyword\">set</span> <span class=\"token builtin\">laststatus</span><span class=\"token operator\">=</span><span class=\"token number\">0</span> <span class=\"token builtin\">noshowmode</span> <span class=\"token builtin\">noruler</span>\n\t\t\t\\| <span class=\"token builtin\">autocmd</span> BufLeave <span class=\"token operator\">&lt;</span><span class=\"token keyword\">buffer</span><span class=\"token operator\">></span> <span class=\"token keyword\">set</span> <span class=\"token builtin\">laststatus</span><span class=\"token operator\">=</span><span class=\"token number\">2</span> <span class=\"token builtin\">showmode</span> <span class=\"token builtin\">ruler</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>vim-which-key </p>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\">\n<span class=\"token comment\">\" coc-translator</span>\n<span class=\"token comment\">\" popup</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">tp</span>  <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>translator<span class=\"token operator\">-</span><span class=\"token keyword\">p</span><span class=\"token punctuation\">)</span>\nvmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">tp</span>  <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>translator<span class=\"token operator\">-</span>pv<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">\" echo</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">te</span>  <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>translator<span class=\"token operator\">-</span><span class=\"token keyword\">e</span><span class=\"token punctuation\">)</span>\nvmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">te</span>  <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>translator<span class=\"token operator\">-</span>ev<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">\" replace</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">tr</span>  <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>translator<span class=\"token operator\">-</span><span class=\"token keyword\">r</span><span class=\"token punctuation\">)</span>\nvmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">tr</span>  <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>translator<span class=\"token operator\">-</span><span class=\"token keyword\">rv</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">\" vim-which-key</span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span><span class=\"token keyword\">t</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t\\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+translate'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'p'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'popup'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'e'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'echo'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'r'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'replace'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span><span class=\"token keyword\">l</span> <span class=\"token operator\">=</span> <span class=\"token string\">'move to line'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p><code>l</code></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span><span class=\"token keyword\">d</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t\\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+debug'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'e'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'eval'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'w'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'variable watch'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'start or continue'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'t'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'stop'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'r'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'restart'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'p'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'pause'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'b'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'set breakpoint'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'c'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'set condition breakpoint'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'f'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'add function breakpoint'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'n'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'next'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'i'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'step in'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'o'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'step out'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'q'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'quit'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'l'</span> <span class=\"token punctuation\">:</span>  <span class=\"token punctuation\">&#123;</span>\n\t\t\t\\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+switch_output'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'c'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Console'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'d'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'stderr'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'o'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Vimspector-out'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'e'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Vimspector-err'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'server'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'t'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Telemetry'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n\t\t\t\\<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>which_key_ignore</code></p>\n<pre><code class=\"vim\">let g:which_key_map2[&#39;\\&#39;] = &#39;which_key_ignore&#39;\nlet g:which_key_map2[&#39;\\A&#39;] = &#39;which_key_ignore&#39;\n</code></pre>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"vim-\"><a href=\"#vim-\" class=\"headerlink\" title=\"vim \"></a>vim </h1><p><code>vim-which-key</code> vim </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<p> vim  vim <code>ctrl</code><code>alt</code><code>shift</code><code>&lt;space&gt;</code><code>&lt;leader&gt;</code> vim </p>\n<p></p>\n<h2 id=\"vim-which-key\"><a href=\"#vim-which-key\" class=\"headerlink\" title=\"vim-which-key\"></a>vim-which-key</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"./vim-shortcut-key-management/1.png\" alt=\"\"></p>\n<p></p>\n<h3 id=\"vim-which-key-\"><a href=\"#vim-which-key-\" class=\"headerlink\" title=\"vim-which-key \"></a>vim-which-key </h3><p><a href=\"https://github.com/liuchengxu/vim-which-key\">github </a></p>\n<p></p>\n<h3 id=\"vim-which-key-\"><a href=\"#vim-which-key-\" class=\"headerlink\" title=\"vim-which-key \"></a>vim-which-key </h3><p></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" </span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1 <span class=\"token operator\">=</span>  <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map2 <span class=\"token operator\">=</span>  <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">\" leaderlocalleader</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>mapleader <span class=\"token operator\">=</span> <span class=\"token string\">\"\\\\\"</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>maplocalleader <span class=\"token operator\">=</span> <span class=\"token string\">\"\\&lt;Space>\"</span>\n\n<span class=\"token comment\">\" </span>\n<span class=\"token keyword\">call</span> which_key#<span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;Space>'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"g:which_key_map1\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">call</span> which_key#<span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\\'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"g:which_key_map2\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">\" vim-which-key</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>localleader<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">c</span><span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>WhichKey <span class=\"token string\">'&lt;Space>'</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nvnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>localleader<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">c</span><span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>WhichKeyVisual <span class=\"token string\">'&lt;Space>'</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">c</span><span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>WhichKey <span class=\"token string\">'\\'</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\nvnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>leader<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">c</span><span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>WhichKeyVisual <span class=\"token string\">'\\'</span><span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span>\n\n<span class=\"token comment\">\" statusline</span>\n<span class=\"token builtin\">autocmd</span><span class=\"token operator\">!</span> FileType which_key\n<span class=\"token builtin\">autocmd</span>  FileType which_key <span class=\"token keyword\">set</span> <span class=\"token builtin\">laststatus</span><span class=\"token operator\">=</span><span class=\"token number\">0</span> <span class=\"token builtin\">noshowmode</span> <span class=\"token builtin\">noruler</span>\n\t\t\t\\| <span class=\"token builtin\">autocmd</span> BufLeave <span class=\"token operator\">&lt;</span><span class=\"token keyword\">buffer</span><span class=\"token operator\">></span> <span class=\"token keyword\">set</span> <span class=\"token builtin\">laststatus</span><span class=\"token operator\">=</span><span class=\"token number\">2</span> <span class=\"token builtin\">showmode</span> <span class=\"token builtin\">ruler</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>vim-which-key </p>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\">\n<span class=\"token comment\">\" coc-translator</span>\n<span class=\"token comment\">\" popup</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">tp</span>  <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>translator<span class=\"token operator\">-</span><span class=\"token keyword\">p</span><span class=\"token punctuation\">)</span>\nvmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">tp</span>  <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>translator<span class=\"token operator\">-</span>pv<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">\" echo</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">te</span>  <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>translator<span class=\"token operator\">-</span><span class=\"token keyword\">e</span><span class=\"token punctuation\">)</span>\nvmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">te</span>  <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>translator<span class=\"token operator\">-</span>ev<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">\" replace</span>\nnmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">tr</span>  <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>translator<span class=\"token operator\">-</span><span class=\"token keyword\">r</span><span class=\"token punctuation\">)</span>\nvmap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">tr</span>  <span class=\"token operator\">&lt;</span>Plug<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>coc<span class=\"token operator\">-</span>translator<span class=\"token operator\">-</span><span class=\"token keyword\">rv</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">\" vim-which-key</span>\n\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span><span class=\"token keyword\">t</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t\\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+translate'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'p'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'popup'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'e'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'echo'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'r'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'replace'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span><span class=\"token keyword\">l</span> <span class=\"token operator\">=</span> <span class=\"token string\">'move to line'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<p><code>l</code></p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span><span class=\"token keyword\">d</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t\\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+debug'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'e'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'eval'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'w'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'variable watch'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'start or continue'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'t'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'stop'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'r'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'restart'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'p'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'pause'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'b'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'set breakpoint'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'c'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'set condition breakpoint'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'f'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'add function breakpoint'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'n'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'next'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'i'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'step in'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'o'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'step out'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'q'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'quit'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'l'</span> <span class=\"token punctuation\">:</span>  <span class=\"token punctuation\">&#123;</span>\n\t\t\t\\ <span class=\"token string\">'name'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'+switch_output'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'c'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Console'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'d'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'stderr'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'o'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Vimspector-out'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'e'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Vimspector-err'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'server'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'t'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Telemetry'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n\t\t\t\\<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>which_key_ignore</code></p>\n<pre><code class=\"vim\">let g:which_key_map2[&#39;\\&#39;] = &#39;which_key_ignore&#39;\nlet g:which_key_map2[&#39;\\A&#39;] = &#39;which_key_ignore&#39;\n</code></pre>\n"},{"title":"Vim Tagbar","date":"2020-10-19T04:18:02.000Z","_content":"\n# vim tagbar\n\n vim tagbar  tags \n\n## vista.vim \n\nvista.vim  tagbar  lsp lsp  tags\n\nvista.vim  tags  universal-ctagsalevim-lspcoc.nvimLanguageClient-neovimvim-lscnvim-lspconfig  tags  fzfskimvim-clap  universal-ctags coc.nvim  ale vim-clap\n\n## vista.vim \n\nvista.vim [github ](https://github.com/liuchengxu/vista.vim)\n\n vista.vim\n\n```vim\n\" vista.vim\nfunction! NearestMethodOrFunction() abort\n\treturn get(b:, 'vista_nearest_method_or_function', '')\nendfunction\n\nset statusline+=%{NearestMethodOrFunction()}\n\n\" By default vista.vim never run if you don't call it explicitly.\n\"\n\" If you want to show the nearest function in your statusline automatically,\n\" you can add the following line to your vimrc\nautocmd VimEnter * call vista#RunForNearestMethodOrFunction()\nlet g:vista_icon_indent = [\" \", \" \"]\nlet g:vista_default_executive = 'ctags'\nlet g:vista_executive_for = {\n\t\t\t\\ 'cpp': 'coc',\n\t\t\t\\ 'php': 'coc',\n\t\t\t\\ }\nlet g:vista_ctags_cmd = {\n\t\t\t\\ 'haskell': 'hasktags -x -o - -c',\n\t\t\t\\ }\nlet g:vista_fzf_preview = ['right:50%']\nlet g:vista#renderer#enable_icon = 1\nlet g:vista#renderer#icons = {\n\t\t\t\\   \"function\": \"\\uf794\",\n\t\t\t\\   \"variable\": \"\\uf71b\",\n\t\t\t\\  }\nnnoremap <silent><nowait> <space>m :<C-u>Vista!!<cr>\nlet g:which_key_map1.m = 'open the file tagbar'\n```\n\n\n\n```\nlet g:vista_default_executive = 'ctags'\nlet g:vista_executive_for = {\n\t\t\t\\ 'cpp': 'coc',\n\t\t\t\\ 'php': 'coc',\n\t\t\t\\ }\nnnoremap <silent><nowait> <space>m :<C-u>Vista!!<cr>\n```\n\n tags  tags `universal-ctags` ctags github \n\n\n\n`:Vista!!`\n","source":"_posts/vim-tagbar.md","raw":"---\ntitle: Vim Tagbar\ndate: 2020-10-19 12:18:02\ntags:\n  - Vim\ncategories:\n  - Vim\n---\n\n# vim tagbar\n\n vim tagbar  tags \n\n## vista.vim \n\nvista.vim  tagbar  lsp lsp  tags\n\nvista.vim  tags  universal-ctagsalevim-lspcoc.nvimLanguageClient-neovimvim-lscnvim-lspconfig  tags  fzfskimvim-clap  universal-ctags coc.nvim  ale vim-clap\n\n## vista.vim \n\nvista.vim [github ](https://github.com/liuchengxu/vista.vim)\n\n vista.vim\n\n```vim\n\" vista.vim\nfunction! NearestMethodOrFunction() abort\n\treturn get(b:, 'vista_nearest_method_or_function', '')\nendfunction\n\nset statusline+=%{NearestMethodOrFunction()}\n\n\" By default vista.vim never run if you don't call it explicitly.\n\"\n\" If you want to show the nearest function in your statusline automatically,\n\" you can add the following line to your vimrc\nautocmd VimEnter * call vista#RunForNearestMethodOrFunction()\nlet g:vista_icon_indent = [\" \", \" \"]\nlet g:vista_default_executive = 'ctags'\nlet g:vista_executive_for = {\n\t\t\t\\ 'cpp': 'coc',\n\t\t\t\\ 'php': 'coc',\n\t\t\t\\ }\nlet g:vista_ctags_cmd = {\n\t\t\t\\ 'haskell': 'hasktags -x -o - -c',\n\t\t\t\\ }\nlet g:vista_fzf_preview = ['right:50%']\nlet g:vista#renderer#enable_icon = 1\nlet g:vista#renderer#icons = {\n\t\t\t\\   \"function\": \"\\uf794\",\n\t\t\t\\   \"variable\": \"\\uf71b\",\n\t\t\t\\  }\nnnoremap <silent><nowait> <space>m :<C-u>Vista!!<cr>\nlet g:which_key_map1.m = 'open the file tagbar'\n```\n\n\n\n```\nlet g:vista_default_executive = 'ctags'\nlet g:vista_executive_for = {\n\t\t\t\\ 'cpp': 'coc',\n\t\t\t\\ 'php': 'coc',\n\t\t\t\\ }\nnnoremap <silent><nowait> <space>m :<C-u>Vista!!<cr>\n```\n\n tags  tags `universal-ctags` ctags github \n\n\n\n`:Vista!!`\n","slug":"vim-tagbar","published":1,"updated":"2021-03-23T11:11:18.585Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckqeow9dr004ydbiz4sea0o13","content":"<h1 id=\"vim-tagbar\"><a href=\"#vim-tagbar\" class=\"headerlink\" title=\"vim tagbar\"></a>vim tagbar</h1><p> vim tagbar  tags </p>\n<h2 id=\"vista-vim-\"><a href=\"#vista-vim-\" class=\"headerlink\" title=\"vista.vim \"></a>vista.vim </h2><p>vista.vim  tagbar  lsp lsp  tags</p>\n<p>vista.vim  tags  universal-ctagsalevim-lspcoc.nvimLanguageClient-neovimvim-lscnvim-lspconfig  tags  fzfskimvim-clap  universal-ctags coc.nvim  ale vim-clap</p>\n<h2 id=\"vista-vim-\"><a href=\"#vista-vim-\" class=\"headerlink\" title=\"vista.vim \"></a>vista.vim </h2><p>vista.vim <a href=\"https://github.com/liuchengxu/vista.vim\">github </a></p>\n<p> vista.vim</p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" vista.vim</span>\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> <span class=\"token function\">NearestMethodOrFunction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> abort\n\t<span class=\"token keyword\">return</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">b</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'vista_nearest_method_or_function'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">endfunction</span>\n\n<span class=\"token keyword\">set</span> <span class=\"token builtin\">statusline</span><span class=\"token operator\">+=</span><span class=\"token operator\">%</span><span class=\"token punctuation\">&#123;</span><span class=\"token function\">NearestMethodOrFunction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">\" By default vista.vim never run if you don't call it explicitly.</span>\n<span class=\"token comment\">\"</span>\n<span class=\"token comment\">\" If you want to show the nearest function in your statusline automatically,</span>\n<span class=\"token comment\">\" you can add the following line to your vimrc</span>\n<span class=\"token builtin\">autocmd</span> VimEnter <span class=\"token operator\">*</span> <span class=\"token keyword\">call</span> vista#<span class=\"token function\">RunForNearestMethodOrFunction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>vista_icon_indent <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>vista_default_executive <span class=\"token operator\">=</span> <span class=\"token string\">'ctags'</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>vista_executive_for <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t\\ <span class=\"token string\">'cpp'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'coc'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'php'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'coc'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>vista_ctags_cmd <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t\\ <span class=\"token string\">'haskell'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'hasktags -x -o - -c'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>vista_fzf_preview <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'right:50%'</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>vista#renderer#enable_icon <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>vista#renderer#icons <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t\\   <span class=\"token string\">\"function\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\uf794\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\\   <span class=\"token string\">\"variable\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\uf71b\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\\  <span class=\"token punctuation\">&#125;</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">m</span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Vista<span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span><span class=\"token keyword\">m</span> <span class=\"token operator\">=</span> <span class=\"token string\">'open the file tagbar'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">let g:vista_default_executive &#x3D; &#39;ctags&#39;\nlet g:vista_executive_for &#x3D; &#123;\n\t\t\t\\ &#39;cpp&#39;: &#39;coc&#39;,\n\t\t\t\\ &#39;php&#39;: &#39;coc&#39;,\n\t\t\t\\ &#125;\nnnoremap &lt;silent&gt;&lt;nowait&gt; &lt;space&gt;m :&lt;C-u&gt;Vista!!&lt;cr&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> tags  tags <code>universal-ctags</code> ctags github </p>\n<p></p>\n<p><code>:Vista!!</code></p>\n","site":{"data":{"friends":[{"avatar":"https://rtic.rs/0.5/book/en/RTIC.svg","name":"Rust RTIC","introduction":"Rust","url":"https://rtic.rs/0.5/book/en/","title":""},{"avatar":"https://v3.vuejs.org/logo.png","name":"Vue3 FrameWork","introduction":"Vue3 ","url":"https://v3.vuejs.org/guide/installation.html","title":""},{"avatar":"https://tauri.studio/en/img/tauri.png","name":"Tauri","introduction":"electronSPA","url":"https://tauri.studio/en/docs/getting-started/intro/","title":""},{"avatar":"https://d33wubrfki0l68.cloudfront.net/a8b30e56e49a257f977e52e05cd27e72f4d8cde7/5a25d/assets/img/tock.svg","name":"Tock OS","introduction":"Rust","url":"https://www.tockos.org/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Macros","introduction":"Rust","url":"https://veykril.github.io/tlborm/","title":""},{"avatar":"https://www.rust-lang.org/static/images/rust-logo-blk.svg","name":"Rust Forum","introduction":"Rust","url":"https://users.rust-lang.org/","title":""},{"avatar":"https://tokio.rs/img/tokio-horizontal.svg","name":"Rust Tokio","introduction":"Rust","url":"https://tokio.rs/","title":""}]}},"excerpt":"","more":"<h1 id=\"vim-tagbar\"><a href=\"#vim-tagbar\" class=\"headerlink\" title=\"vim tagbar\"></a>vim tagbar</h1><p> vim tagbar  tags </p>\n<h2 id=\"vista-vim-\"><a href=\"#vista-vim-\" class=\"headerlink\" title=\"vista.vim \"></a>vista.vim </h2><p>vista.vim  tagbar  lsp lsp  tags</p>\n<p>vista.vim  tags  universal-ctagsalevim-lspcoc.nvimLanguageClient-neovimvim-lscnvim-lspconfig  tags  fzfskimvim-clap  universal-ctags coc.nvim  ale vim-clap</p>\n<h2 id=\"vista-vim-\"><a href=\"#vista-vim-\" class=\"headerlink\" title=\"vista.vim \"></a>vista.vim </h2><p>vista.vim <a href=\"https://github.com/liuchengxu/vista.vim\">github </a></p>\n<p> vista.vim</p>\n<pre class=\"line-numbers language-vim\" data-language=\"vim\"><code class=\"language-vim\"><span class=\"token comment\">\" vista.vim</span>\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> <span class=\"token function\">NearestMethodOrFunction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> abort\n\t<span class=\"token keyword\">return</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">b</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'vista_nearest_method_or_function'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">endfunction</span>\n\n<span class=\"token keyword\">set</span> <span class=\"token builtin\">statusline</span><span class=\"token operator\">+=</span><span class=\"token operator\">%</span><span class=\"token punctuation\">&#123;</span><span class=\"token function\">NearestMethodOrFunction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">\" By default vista.vim never run if you don't call it explicitly.</span>\n<span class=\"token comment\">\"</span>\n<span class=\"token comment\">\" If you want to show the nearest function in your statusline automatically,</span>\n<span class=\"token comment\">\" you can add the following line to your vimrc</span>\n<span class=\"token builtin\">autocmd</span> VimEnter <span class=\"token operator\">*</span> <span class=\"token keyword\">call</span> vista#<span class=\"token function\">RunForNearestMethodOrFunction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>vista_icon_indent <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>vista_default_executive <span class=\"token operator\">=</span> <span class=\"token string\">'ctags'</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>vista_executive_for <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t\\ <span class=\"token string\">'cpp'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'coc'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token string\">'php'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'coc'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>vista_ctags_cmd <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t\\ <span class=\"token string\">'haskell'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'hasktags -x -o - -c'</span><span class=\"token punctuation\">,</span>\n\t\t\t\\ <span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>vista_fzf_preview <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'right:50%'</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>vista#renderer#enable_icon <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>vista#renderer#icons <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t\\   <span class=\"token string\">\"function\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\uf794\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\\   <span class=\"token string\">\"variable\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\\uf71b\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\\  <span class=\"token punctuation\">&#125;</span>\nnnoremap <span class=\"token operator\">&lt;</span><span class=\"token keyword\">silent</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>nowait<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span><span class=\"token keyword\">m</span> <span class=\"token punctuation\">:</span><span class=\"token operator\">&lt;</span>C<span class=\"token operator\">-</span><span class=\"token keyword\">u</span><span class=\"token operator\">></span>Vista<span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">cr</span><span class=\"token operator\">></span>\n<span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>which_key_map1<span class=\"token operator\">.</span><span class=\"token keyword\">m</span> <span class=\"token operator\">=</span> <span class=\"token string\">'open the file tagbar'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">let g:vista_default_executive &#x3D; &#39;ctags&#39;\nlet g:vista_executive_for &#x3D; &#123;\n\t\t\t\\ &#39;cpp&#39;: &#39;coc&#39;,\n\t\t\t\\ &#39;php&#39;: &#39;coc&#39;,\n\t\t\t\\ &#125;\nnnoremap &lt;silent&gt;&lt;nowait&gt; &lt;space&gt;m :&lt;C-u&gt;Vista!!&lt;cr&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> tags  tags <code>universal-ctags</code> ctags github </p>\n<p></p>\n<p><code>:Vista!!</code></p>\n"}],"PostAsset":[{"_id":"source/_posts/basic-tutorial-of-vue-vite-typescript/1.png","post":"ckqeow9bj0003dbizabqa89bh","slug":"1.png","modified":1,"renderable":1},{"_id":"source/_posts/gentoo-basic-system-installation/1.png","post":"ckqeow9cq001ydbizbkfxc3cg","slug":"1.png","modified":1,"renderable":1},{"_id":"source/_posts/gentoo-basic-system-installation/2.png","post":"ckqeow9cq001ydbizbkfxc3cg","slug":"2.png","modified":1,"renderable":1},{"_id":"source/_posts/gentoo-basic-system-installation/3.png","post":"ckqeow9cq001ydbizbkfxc3cg","slug":"3.png","modified":1,"renderable":1},{"_id":"source/_posts/gentoo-package-management/1.png","post":"ckqeow9cv002bdbizfgzj0x0j","slug":"1.png","modified":1,"renderable":1},{"_id":"source/_posts/gentoo-package-management/2.png","post":"ckqeow9cv002bdbizfgzj0x0j","slug":"2.png","modified":1,"renderable":1},{"_id":"source/_posts/gentoo-package-management/3.png","post":"ckqeow9cv002bdbizfgzj0x0j","slug":"3.png","modified":1,"renderable":1},{"_id":"source/_posts/gentoo-preface/1.png","post":"ckqeow9cw002gdbiz3z3229iy","slug":"1.png","modified":1,"renderable":1},{"_id":"source/_posts/install-manjaro-on-rpi4/1.png","post":"ckqeow9d0002rdbiz3zp7gbff","slug":"1.png","modified":1,"renderable":1},{"_id":"source/_posts/install-manjaro-on-rpi4/2.png","post":"ckqeow9d0002rdbiz3zp7gbff","slug":"2.png","modified":1,"renderable":1},{"_id":"source/_posts/install-manjaro-on-rpi4/3.png","post":"ckqeow9d0002rdbiz3zp7gbff","slug":"3.png","modified":1,"renderable":1},{"_id":"source/_posts/spartan-edge-accelerator-board-tutorial/1.png","post":"ckqeow9d50037dbizbt3u2mbt","slug":"1.png","modified":1,"renderable":1},{"_id":"source/_posts/vim-quickfix/1.png","post":"ckqeow9dp004rdbiz7von95lx","slug":"1.png","modified":1,"renderable":1},{"_id":"source/_posts/vim-shortcut-key-management/1.png","post":"ckqeow9dq004vdbiz29px8osp","slug":"1.png","modified":1,"renderable":1}],"PostCategory":[{"post_id":"ckqeow9bf0001dbiz6ij16w2u","category_id":"ckqeow9bl0004dbizadfn5hw4","_id":"ckqeow9bx000idbizdxz7hw8w"},{"post_id":"ckqeow9bu000gdbiz090ngi8n","category_id":"ckqeow9bl0004dbizadfn5hw4","_id":"ckqeow9c1000odbizc2mhg4dy"},{"post_id":"ckqeow9bj0003dbizabqa89bh","category_id":"ckqeow9bs000cdbiz6srre6qm","_id":"ckqeow9c2000sdbizfywz5tj1"},{"post_id":"ckqeow9bv000hdbizbbmugdlk","category_id":"ckqeow9bs000cdbiz6srre6qm","_id":"ckqeow9c4000udbizgx2levgx"},{"post_id":"ckqeow9bn0007dbiz3a8p3pns","category_id":"ckqeow9bs000cdbiz6srre6qm","_id":"ckqeow9c5000ydbiz7sy2dpqy"},{"post_id":"ckqeow9c2000rdbizet81d3io","category_id":"ckqeow9c1000pdbizhvut39xd","_id":"ckqeow9c60011dbizf3cb2exr"},{"post_id":"ckqeow9bp0009dbizf5jl7i8t","category_id":"ckqeow9c1000pdbizhvut39xd","_id":"ckqeow9ca0016dbiz5sjn2f3s"},{"post_id":"ckqeow9bz000mdbiz2tib81q5","category_id":"ckqeow9c70012dbiz04m2aew9","_id":"ckqeow9cg001ddbiz8esmbzbq"},{"post_id":"ckqeow9cp001xdbizdiumauc6","category_id":"ckqeow9c70012dbiz04m2aew9","_id":"ckqeow9ct0024dbizefqh7kns"},{"post_id":"ckqeow9cq001ydbizbkfxc3cg","category_id":"ckqeow9c1000pdbizhvut39xd","_id":"ckqeow9cu0029dbiz78ssc0yd"},{"post_id":"ckqeow9br000bdbizb3m230a1","category_id":"ckqeow9bs000cdbiz6srre6qm","_id":"ckqeow9cv002cdbiz0ewc8ibx"},{"post_id":"ckqeow9br000bdbizb3m230a1","category_id":"ckqeow9co001vdbiza4lafy4f","_id":"ckqeow9cx002hdbizcw6d787h"},{"post_id":"ckqeow9cr0021dbiz2j6842fr","category_id":"ckqeow9c1000pdbizhvut39xd","_id":"ckqeow9cy002kdbizfi28h4bq"},{"post_id":"ckqeow9cs0023dbizcv1e06wq","category_id":"ckqeow9c1000pdbizhvut39xd","_id":"ckqeow9d0002pdbizhw6gcxz6"},{"post_id":"ckqeow9cu0028dbiz9wj2fw5a","category_id":"ckqeow9c1000pdbizhvut39xd","_id":"ckqeow9d1002sdbizgjt56yyo"},{"post_id":"ckqeow9cv002bdbizfgzj0x0j","category_id":"ckqeow9c1000pdbizhvut39xd","_id":"ckqeow9d2002xdbiz51w540gi"},{"post_id":"ckqeow9cw002gdbiz3z3229iy","category_id":"ckqeow9c1000pdbizhvut39xd","_id":"ckqeow9d30030dbiz21ml3h33"},{"post_id":"ckqeow9cy002jdbizb3mn0o1k","category_id":"ckqeow9c1000pdbizhvut39xd","_id":"ckqeow9d50035dbiz9sju3h34"},{"post_id":"ckqeow9cz002odbiz86nufw4d","category_id":"ckqeow9c1000pdbizhvut39xd","_id":"ckqeow9d50038dbiz7vk550co"},{"post_id":"ckqeow9c0000ndbiz59u23v0n","category_id":"ckqeow9cc0019dbiz4rmb636l","_id":"ckqeow9d7003ddbiz3vpr0ms6"},{"post_id":"ckqeow9c0000ndbiz59u23v0n","category_id":"ckqeow9cz002ldbiz6uqf2kzl","_id":"ckqeow9d8003gdbiz07ts7g02"},{"post_id":"ckqeow9d2002wdbiz0l1e2taw","category_id":"ckqeow9c1000pdbizhvut39xd","_id":"ckqeow9d9003kdbiz9hwv39oa"},{"post_id":"ckqeow9d3002zdbizd6jfhot8","category_id":"ckqeow9c1000pdbizhvut39xd","_id":"ckqeow9db003odbizddzd4jgb"},{"post_id":"ckqeow9d40034dbizgkgz85b1","category_id":"ckqeow9co001vdbiza4lafy4f","_id":"ckqeow9dc003sdbiz1l5b9yie"},{"post_id":"ckqeow9d50037dbizbt3u2mbt","category_id":"ckqeow9c70012dbiz04m2aew9","_id":"ckqeow9dd003wdbizf3muh19f"},{"post_id":"ckqeow9d6003cdbiz2o53dl1z","category_id":"ckqeow9bl0004dbizadfn5hw4","_id":"ckqeow9df0040dbiz6kh0g5w9"},{"post_id":"ckqeow9da003ndbizdbyf349e","category_id":"ckqeow9bl0004dbizadfn5hw4","_id":"ckqeow9di0044dbiz5okffjj6"},{"post_id":"ckqeow9db003rdbizgml74il6","category_id":"ckqeow9bl0004dbizadfn5hw4","_id":"ckqeow9dj0048dbiz1kowatgq"},{"post_id":"ckqeow9d8003jdbizb9716dq7","category_id":"ckqeow9bl0004dbizadfn5hw4","_id":"ckqeow9dl004cdbiz92h3gvof"},{"post_id":"ckqeow9d8003jdbizb9716dq7","category_id":"ckqeow9c70012dbiz04m2aew9","_id":"ckqeow9dm004gdbizhjgjc3y0"},{"post_id":"ckqeow9dc003vdbiz5ot3592k","category_id":"ckqeow9bl0004dbizadfn5hw4","_id":"ckqeow9dn004kdbizak62cl62"},{"post_id":"ckqeow9de003zdbizhk60hses","category_id":"ckqeow9bl0004dbizadfn5hw4","_id":"ckqeow9dp004odbiz4y96dswe"},{"post_id":"ckqeow9dg0043dbiz881n4451","category_id":"ckqeow9bl0004dbizadfn5hw4","_id":"ckqeow9dq004sdbiz9u0x1i6k"},{"post_id":"ckqeow9dj0047dbizfn1tgzdn","category_id":"ckqeow9bl0004dbizadfn5hw4","_id":"ckqeow9dr004wdbiz6dmthuyq"},{"post_id":"ckqeow9dk004bdbizbk9iddrm","category_id":"ckqeow9bl0004dbizadfn5hw4","_id":"ckqeow9ds004zdbiza1ir6mgd"},{"post_id":"ckqeow9dm004fdbiz5qbn54m6","category_id":"ckqeow9bl0004dbizadfn5hw4","_id":"ckqeow9dt0053dbize0gg6zuf"},{"post_id":"ckqeow9dn004jdbizaanea9zj","category_id":"ckqeow9bl0004dbizadfn5hw4","_id":"ckqeow9dt0055dbiz56is7rkn"},{"post_id":"ckqeow9do004ndbiz17npfoj7","category_id":"ckqeow9bl0004dbizadfn5hw4","_id":"ckqeow9du0059dbizhcbg4ara"},{"post_id":"ckqeow9cl001qdbizdvz1az3q","category_id":"ckqeow9c70012dbiz04m2aew9","_id":"ckqeow9du005bdbiz6xrlgwwa"},{"post_id":"ckqeow9cl001qdbizdvz1az3q","category_id":"ckqeow9co001vdbiza4lafy4f","_id":"ckqeow9du005fdbiz5z2n1geq"},{"post_id":"ckqeow9cl001qdbizdvz1az3q","category_id":"ckqeow9do004ldbizgtkcexpi","_id":"ckqeow9dv005hdbiz21it0i21"},{"post_id":"ckqeow9dp004rdbiz7von95lx","category_id":"ckqeow9bl0004dbizadfn5hw4","_id":"ckqeow9dv005ldbiz4a1yf8dg"},{"post_id":"ckqeow9c60010dbiz120zcp66","category_id":"ckqeow9c70012dbiz04m2aew9","_id":"ckqeow9dw005ndbizfbjcdk5g"},{"post_id":"ckqeow9c60010dbiz120zcp66","category_id":"ckqeow9co001vdbiza4lafy4f","_id":"ckqeow9dw005rdbizdhte00di"},{"post_id":"ckqeow9c60010dbiz120zcp66","category_id":"ckqeow9do004ldbizgtkcexpi","_id":"ckqeow9dx005tdbizdvyq90ud"},{"post_id":"ckqeow9dq004vdbiz29px8osp","category_id":"ckqeow9bl0004dbizadfn5hw4","_id":"ckqeow9dz005wdbizgz64bavj"},{"post_id":"ckqeow9dr004ydbiz4sea0o13","category_id":"ckqeow9bl0004dbizadfn5hw4","_id":"ckqeow9dz005zdbiz3ebne1o2"},{"post_id":"ckqeow9cm001tdbiz3lcd0st8","category_id":"ckqeow9c70012dbiz04m2aew9","_id":"ckqeow9e00062dbiz91b65vzh"},{"post_id":"ckqeow9cm001tdbiz3lcd0st8","category_id":"ckqeow9co001vdbiza4lafy4f","_id":"ckqeow9e00065dbizgjx0c1jr"},{"post_id":"ckqeow9cm001tdbiz3lcd0st8","category_id":"ckqeow9do004ldbizgtkcexpi","_id":"ckqeow9e20068dbizaofv4jdg"},{"post_id":"ckqeow9cn001udbizfqfufigo","category_id":"ckqeow9c70012dbiz04m2aew9","_id":"ckqeow9e2006bdbiza56c3a2w"},{"post_id":"ckqeow9cn001udbizfqfufigo","category_id":"ckqeow9co001vdbiza4lafy4f","_id":"ckqeow9e2006edbiz9yb17p3x"},{"post_id":"ckqeow9cn001udbizfqfufigo","category_id":"ckqeow9do004ldbizgtkcexpi","_id":"ckqeow9e3006hdbizgy93eyq3"},{"post_id":"ckqeow9c70015dbiz6k7rg4nz","category_id":"ckqeow9c70012dbiz04m2aew9","_id":"ckqeow9e3006kdbiz22qt0exx"},{"post_id":"ckqeow9c70015dbiz6k7rg4nz","category_id":"ckqeow9co001vdbiza4lafy4f","_id":"ckqeow9e4006ndbiz1lj4hnue"},{"post_id":"ckqeow9c70015dbiz6k7rg4nz","category_id":"ckqeow9do004ldbizgtkcexpi","_id":"ckqeow9e4006qdbiz2mwb2oux"},{"post_id":"ckqeow9cb0018dbizf7qr6j2b","category_id":"ckqeow9c70012dbiz04m2aew9","_id":"ckqeow9e4006sdbiz7f7o1ttx"},{"post_id":"ckqeow9cb0018dbizf7qr6j2b","category_id":"ckqeow9co001vdbiza4lafy4f","_id":"ckqeow9e5006udbiz9mtj7u3m"},{"post_id":"ckqeow9cb0018dbizf7qr6j2b","category_id":"ckqeow9do004ldbizgtkcexpi","_id":"ckqeow9e5006xdbize4wfb9q6"},{"post_id":"ckqeow9cd001bdbiz957o7k5j","category_id":"ckqeow9c70012dbiz04m2aew9","_id":"ckqeow9e60070dbizh60fhj32"},{"post_id":"ckqeow9cd001bdbiz957o7k5j","category_id":"ckqeow9co001vdbiza4lafy4f","_id":"ckqeow9e60072dbiz8rjm9n6q"},{"post_id":"ckqeow9cd001bdbiz957o7k5j","category_id":"ckqeow9do004ldbizgtkcexpi","_id":"ckqeow9e60074dbiz0rgkcoiw"},{"post_id":"ckqeow9d0002rdbiz3zp7gbff","category_id":"ckqeow9dw005qdbizcf159sau","_id":"ckqeow9e70076dbiz6xop5iso"},{"post_id":"ckqeow9ce001cdbiz20ju3nq3","category_id":"ckqeow9c70012dbiz04m2aew9","_id":"ckqeow9e70079dbiz338wgkic"},{"post_id":"ckqeow9ce001cdbiz20ju3nq3","category_id":"ckqeow9co001vdbiza4lafy4f","_id":"ckqeow9e7007adbizcfhg808z"},{"post_id":"ckqeow9ce001cdbiz20ju3nq3","category_id":"ckqeow9do004ldbizgtkcexpi","_id":"ckqeow9e8007cdbizcxx34fno"},{"post_id":"ckqeow9cg001fdbiz5mcz7vin","category_id":"ckqeow9c70012dbiz04m2aew9","_id":"ckqeow9e8007edbizb93h0h7g"},{"post_id":"ckqeow9cg001fdbiz5mcz7vin","category_id":"ckqeow9co001vdbiza4lafy4f","_id":"ckqeow9e8007hdbiz3ahsdsv9"},{"post_id":"ckqeow9cg001fdbiz5mcz7vin","category_id":"ckqeow9do004ldbizgtkcexpi","_id":"ckqeow9e8007idbiz3e2d47g0"},{"post_id":"ckqeow9d7003fdbiz8tk39w3s","category_id":"ckqeow9dw005qdbizcf159sau","_id":"ckqeow9e9007kdbiz5f0ldf7l"},{"post_id":"ckqeow9c3000tdbiz0s6e2wgp","category_id":"ckqeow9c70012dbiz04m2aew9","_id":"ckqeow9e9007mdbiz1rrngpcj"},{"post_id":"ckqeow9c3000tdbiz0s6e2wgp","category_id":"ckqeow9co001vdbiza4lafy4f","_id":"ckqeow9e9007pdbiz6r4w4li9"},{"post_id":"ckqeow9c3000tdbiz0s6e2wgp","category_id":"ckqeow9do004ldbizgtkcexpi","_id":"ckqeow9e9007qdbizaro105f8"},{"post_id":"ckqeow9ch001idbiz4bd5f5xe","category_id":"ckqeow9c70012dbiz04m2aew9","_id":"ckqeow9e9007sdbizdl9n2ujj"},{"post_id":"ckqeow9ch001idbiz4bd5f5xe","category_id":"ckqeow9co001vdbiza4lafy4f","_id":"ckqeow9ea007udbizg9cm51in"},{"post_id":"ckqeow9ch001idbiz4bd5f5xe","category_id":"ckqeow9do004ldbizgtkcexpi","_id":"ckqeow9ea007xdbiz1ebc3fuf"},{"post_id":"ckqeow9ci001kdbizdri58777","category_id":"ckqeow9c70012dbiz04m2aew9","_id":"ckqeow9ea007ydbizh02d46vq"},{"post_id":"ckqeow9ci001kdbizdri58777","category_id":"ckqeow9co001vdbiza4lafy4f","_id":"ckqeow9ea0080dbizbvk7b3a2"},{"post_id":"ckqeow9ci001kdbizdri58777","category_id":"ckqeow9do004ldbizgtkcexpi","_id":"ckqeow9ea0082dbizd53yc4sb"},{"post_id":"ckqeow9c4000xdbizgkmt33v2","category_id":"ckqeow9c70012dbiz04m2aew9","_id":"ckqeow9eb0085dbizb3gy8z0v"},{"post_id":"ckqeow9c4000xdbizgkmt33v2","category_id":"ckqeow9co001vdbiza4lafy4f","_id":"ckqeow9eb0086dbiz8tyl9yee"},{"post_id":"ckqeow9c4000xdbizgkmt33v2","category_id":"ckqeow9do004ldbizgtkcexpi","_id":"ckqeow9eb0088dbizbjys0wf0"},{"post_id":"ckqeow9ck001odbizch14a7j3","category_id":"ckqeow9c70012dbiz04m2aew9","_id":"ckqeow9eb008adbiz2jxzaqep"},{"post_id":"ckqeow9ck001odbizch14a7j3","category_id":"ckqeow9co001vdbiza4lafy4f","_id":"ckqeow9ec008ddbiz5rhh5389"},{"post_id":"ckqeow9ck001odbizch14a7j3","category_id":"ckqeow9do004ldbizgtkcexpi","_id":"ckqeow9ec008edbizhpmf3nkt"}],"PostTag":[{"post_id":"ckqeow9bf0001dbiz6ij16w2u","tag_id":"ckqeow9bn0005dbiz4ut5gn85","_id":"ckqeow9bt000edbizdpqs5h9a"},{"post_id":"ckqeow9bu000gdbiz090ngi8n","tag_id":"ckqeow9bn0005dbiz4ut5gn85","_id":"ckqeow9by000ldbizautm9dft"},{"post_id":"ckqeow9bj0003dbizabqa89bh","tag_id":"ckqeow9bs000ddbizersx9sy8","_id":"ckqeow9c5000zdbiz4v6daz1u"},{"post_id":"ckqeow9bj0003dbizabqa89bh","tag_id":"ckqeow9bx000kdbizcot121mj","_id":"ckqeow9c70013dbiz600j35wd"},{"post_id":"ckqeow9bj0003dbizabqa89bh","tag_id":"ckqeow9c1000qdbiz0sxgexr1","_id":"ckqeow9cb0017dbizdkq1ey1t"},{"post_id":"ckqeow9bn0007dbiz3a8p3pns","tag_id":"ckqeow9bs000ddbizersx9sy8","_id":"ckqeow9ch001hdbizd0b70rbz"},{"post_id":"ckqeow9bn0007dbiz3a8p3pns","tag_id":"ckqeow9bx000kdbizcot121mj","_id":"ckqeow9ci001jdbiz2l668lrb"},{"post_id":"ckqeow9bn0007dbiz3a8p3pns","tag_id":"ckqeow9c1000qdbiz0sxgexr1","_id":"ckqeow9ck001ndbizhqal2gyq"},{"post_id":"ckqeow9bp0009dbizf5jl7i8t","tag_id":"ckqeow9cg001edbiz6rz03x2z","_id":"ckqeow9cl001pdbize0dibxtt"},{"post_id":"ckqeow9cq001ydbizbkfxc3cg","tag_id":"ckqeow9cg001edbiz6rz03x2z","_id":"ckqeow9cs0022dbiz6ea28qiy"},{"post_id":"ckqeow9cr0021dbiz2j6842fr","tag_id":"ckqeow9cg001edbiz6rz03x2z","_id":"ckqeow9ct0027dbiz6jx3gaez"},{"post_id":"ckqeow9cs0023dbizcv1e06wq","tag_id":"ckqeow9cg001edbiz6rz03x2z","_id":"ckqeow9cv002adbizbq4galas"},{"post_id":"ckqeow9cu0028dbiz9wj2fw5a","tag_id":"ckqeow9cg001edbiz6rz03x2z","_id":"ckqeow9cw002fdbiz4axl45zl"},{"post_id":"ckqeow9br000bdbizb3m230a1","tag_id":"ckqeow9cj001mdbiz75n3ane2","_id":"ckqeow9cy002idbiz0ug1cywm"},{"post_id":"ckqeow9br000bdbizb3m230a1","tag_id":"ckqeow9bs000ddbizersx9sy8","_id":"ckqeow9cz002ndbiz0xl06f0v"},{"post_id":"ckqeow9br000bdbizb3m230a1","tag_id":"ckqeow9bx000kdbizcot121mj","_id":"ckqeow9d0002qdbizdo3adren"},{"post_id":"ckqeow9br000bdbizb3m230a1","tag_id":"ckqeow9c1000qdbiz0sxgexr1","_id":"ckqeow9d1002vdbizcdtb3w89"},{"post_id":"ckqeow9br000bdbizb3m230a1","tag_id":"ckqeow9ct0026dbizaj7n0cvj","_id":"ckqeow9d2002ydbizcmgs2cj8"},{"post_id":"ckqeow9cv002bdbizfgzj0x0j","tag_id":"ckqeow9cg001edbiz6rz03x2z","_id":"ckqeow9d40033dbiz1eh80ftv"},{"post_id":"ckqeow9cw002gdbiz3z3229iy","tag_id":"ckqeow9cg001edbiz6rz03x2z","_id":"ckqeow9d50036dbiz8rjzc68y"},{"post_id":"ckqeow9cy002jdbizb3mn0o1k","tag_id":"ckqeow9cg001edbiz6rz03x2z","_id":"ckqeow9d6003adbiz5lcm1jsv"},{"post_id":"ckqeow9cz002odbiz86nufw4d","tag_id":"ckqeow9cg001edbiz6rz03x2z","_id":"ckqeow9d7003edbiz0zpm03wb"},{"post_id":"ckqeow9bv000hdbizbbmugdlk","tag_id":"ckqeow9bs000ddbizersx9sy8","_id":"ckqeow9d8003idbiz38jghibh"},{"post_id":"ckqeow9bv000hdbizbbmugdlk","tag_id":"ckqeow9bx000kdbizcot121mj","_id":"ckqeow9d9003mdbiz7tp6chuu"},{"post_id":"ckqeow9bv000hdbizbbmugdlk","tag_id":"ckqeow9c1000qdbiz0sxgexr1","_id":"ckqeow9db003qdbiz85ld9qi6"},{"post_id":"ckqeow9bv000hdbizbbmugdlk","tag_id":"ckqeow9ct0026dbizaj7n0cvj","_id":"ckqeow9dc003udbize1r51ptb"},{"post_id":"ckqeow9d3002zdbizd6jfhot8","tag_id":"ckqeow9cg001edbiz6rz03x2z","_id":"ckqeow9de003ydbiz3b3g6zip"},{"post_id":"ckqeow9d6003cdbiz2o53dl1z","tag_id":"ckqeow9bn0005dbiz4ut5gn85","_id":"ckqeow9df0042dbiz8e65bz92"},{"post_id":"ckqeow9bz000mdbiz2tib81q5","tag_id":"ckqeow9d30032dbizgzzr7vqt","_id":"ckqeow9dj0046dbizbg8t64r2"},{"post_id":"ckqeow9bz000mdbiz2tib81q5","tag_id":"ckqeow9d6003bdbizhnys63t8","_id":"ckqeow9dk004adbizbl6ydjag"},{"post_id":"ckqeow9d8003jdbizb9716dq7","tag_id":"ckqeow9bn0005dbiz4ut5gn85","_id":"ckqeow9dl004edbiz2g6we7kd"},{"post_id":"ckqeow9da003ndbizdbyf349e","tag_id":"ckqeow9bn0005dbiz4ut5gn85","_id":"ckqeow9dm004hdbiz09kcdc9d"},{"post_id":"ckqeow9db003rdbizgml74il6","tag_id":"ckqeow9bn0005dbiz4ut5gn85","_id":"ckqeow9do004mdbiz4xc397lv"},{"post_id":"ckqeow9dc003vdbiz5ot3592k","tag_id":"ckqeow9bn0005dbiz4ut5gn85","_id":"ckqeow9dp004pdbizbvv0ghyg"},{"post_id":"ckqeow9de003zdbizhk60hses","tag_id":"ckqeow9bn0005dbiz4ut5gn85","_id":"ckqeow9dq004tdbiz8m3hhxbu"},{"post_id":"ckqeow9dg0043dbiz881n4451","tag_id":"ckqeow9bn0005dbiz4ut5gn85","_id":"ckqeow9dr004xdbiz4uid9q1h"},{"post_id":"ckqeow9dj0047dbizfn1tgzdn","tag_id":"ckqeow9bn0005dbiz4ut5gn85","_id":"ckqeow9ds0051dbiz0gl0curq"},{"post_id":"ckqeow9c0000ndbiz59u23v0n","tag_id":"ckqeow9d6003bdbizhnys63t8","_id":"ckqeow9dt0054dbizgvej1o91"},{"post_id":"ckqeow9c0000ndbiz59u23v0n","tag_id":"ckqeow9dc003tdbiz1h0dcxy5","_id":"ckqeow9dt0057dbiz8jo7a4lf"},{"post_id":"ckqeow9c0000ndbiz59u23v0n","tag_id":"ckqeow9df0041dbiz1sg8bsm3","_id":"ckqeow9du005adbizfagnh8l0"},{"post_id":"ckqeow9c0000ndbiz59u23v0n","tag_id":"ckqeow9dk0049dbiz6lp50u59","_id":"ckqeow9du005ddbizbw8x5r2m"},{"post_id":"ckqeow9dn004jdbizaanea9zj","tag_id":"ckqeow9bn0005dbiz4ut5gn85","_id":"ckqeow9dv005gdbiz33fv35fv"},{"post_id":"ckqeow9c2000rdbizet81d3io","tag_id":"ckqeow9cg001edbiz6rz03x2z","_id":"ckqeow9dv005jdbiz82mc1ri2"},{"post_id":"ckqeow9do004ndbiz17npfoj7","tag_id":"ckqeow9bn0005dbiz4ut5gn85","_id":"ckqeow9dw005mdbiza6yv3nq5"},{"post_id":"ckqeow9dp004rdbiz7von95lx","tag_id":"ckqeow9bn0005dbiz4ut5gn85","_id":"ckqeow9dw005pdbiz2dkme60b"},{"post_id":"ckqeow9dq004vdbiz29px8osp","tag_id":"ckqeow9bn0005dbiz4ut5gn85","_id":"ckqeow9dx005sdbiz0hxce1f3"},{"post_id":"ckqeow9dr004ydbiz4sea0o13","tag_id":"ckqeow9bn0005dbiz4ut5gn85","_id":"ckqeow9dz005vdbizf3mqhkif"},{"post_id":"ckqeow9c3000tdbiz0s6e2wgp","tag_id":"ckqeow9dp004qdbizh6lh2f18","_id":"ckqeow9dz005ydbiz185p6mlc"},{"post_id":"ckqeow9c3000tdbiz0s6e2wgp","tag_id":"ckqeow9ds0050dbiz1qewhbvl","_id":"ckqeow9dz0061dbizd0vq300p"},{"post_id":"ckqeow9c4000xdbizgkmt33v2","tag_id":"ckqeow9dp004qdbizh6lh2f18","_id":"ckqeow9e00064dbiz3ir4c60o"},{"post_id":"ckqeow9c4000xdbizgkmt33v2","tag_id":"ckqeow9ds0050dbiz1qewhbvl","_id":"ckqeow9e10067dbiz09v54ca7"},{"post_id":"ckqeow9c60010dbiz120zcp66","tag_id":"ckqeow9dp004qdbizh6lh2f18","_id":"ckqeow9e2006adbiz1npn22p5"},{"post_id":"ckqeow9c60010dbiz120zcp66","tag_id":"ckqeow9ds0050dbiz1qewhbvl","_id":"ckqeow9e2006ddbiz3opzd924"},{"post_id":"ckqeow9c70015dbiz6k7rg4nz","tag_id":"ckqeow9dp004qdbizh6lh2f18","_id":"ckqeow9e3006gdbiz1kx442kz"},{"post_id":"ckqeow9c70015dbiz6k7rg4nz","tag_id":"ckqeow9ds0050dbiz1qewhbvl","_id":"ckqeow9e3006jdbiz478u7raz"},{"post_id":"ckqeow9cb0018dbizf7qr6j2b","tag_id":"ckqeow9dp004qdbizh6lh2f18","_id":"ckqeow9e4006mdbiz1w6qd15t"},{"post_id":"ckqeow9cb0018dbizf7qr6j2b","tag_id":"ckqeow9ds0050dbiz1qewhbvl","_id":"ckqeow9e4006pdbiz3ev61aee"},{"post_id":"ckqeow9cd001bdbiz957o7k5j","tag_id":"ckqeow9dp004qdbizh6lh2f18","_id":"ckqeow9e5006wdbizevppeynp"},{"post_id":"ckqeow9cd001bdbiz957o7k5j","tag_id":"ckqeow9ds0050dbiz1qewhbvl","_id":"ckqeow9e5006ydbizb43x2osx"},{"post_id":"ckqeow9ce001cdbiz20ju3nq3","tag_id":"ckqeow9dp004qdbizh6lh2f18","_id":"ckqeow9e60075dbizg80k6dqu"},{"post_id":"ckqeow9ce001cdbiz20ju3nq3","tag_id":"ckqeow9ds0050dbiz1qewhbvl","_id":"ckqeow9e70077dbizdps9h64s"},{"post_id":"ckqeow9cg001fdbiz5mcz7vin","tag_id":"ckqeow9dp004qdbizh6lh2f18","_id":"ckqeow9e8007ddbiz3h3ugnz4"},{"post_id":"ckqeow9cg001fdbiz5mcz7vin","tag_id":"ckqeow9ds0050dbiz1qewhbvl","_id":"ckqeow9e8007fdbizcvgpcnub"},{"post_id":"ckqeow9ch001idbiz4bd5f5xe","tag_id":"ckqeow9dp004qdbizh6lh2f18","_id":"ckqeow9e9007ldbiz3g1acfuu"},{"post_id":"ckqeow9ch001idbiz4bd5f5xe","tag_id":"ckqeow9ds0050dbiz1qewhbvl","_id":"ckqeow9e9007ndbiz8yy11jr9"},{"post_id":"ckqeow9ci001kdbizdri58777","tag_id":"ckqeow9dp004qdbizh6lh2f18","_id":"ckqeow9ea007tdbiz757066r0"},{"post_id":"ckqeow9ci001kdbizdri58777","tag_id":"ckqeow9ds0050dbiz1qewhbvl","_id":"ckqeow9ea007vdbiz48179vni"},{"post_id":"ckqeow9ck001odbizch14a7j3","tag_id":"ckqeow9dp004qdbizh6lh2f18","_id":"ckqeow9ea0081dbizfnqa1l2y"},{"post_id":"ckqeow9ck001odbizch14a7j3","tag_id":"ckqeow9ds0050dbiz1qewhbvl","_id":"ckqeow9eb0083dbizagnn3wzw"},{"post_id":"ckqeow9cl001qdbizdvz1az3q","tag_id":"ckqeow9dp004qdbizh6lh2f18","_id":"ckqeow9eb0089dbiz4xjo3qt7"},{"post_id":"ckqeow9cl001qdbizdvz1az3q","tag_id":"ckqeow9ds0050dbiz1qewhbvl","_id":"ckqeow9eb008bdbizgbv9h0gy"},{"post_id":"ckqeow9cm001tdbiz3lcd0st8","tag_id":"ckqeow9dp004qdbizh6lh2f18","_id":"ckqeow9ec008gdbiz60trane3"},{"post_id":"ckqeow9cm001tdbiz3lcd0st8","tag_id":"ckqeow9ds0050dbiz1qewhbvl","_id":"ckqeow9ec008hdbizb1lgb0lw"},{"post_id":"ckqeow9cn001udbizfqfufigo","tag_id":"ckqeow9dp004qdbizh6lh2f18","_id":"ckqeow9ed008kdbiz3h9ob7mq"},{"post_id":"ckqeow9cn001udbizfqfufigo","tag_id":"ckqeow9ds0050dbiz1qewhbvl","_id":"ckqeow9ed008ldbizblcdbc4z"},{"post_id":"ckqeow9cp001xdbizdiumauc6","tag_id":"ckqeow9d6003bdbizhnys63t8","_id":"ckqeow9ed008odbizhs3shepg"},{"post_id":"ckqeow9cp001xdbizdiumauc6","tag_id":"ckqeow9ed008mdbizftqq9c9l","_id":"ckqeow9ee008pdbiz8fdy5pq0"},{"post_id":"ckqeow9d0002rdbiz3zp7gbff","tag_id":"ckqeow9ed008ndbiz15aw94y5","_id":"ckqeow9ee008sdbizd5ic8eb8"},{"post_id":"ckqeow9d0002rdbiz3zp7gbff","tag_id":"ckqeow9ee008qdbiz3mpec0or","_id":"ckqeow9ee008tdbiz4qzgh0gl"},{"post_id":"ckqeow9d2002wdbiz0l1e2taw","tag_id":"ckqeow9cg001edbiz6rz03x2z","_id":"ckqeow9ef008wdbizhtlh74ad"},{"post_id":"ckqeow9d2002wdbiz0l1e2taw","tag_id":"ckqeow9ee008rdbiz03oid6iq","_id":"ckqeow9ef008xdbiz11498aau"},{"post_id":"ckqeow9d2002wdbiz0l1e2taw","tag_id":"ckqeow9ee008udbizfdy80o92","_id":"ckqeow9ef008zdbiz6a6y9auu"},{"post_id":"ckqeow9d40034dbizgkgz85b1","tag_id":"ckqeow9dp004qdbizh6lh2f18","_id":"ckqeow9ef0090dbiz7l3ddzzl"},{"post_id":"ckqeow9d40034dbizgkgz85b1","tag_id":"ckqeow9cj001mdbiz75n3ane2","_id":"ckqeow9ef0092dbiz4q4u1g7j"},{"post_id":"ckqeow9d50037dbizbt3u2mbt","tag_id":"ckqeow9dc003tdbiz1h0dcxy5","_id":"ckqeow9eg0094dbizhx9n7l19"},{"post_id":"ckqeow9d50037dbizbt3u2mbt","tag_id":"ckqeow9ef0091dbiz6a6oas1m","_id":"ckqeow9eg0095dbiz24dvhu5x"},{"post_id":"ckqeow9d7003fdbiz8tk39w3s","tag_id":"ckqeow9ed008ndbiz15aw94y5","_id":"ckqeow9eh0099dbizf6671d2n"},{"post_id":"ckqeow9d7003fdbiz8tk39w3s","tag_id":"ckqeow9ee008qdbiz3mpec0or","_id":"ckqeow9eh009adbiz63qmca1m"},{"post_id":"ckqeow9d7003fdbiz8tk39w3s","tag_id":"ckqeow9eg0097dbiz8rg7fyhf","_id":"ckqeow9eh009cdbizh0vy69mn"},{"post_id":"ckqeow9dk004bdbizbk9iddrm","tag_id":"ckqeow9bn0005dbiz4ut5gn85","_id":"ckqeow9eh009edbizhq96hhyp"},{"post_id":"ckqeow9dk004bdbizbk9iddrm","tag_id":"ckqeow9eg0098dbizetdq3gec","_id":"ckqeow9eh009fdbizbflj1u22"},{"post_id":"ckqeow9dk004bdbizbk9iddrm","tag_id":"ckqeow9eh009bdbizbgtchnyu","_id":"ckqeow9ei009gdbiz5s1p1dvt"},{"post_id":"ckqeow9dm004fdbiz5qbn54m6","tag_id":"ckqeow9bn0005dbiz4ut5gn85","_id":"ckqeow9ei009hdbizf5bzh805"},{"post_id":"ckqeow9dm004fdbiz5qbn54m6","tag_id":"ckqeow9eh009bdbizbgtchnyu","_id":"ckqeow9ei009idbizgw61bsbv"}],"Tag":[{"name":"Vim","_id":"ckqeow9bn0005dbiz4ut5gn85"},{"name":"Vue","_id":"ckqeow9bs000ddbizersx9sy8"},{"name":"Vite","_id":"ckqeow9bx000kdbizcot121mj"},{"name":"Typescript","_id":"ckqeow9c1000qdbiz0sxgexr1"},{"name":"Gentoo","_id":"ckqeow9cg001edbiz6rz03x2z"},{"name":"Tauri","_id":"ckqeow9cj001mdbiz75n3ane2"},{"name":"Less","_id":"ckqeow9ct0026dbizaj7n0cvj"},{"name":"MSP430G2","_id":"ckqeow9d30032dbizgzzr7vqt"},{"name":"Linux","_id":"ckqeow9d6003bdbizhnys63t8"},{"name":"FPGA","_id":"ckqeow9dc003tdbiz1h0dcxy5"},{"name":"Systemverilog","_id":"ckqeow9df0041dbiz1sg8bsm3"},{"name":"verilator","_id":"ckqeow9dk0049dbiz6lp50u59"},{"name":"Rust","_id":"ckqeow9dp004qdbizh6lh2f18"},{"name":"Stm32","_id":"ckqeow9ds0050dbiz1qewhbvl"},{"name":"Stm8","_id":"ckqeow9ed008mdbizftqq9c9l"},{"name":"Raspberry Pi","_id":"ckqeow9ed008ndbiz15aw94y5"},{"name":"Manjaro","_id":"ckqeow9ee008qdbiz3mpec0or"},{"name":"Java","_id":"ckqeow9ee008rdbiz03oid6iq"},{"name":"Oracle","_id":"ckqeow9ee008udbizfdy80o92"},{"name":"Arduino","_id":"ckqeow9ef0091dbiz6a6oas1m"},{"name":"Realvnc","_id":"ckqeow9eg0097dbiz8rg7fyhf"},{"name":"Latex","_id":"ckqeow9eg0098dbizetdq3gec"},{"name":"Markdown","_id":"ckqeow9eh009bdbizbgtchnyu"}]}}